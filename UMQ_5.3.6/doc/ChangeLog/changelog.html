<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>UMS / UMP / UMQ Change Log</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<script type="text/javascript" src="../Search/highlight.js"></script>
</head>
<body class="ARTICLE" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="ARTICLE">
<div class="TITLEPAGE">
<h1 class="TITLE"><a id="AEN2" name="AEN2">UMS / UMP / UMQ Change Log</a></h1>

<h2 class="SUBTITLE"><span class="TRADEMARK">Informatica</span>&reg; Corporation</h2>

<p class="COPYRIGHT">Copyright &copy; 2004 - 2014 Informatica Corporation. All rights
reserved.</p>

<p class="PUBDATE">March 2014<br />
</p>

<div class="LEGALNOTICE"><a id="INFACOPYRIGHT" name="INFACOPYRIGHT"></a>
<p>Informatica Ultra Messaging</p>

<p>Version 5.3</p>

<p>March 2014</p>

<p>Copyright (c) 1998-2014 Informatica Corporation. All rights reserved.</p>

<p>This software and documentation contain proprietary information of Informatica
Corporation and are provided under a license agreement containing restrictions on use and
disclosure and are also protected by copyright law. Reverse engineering of the software
is prohibited. No part of this document may be reproduced or transmitted in any form, by
any means (electronic, photocopying, recording or otherwise) without prior consent of
Informatica Corporation. This Software may be protected by U.S. and/or international
Patents and other Patents Pending.</p>

<p>Use, duplication, or disclosure of the Software by the U.S. Government is subject to
the restrictions set forth in the applicable software license agreement and as provided
in DFARS 227.7202-1(a) and 227.7702-3(a) (1995), DFARS 252.227-7013(c)(1)(ii) (OCT 1988),
FAR 12.212(a) (1995), FAR 52.227-19, or FAR 52.227-14 (ALT III), as applicable.</p>

<p>The information in this product or documentation is subject to change without notice.
If you find any problems in this product or documentation, please report them to us in
writing.</p>

<p>Informatica, Informatica Platform, Informatica Data Services, PowerCenter,
PowerCenterRT, PowerCenter Connect, PowerCenter Data Analyzer, PowerExchange, PowerMart,
Metadata Manager, Informatica Data Quality, Informatica Data Explorer, Informatica B2B
Data Transformation, Informatica B2B Data Exchange Informatica On Demand, Informatica
Identity Resolution, Informatica Application Information Lifecycle Management,
Informatica Complex Event Processing, Ultra Messaging and Informatica Master Data
Management are trademarks or registered trademarks of Informatica Corporation in the
United States and in jurisdictions throughout the world. All other company and product
names may be trade names or trademarks of their respective owners.</p>

<p>Portions of this software and/or documentation are subject to copyright held by third
parties, including without limitation: Copyright DataDirect Technologies. All rights
reserved. Copyright (c) Sun Microsystems. All rights reserved. Copyright (c) RSA Security
Inc. All Rights Reserved. Copyright (c) Ordinal Technology Corp. All rights
reserved.Copyright (c) Aandacht c.v. All rights reserved. Copyright Genivia, Inc. All
rights reserved. Copyright Isomorphic Software. All rights reserved. Copyright (c) Meta
Integration Technology, Inc. All rights reserved. Copyright (c) Intalio. All rights
reserved. Copyright (c) Oracle. All rights reserved. Copyright (c) Adobe Systems
Incorporated. All rights reserved. Copyright (c) DataArt, Inc. All rights reserved.
Copyright (c) ComponentSource. All rights reserved. Copyright (c) Microsoft Corporation.
All rights reserved. Copyright (c) Rogue Wave Software, Inc. All rights reserved.
Copyright (c) Teradata Corporation. All rights reserved. Copyright (c) Yahoo! Inc. All
rights reserved. Copyright (c) Glyph &amp; Cog, LLC. All rights reserved. Copyright (c)
Thinkmap, Inc. All rights reserved. Copyright (c) Clearpace Software Limited. All rights
reserved. Copyright (c) Information Builders, Inc. All rights reserved. Copyright (c) OSS
Nokalva, Inc. All rights reserved. Copyright Edifecs, Inc. All rights reserved. Copyright
Cleo Communications, Inc. All rights reserved. Copyright (c) International Organization
for Standardization 1986. All rights reserved. Copyright (c) ej-technologies GmbH. All
rights reserved. Copyright (c) Jaspersoft Corporation. All rights reserved. Copyright (c)
is International Business Machines Corporation. All rights reserved. Copyright (c) yWorks
GmbH. All rights reserved. Copyright (c) Lucent Technologies. All rights reserved.
Copyright (c) University of Toronto. All rights reserved. Copyright (c) Daniel Veillard.
All rights reserved. Copyright (c) Unicode, Inc. Copyright IBM Corp. All rights reserved.
Copyright (c) MicroQuill Software Publishing, Inc. All rights reserved. Copyright (c)
PassMark Software Pty Ltd. All rights reserved. Copyright (c) LogiXML, Inc. All rights
reserved. Copyright (c) 2003-2010 Lorenzi Davide, All rights reserved. Copyright (c) Red
Hat, Inc. All rights reserved. Copyright (c) The Board of Trustees of the Leland Stanford
Junior University. All rights reserved. Copyright (c) EMC Corporation. All rights
reserved. Copyright (c) Flexera Software. All rights reserved. Copyright (c) Jinfonet
Software. All rights reserved. Copyright (c) Apple Inc. All rights reserved. Copyright
(c) Telerik Inc. All rights reserved.</p>

<p>This product includes software developed by the Apache Software Foundation
(http://www.apache.org/), and/or other software which is licensed under various versions
of the Apache License (the "License"). You may obtain a copy of these Licenses at
http://www.apache.org/licenses/. Unless required by applicable law or agreed to in
writing, software distributed under these Licenses is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the Licenses
for the specific language governing permissions and limitations under the Licenses.</p>

<p>This product includes software which was developed by Mozilla
(http://www.mozilla.org/), software copyright The JBoss Group, LLC, all rights reserved;
software copyright (c) 1999-2006 by Bruno Lowagie and Paulo Soares and other software
which is licensed under various versions of the GNU Lesser General Public License
Agreement, which may be found at http:// www.gnu.org/licenses/lgpl.html. The materials
are provided free of charge by Informatica, "as-is", without warranty of any kind, either
express or implied, including but not limited to the implied warranties of
merchantability and fitness for a particular purpose.</p>

<p>The product includes ACE(TM) and TAO(TM) software copyrighted by Douglas C. Schmidt
and his research group at Washington University, University of California, Irvine, and
Vanderbilt University, Copyright (c) 1993-2006, all rights reserved.</p>

<p>This product includes software developed by the OpenSSL Project for use in the OpenSSL
Toolkit (copyright The OpenSSL Project. All Rights Reserved) and redistribution of this
software is subject to terms available at http://www.openssl.org and
http://www.openssl.org/source/license.html.</p>

<p>This product includes Curl software which is Copyright 1996-2007, Daniel Stenberg,
&lt;daniel@haxx.se&gt;. All Rights Reserved. Permissions and limitations regarding this
software are subject to terms available at http://curl.haxx.se/docs/copyright.html.
Permission to use, copy, modify, and distribute this software for any purpose with or
without fee is hereby granted, provided that the above copyright notice and this
permission notice appear in all copies.</p>

<p>The product includes software copyright 2001-2005 (c) MetaStuff, Ltd. All Rights
Reserved. Permissions and limitations regarding this software are subject to terms
available at http://www.dom4j.org/ license.html.</p>

<p>The product includes software copyright (c) 2004-2007, The Dojo Foundation. All Rights
Reserved. Permissions and limitations regarding this software are subject to terms
available at http://dojotoolkit.org/license.</p>

<p>This product includes ICU software which is copyright International Business Machines
Corporation and others. All rights reserved. Permissions and limitations regarding this
software are subject to terms available at
http://source.icu-project.org/repos/icu/icu/trunk/license.html.</p>

<p>This product includes software copyright (c) 1996-2006 Per Bothner. All rights
reserved. Your right to use such materials is set forth in the license which may be found
at http:// www.gnu.org/software/ kawa/Software-License.html.</p>

<p>This product includes OSSP UUID software which is Copyright (c) 2002 Ralf S.
Engelschall, Copyright (c) 2002 The OSSP Project Copyright (c) 2002 Cable &amp; Wireless
Deutschland. Permissions and limitations regarding this software are subject to terms
available at http://www.opensource.org/licenses/mit-license.php.</p>

<p>This product includes software developed by Boost (http://www.boost.org/) or under the
Boost software license. Permissions and limitations regarding this software are subject
to terms available at http:/ /www.boost.org/LICENSE_1_0.txt.</p>

<p>This product includes software copyright (c) 1997-2007 University of Cambridge.
Permissions and limitations regarding this software are subject to terms available at
http:// www.pcre.org/license.txt.</p>

<p>This product includes software copyright (c) 2007 The Eclipse Foundation. All Rights
Reserved. Permissions and limitations regarding this software are subject to terms
available at http:// www.eclipse.org/org/documents/epl-v10.php.</p>

<p>This product includes software licensed under the terms at
http://www.tcl.tk/software/tcltk/license.html,
http://www.bosrup.com/web/overlib/?License, http://www.stlport.org/doc/ license.html,
http:// asm.ow2.org/license.html, http://www.cryptix.org/LICENSE.TXT,
http://hsqldb.org/web/hsqlLicense.html, http://httpunit.sourceforge.net/doc/
license.html, http://jung.sourceforge.net/license.txt ,
http://www.gzip.org/zlib/zlib_license.html,
http://www.openldap.org/software/release/license.html, http://www.libssh2.org,
http://slf4j.org/license.html, http://www.sente.ch/software/OpenSourceLicense.html,
http://fusesource.com/downloads/license-agreements/fuse-message-broker-v-5-3-
license-agreement; http://antlr.org/license.html; http://aopalliance.sourceforge.net/;
http://www.bouncycastle.org/licence.html; http://www.jgraph.com/jgraphdownload.html;
http://www.jcraft.com/jsch/LICENSE.txt; http://jotm.objectweb.org/bsd_license.html; .
http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231;
http://www.slf4j.org/license.html; http://nanoxml.sourceforge.net/orig/copyright.html;
http://www.json.org/license.html; http://forge.ow2.org/projects/javaservice/,
http://www.postgresql.org/about/licence.html, http://www.sqlite.org/copyright.html,
http://www.tcl.tk/software/tcltk/license.html, http://www.jaxen.org/faq.html,
http://www.jdom.org/docs/faq.html, http://www.slf4j.org/license.html;
http://www.iodbc.org/dataspace/iodbc/wiki/iODBC/License;
http://www.keplerproject.org/md5/license.html;
http://www.toedter.com/en/jcalendar/license.html;
http://www.edankert.com/bounce/index.html; http://www.net-snmp.org/about/license.html;
http://www.openmdx.org/#FAQ; http://www.php.net/license/3_01.txt;
http://srp.stanford.edu/license.txt; http://www.schneier.com/blowfish.html;
http://www.jmock.org/license.html; http://xsom.java.net; and
http://benalman.com/about/license/;
https://github.com/CreateJS/EaselJS/blob/master/src/easeljs/display/Bitmap.js;
http://www.h2database.com/html/license.html#summary; and
http://jsoncpp.sourceforge.net/LICENSE.</p>

<p>This product includes software licensed under the Academic Free License
http://www.opensource.org/licenses/afl-3.0.php), the Common Development and Distribution
License (http://www.opensource.org/licenses/cddl1.php) the Common Public License
(http://www.opensource.org/licenses/cpl1.0.php), the Sun Binary Code License Agreement
Supplemental License Terms, the BSD License (http://
www.opensource.org/licenses/bsd-license.php) the MIT License
(http://www.opensource.org/licenses/mit-license.php) and the Artistic License
(http://www.opensource.org/licenses/artistic-license-1.0).</p>

<p>This product includes software copyright (c) 2003-2006 Joe WaInes, 2006-2007 XStream
Committers. All rights reserved. Permissions and limitations regarding this software are
subject to terms available at http://xstream.codehaus.org/license.html. This product
includes software developed by the Indiana University Extreme! Lab. For further
information please visit http://www.extreme.indiana.edu/.</p>

<p>This Software is protected by U.S. Patent Numbers 5,794,246; 6,014,670; 6,016,501;
6,029,178; 6,032,158; 6,035,307; 6,044,374; 6,092,086; 6,208,990; 6,339,775; 6,640,226;
6,789,096; 6,820,077; 6,823,373; 6,850,947; 6,895,471; 7,117,215; 7,162,643; 7,243,110,
7,254,590; 7,281,001; 7,421,458; 7,496,588; 7,523,121; 7,584,422; 7676516; 7,720,842;
7,721,270; and 7,774,791, international Patents and other Patents Pending.</p>

<p>DISCLAIMER: Informatica Corporation provides this documentation "as is" without
warranty of any kind, either express or implied, including, but not limited to, the
implied warranties of noninfringement, merchantability, or use for a particular purpose.
Informatica Corporation does not warrant that this software or documentation is error
free. The information provided in this software or documentation may include technical
inaccuracies or typographical errors. The information in this software and documentation
is subject to change at any time without notice.</p>

<p>NOTICES</p>

<p>This Informatica product (the "Software") includes certain drivers (the "DataDirect
Drivers") from DataDirect Technologies, an operating company of Progress Software
Corporation ("DataDirect") which are subject to the following terms and conditions:</p>

<p>1. THE DATADIRECT DRIVERS ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER
EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.</p>

<p>2. IN NO EVENT WILL DATADIRECT OR ITS THIRD PARTY SUPPLIERS BE LIABLE TO THE END-USER
CUSTOMER FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR OTHER DAMAGES
ARISING OUT OF THE USE OF THE ODBC DRIVERS, WHETHER OR NOT INFORMED OF THE POSSIBILITIES
OF DAMAGES IN ADVANCE. THESE LIMITATIONS APPLY TO ALL CAUSES OF ACTION, INCLUDING,
WITHOUT LIMITATION, BREACH OF CONTRACT, BREACH OF WARRANTY, NEGLIGENCE, STRICT LIABILITY,
MISREPRESENTATION AND OTHER TORTS.</p>
</div>

<div class="DOCFORAMTNAVI">[ <a href="./index.html">Split HTML</a> / <a
href="changelog.html">Single HTML</a> / <a href="changelog.pdf">Single PDF</a> ]</div>

<hr />
</div>

<div class="TOC">
<dl>
<dt><b>Table of Contents</b></dt>

<dt>1. <a href="#INTRODUCTION">Introduction</a></dt>

<dt>2. <a href="#SECUMS5.3.6-UMP5.3.6-UMQ5.3.6">Release UMS 5.3.6 / UMP 5.3.6 / UMQ 5.3.6
- March - 2014</a></dt>

<dt>3. <a href="#SECUMS5.3.5-UMP5.3.5-UMQ5.3.5">Release UMS 5.3.5 / UMP 5.3.5 / UMQ 5.3.5
- November - 2013</a></dt>

<dt>4. <a href="#SECUMS5.3.4-UMP5.3.4-UMQ5.3.4">Release UMS 5.3.4 / UMP 5.3.4 / UMQ 5.3.4
- July - 2013</a></dt>

<dt>5. <a href="#SECUMS5.3.3-UMP5.3.3-UMQ5.3.3">Release UMS 5.3.3 / UMP 5.3.3 / UMQ 5.3.3
- March - 2013</a></dt>

<dt>6. <a href="#HP-UMP5.3.2">Release UMS 5.3.2 / UMP 5.3.2 - November - 2012</a></dt>

<dt>7. <a href="#SECUMS5.3.1-UMP5.3.1-UMQ5.3.1">Release UMS 5.3.1 / UMP 5.3.1 / UMQ 5.3.1
- September - 2012</a></dt>

<dt>8. <a href="#SECUMS5.3-UMP5.3-UMQ5.3">Release UMS 5.3 / UMP 5.3 / UMQ 5.3 - June -
2012</a></dt>

<dt>9. <a href="#SECUMS5.2.2-UMP5.2.2-UMQ5.2.2">Release UMS 5.2.2 / UMP 5.2.2 / UMQ 5.2.2
- March - 2012</a></dt>

<dt>10. <a href="#SECUMS5.2.1-UMP5.2.1-UMQ5.2.1">Release UMS 5.2.1 / UMP 5.2.1 / UMQ
5.2.1 - February 2012</a></dt>

<dt>11. <a href="#SECLBM4.2.11-UME3.2.11-UMQ2.1.11">Release LBM 4.2.11 / UME 3.2.11 / UMQ
2.1.11 - February 2012</a></dt>

<dt>12. <a href="#SECUMS5.2-UMP5.2-UMQ5.2">Release UMS 5.2 / UMP 5.2 / UMQ 5.2 - December
2011</a></dt>

<dt>13. <a href="#SECUMS5.1.1-UMP5.1.1-UMQ5.1.1">Release UMS 5.1.1 / UMP 5.1.1 / UMQ
5.1.1 - November 2011</a></dt>

<dt>14. <a href="#SECLBM4.2.10-UME3.2.10-UMQ2.1.10">Release LBM 4.2.10 / UME 3.2.10 / UMQ
2.1.10 - November 2011</a></dt>

<dt>15. <a href="#SECUMS5.1-UMP5.1-UMQ5.1">Release UMS 5.1 / UMP 5.1 / UMQ 5.1 - November
2011</a></dt>

<dt>16. <a href="#SECLBM4.2.9-UME3.2.9-UMQ2.1.9">Release LBM 4.2.9 / UME 3.2.9 / UMQ
2.1.9 - November 2011</a></dt>

<dt>17. <a href="#SECUMS5.0.1-UMP5.0.1-UMQ5.0.1">Release UMS 5.0.1 / UMP 5.0.1 / UMQ
5.0.1 - September 2011</a></dt>

<dt>18. <a href="#SECUMS5.0-UMP5.0-UMQ5.0">Release UMS 5.0 / UMP 5.0 / UMQ 5.0 - August
2011</a></dt>

<dt>19. <a href="#SECLBM4.2.8-UME3.2.8-UMQ2.1.8">Release LBM 4.2.8 / UME 3.2.8 / UMQ
2.1.8 - July 2011</a></dt>

<dt>20. <a href="#SECLBM4.2.7-UME3.2.7-UMQ2.1.7">Release LBM 4.2.7 / UME 3.2.7 / UMQ
2.1.7 - July 2011</a></dt>

<dt>21. <a href="#SECLBM4.2.6-UME3.2.6-UMQ2.1.6">Release LBM 4.2.6 / UME 3.2.6 / UMQ
2.1.6 - June 2011</a></dt>

<dt>22. <a href="#SECLBM4.2.5-UME3.2.5-UMQ2.1.5">Release LBM 4.2.5 / UME 3.2.5 / UMQ
2.1.5 - June 2011</a></dt>

<dt>23. <a href="#SECLBM4.2.4-UME3.2.4-UMQ2.1.4">Release LBM 4.2.4 / UME 3.2.4 / UMQ
2.1.4 - May 2011</a></dt>

<dt>24. <a href="#SECLBM4.2.3-UME3.2.3-UMQ2.1.3">Release LBM 4.2.3 / UME 3.2.3 / UMQ
2.1.3 - April 2011</a></dt>

<dt>25. <a href="#SECLBM4.2.2-UME3.2.2-UMQ2.1.2">Release LBM 4.2.2 / UME 3.2.2 / UMQ
2.1.2 - April 2011</a></dt>

<dt>26. <a href="#SECLBM4.2.1-UME3.2.1-UMQ2.1.1">Release LBM 4.2.1 / UME 3.2.1 / UMQ
2.1.1 - April 2011</a></dt>

<dt>27. <a href="#SECLBM4.2-UME3.2-UMQ2.1">Release LBM 4.2 / UME 3.2 / UMQ 2.1 - March
2011</a></dt>

<dt>28. <a href="#SECLBM4.1.3-UME3.1.3-UMQ2.0.1">Release LBM 4.1.3 / UME 3.1.3 / UMQ
2.0.1 - November 2010</a></dt>

<dt>29. <a href="#SECLBM4.1.2-UME3.1.2-UMQ2.0">Release LBM 4.1.2 / UME 3.1.2 / UMQ 2.0 -
November 2010</a></dt>

<dt>30. <a href="#SECUME3.0.2">Release UME 3.0.2 - November 2010</a></dt>

<dt>31. <a href="#SECLBM4.1.1-UME3.1.1-UMQ1.1.1">Release LBM 4.1.1 / UME 3.1.1 / UMQ
1.1.1 - October 2010</a></dt>

<dt>32. <a href="#SECLBM4.1-UME3.1-UMQ1.1">Release LBM 4.1 / UME 3.1 / UMQ 1.1 - August
2010</a></dt>

<dt>33. <a href="#SECLBM4.0.1">Release LBM 4.0.1 - June 2010</a></dt>

<dt>34. <a href="#SECLBM3.6.6-UME3.0.1">Release LBM 3.6.6 / UME 3.0.1 - August
2010</a></dt>

<dt>35. <a href="#SECLBM3.6.5">Release LBM 3.6.5 - May 2010</a></dt>

<dt>36. <a href="#SECLBM4.0">Release LBM 4.0 - May 2010</a></dt>

<dt>37. <a href="#SECLBM3.6.3-UME3.0.1-UMQ1.0">Release LBM 3.6.3 / UME 3.0.1 / UMQ 1.0 -
April 2010</a></dt>

<dt>38. <a href="#SECLBM3.6.2-UME3.0">Release LBM 3.6.2 / UME 3.0 - February
2010</a></dt>

<dt>39. <a href="#SECLBM3.6.1">Release LBM 3.6.1 - February 2010</a></dt>

<dt>40. <a href="#SECLBM3.6-UME2.3">Release LBM 3.6 - December 2009</a></dt>

<dt>41. <a href="#UME2.2.4">Release UME 2.2.4 - November 2009</a></dt>

<dt>42. <a href="#SECLBM3.5.3-UME2.2.3">Release LBM 3.5.3 / UME 2.2.3 - November
2009</a></dt>

<dt>43. <a href="#SECLBM3.6EA2-UME3.0EA2">Release LBM 3.6.ea2 / UME 3.0ea2 - September
2009</a></dt>

<dt>44. <a href="#SECLBM3.5.2-UME2.2.2">Release LBM 3.5.2 / UME 2.2.2 - August
2009</a></dt>

<dt>45. <a href="#SECLBM3.5.1-UME2.2.1">Release LBM 3.5.1 / UME 2.2.1 - July
2009</a></dt>

<dt>46. <a href="#SECLBM3.5-UME2.2">Release LBM 3.5 / UME 2.2 - July 2009</a></dt>

<dt>47. <a href="#SECLBM3.6EA1-UME3.0EA1">Release LBM 3.6.ea1 / UME 3.0ea1 - July
2009</a></dt>

<dt>48. <a href="#SECLBM3.5EA3">Release LBM 3.5.ea3 / UME 2.2ea1 - May 2009</a></dt>

<dt>49. <a href="#SECLBM3.5EA2">Release LBM 3.5.ea2 - April 2009</a></dt>

<dt>50. <a href="#SECLBM3.4.1-UME2.1.1">Release LBM 3.4.1 / UME 2.1.1 - February
2009</a></dt>

<dt>51. <a href="#SECLBM3.4-UME2.1">Release LBM 3.4 / UME 2.1 - February 2009</a></dt>

<dt>52. <a href="#SECLBM3.3.9-UME2.0.7">Release LBM 3.3.9 / UME 2.0.7 - December
2008</a></dt>

<dt>53. <a href="#SECLBM3.3.8-UME2.0.6">Release LBM 3.3.8 / UME 2.0.6 - October
2008</a></dt>

<dt>54. <a href="#SECLBM3.3.7-UME2.0.5">Release LBM 3.3.7 / UME 2.0.5 - September
2008</a></dt>

<dt>55. <a href="#SECLBM3.3.6-UME2.0.4">Release LBM 3.3.6 / UME 2.0.4 - August
2008</a></dt>

<dt>56. <a href="#SECLBM3.3.5-UME2.0.3">Release LBM 3.3.5 / UME 2.0.3 - June
2008</a></dt>

<dt>57. <a href="#SECLBM3.3.4-UME2.0.2">Release LBM 3.3.4 / UME 2.0.2 - April
2008</a></dt>

<dt>58. <a href="#SECLBM3.3.3-UME2.0.1">Release LBM 3.3.3 / UME 2.0.1 - April
2008</a></dt>

<dt>59. <a href="#SECLBM3.3.2-UME2.0.1">Release LBM 3.3.2 / UME 2.0 - March 2008</a></dt>

<dt>60. <a href="#SECLBM3.3.1-UME2.0">Release LBM 3.3.1 / UME 2.0 - February
2008</a></dt>

<dt>61. <a href="#SECLBM3.3-UME2.0">Release LBM 3.3 / UME 2.0 - February 2008</a></dt>

<dt>62. <a href="#SECLBM3.3EA3-UME2.0EA2">Release LBM 3.3EA3 / UME 2.0EA2
2008-1-11</a></dt>

<dt>63. <a href="#SECLBM3.3EA2-UME2.0EA1">Release LBM 3.3EA2 / UME 2.0EA1
2007-12-19</a></dt>

<dt>64. <a href="#SEC1.2.1">Release LBM 3.2.3 / UME 1.2.1 2007-11-27</a></dt>

<dt>65. <a href="#SEC3.3EA1">Release LBM 3.3EA1 2007-11-15</a></dt>

<dt>66. <a href="#SEC1.2.1EA1">Release UME 1.2.1EA1 2007-10-30</a></dt>

<dt>67. <a href="#SEC3.2.2">Release LBM 3.2.2 2007-10-08</a></dt>

<dt>68. <a href="#SEC1.2">Release LBM 3.2.1 / UME 1.2 2007-09-06</a></dt>

<dt>69. <a href="#SEC3.2">Release LBM 3.2 2007-08-27</a></dt>

<dt>70. <a href="#SEC3.2EA2">Release LBM 3.2ea2 2007-07-19</a></dt>

<dt>71. <a href="#SEC3.2EA1">Release LBM 3.2ea1 2007-06-15</a></dt>

<dt>72. <a href="#SEC3.1">Release LBM 3.1 / UME 1.1 2007-06-05</a></dt>

<dt>73. <a href="#SEC3.1EA1">Release LBM 3.1 / UME 1.1ea1 2007-04-20</a></dt>

<dt>74. <a href="#SEC3.0">Release LBM 3.0 / UME 1.0 2007-02-16</a></dt>

<dt>75. <a href="#SEC3.0EA2">Release LBM 3.0ea2 / UME 1.0ea2 2006-11-16</a></dt>

<dt>76. <a href="#SEC3.0EA1">Release LBM 3.0ea1 / UME 1.0ea1 2006-09-29</a></dt>

<dt>77. <a href="#SEC2.3">Series 2.3 Releases</a></dt>

<dt>78. <a href="#SEC2.2">Series 2.2 Releases</a></dt>

<dt>79. <a href="#SEC2.1">Series 2.1 Releases</a></dt>

<dt>80. <a href="#SEC2.0">Series 2.0 Releases</a></dt>

<dt>81. <a href="#SEC1.7">Release 1.7 2005-08-23</a></dt>

<dt>82. <a href="#SEC1.5">Series 1.5 Releases</a></dt>

<dt>83. <a href="#SEC1.1">Series 1.1 Releases</a></dt>

<dt>84. <a href="#SEC1.0">Series 1.0 Releases</a></dt>
</dl>
</div>

<div class="SECTION">
<h2 class="SECTION"><a id="INTRODUCTION" name="INTRODUCTION">1. Introduction</a></h2>

<p>This document lists significant changes to <b class="APPLICATION"><span
class="TRADEMARK">Ultra Messaging</span>&reg;</b>.</p>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.3.6-UMP5.3.6-UMQ5.3.6"
name="SECUMS5.3.6-UMP5.3.6-UMQ5.3.6">2. Release UMS 5.3.6 / UMP 5.3.6 / UMQ 5.3.6 - March
- 2014</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.3.6" name="UMS5.3.6">2.1. UMS 5.3.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.3.6-FIXES" name="UMS5.3.6-FIXES">2.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Sometimes an application receives and acts upon retransmit response information
intended for a different application. This solution makes retransmit requests more unique
to the application issuing the request to prevent potential cross-contamination of
retransmit response information during application restarts.</p>
</li>

<li>
<p>A source sends Late Join responses with an unintialized header field, which can cause
a fatal assertion on the requesting receiver.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.6-KNOWNISSUES" name="UMS5.3.6-KNOWNISSUES">2.1.2. Known
Issues</a></h4>

<ul>
<li>
<p>When calling lbm_src_send() from the context thread inside a lbm_timer callback, a
source can freeze when it hits rate limiter limits, requiring an application restart.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.3.6" name="UMP5.3.6">2.2. UMP 5.3.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.3.6-FIXES" name="UMP5.3.6-FIXES">2.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fatal assertion <tt class="LITERAL">[dest] at line 481 in
../../../../src/lib/lbm/lbmrxrctlr.c</tt> in a UM application or daemon if the
application receives malformed data on a UM tcp socket or under other extreme edge case
conditions.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.3.6" name="UMQ5.3.6">2.3. UMQ 5.3.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.3.6-KNOWNISSUES" name="UMQ5.3.6-KNOWNISSUES">2.3.1. Known
Issues</a></h4>

<ul>
<li>
<p>Configurations with multiple queue instances (slaves) can lead to inconsistent states,
which can cause message loss, crashes or an inability to restart without removal of files
(also resulting in message loss). For guidance, see Section 2.2.8 of the Ultra Messaging
Guide for Persistence and Queuing.</p>
</li>

<li>
<p>A queue instance may crash with the following log message if <tt
class="LITERAL">allow-queue-browsing</tt> is set to <tt class="LITERAL">1</tt>: <tt
class="LITERAL">[EMERGENCY]: FATAL: failed assertion [sinc_q_msg_info_node!=NULL] at line
5998 in ../../../../src/stored/umqueue.c.</tt></p>
</li>

<li>
<p>UMQ flags reassigned messages upon delivery, but when a queue restarts, UMQ may
re-deliver some messages without flagging them.</p>
</li>

<li>
<p>Queues may occasionally crash upon restart if the queue option <tt
class="LITERAL">forwarding-behavior</tt> is set to <tt
class="LITERAL">store-while-forward</tt>. Set this option to <tt
class="LITERAL">store-then-forward</tt>.</p>
</li>

<li>
<p>A queue instance may crash with the following log message if messages are of 0 length:
<tt class="LITERAL">[EMERGENCY]: FATAL: failed assertion [msg-&#62;lbm_msg!=NULL] at line
3896 in ../../../../src/stored/umqsinc.c</tt></p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.3.5-UMP5.3.5-UMQ5.3.5"
name="SECUMS5.3.5-UMP5.3.5-UMQ5.3.5">3. Release UMS 5.3.5 / UMP 5.3.5 / UMQ 5.3.5 -
November - 2013</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.3.5" name="UMS5.3.5">3.1. UMS 5.3.5</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.3.5-UPDATES" name="UMS5.3.5-UPDATES">3.1.1.
Updates</a></h4>

<ul>
<li>
<p>The unicast resolver daemon, lbmrd, now has command-line options to set buffer size in
bytes for the receive socket buffer (-r flag) and the send socket buffer (-s flag).</p>
</li>

<li>
<p>When an error occurs on a socket while sending an ACK in LBT-RU, UM now generates an
EOS immediately.</p>
</li>

<li>
<p>The following error log messages are added to the Operations Guide:</p>

<ul>
<li>
<p>Core-5688-3375: unicast resolver %s:%u went inactive.</p>
</li>

<li>
<p>Core-5688-3387: LBMR Extended Type 0x0 incorrect (%s:%d len %d). [%s]. Dropping.</p>
</li>

<li>
<p>CoreApi-5688-3287: could not find open unicast source port in range [%d-%d]</p>
</li>

<li>
<p>CoreApi-5688-3320: lbm_socket_recv recv/recvfrom: %s</p>
</li>
</ul>
</li>

<li>
<p>In the .NET API, UM now re-uses LBMChannelInfo, UMQMessageId, and UMQIndexInfo objects
between different LBMMessage objects for delivery, reducing garbage collection
overhead.</p>
</li>

<li>
<p>The lbmrd resolver daemon now uses blocking sends for all outgoing data.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.5-FIXES" name="UMS5.3.5-FIXES">3.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>In the UM Gateway, single TCP peer connections under Windows now function
correctly.</p>
</li>

<li>
<p>UM no longer returns -1 from <code
class="FUNCTION">lbm_context_process_events()</code> for non-critical errors.</p>
</li>

<li>
<p>Corrected a problem with how UM handles connect failures under Windows, which was
causing the UM Gateway to not reconnect with other UM Gateway peer portals after a
timeout condition.</p>
</li>

<li>
<p>Corrected a problem where a fatal assert would occur when a receiver received a
message containing a TSNI request. This could happen when a receiver late joined from an
older-version source.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.5-KNOWNISSUES" name="UMS5.3.5-KNOWNISSUES">3.1.3. Known
Issues</a></h4>

<ul>
<li>
<p>When calling lbm_src_send() from the context thread inside a lbm_timer callback, a
source can freeze when it hits rate limiter limits, requiring an application restart.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.5-INCOMPATIBILITIES"
name="UMS5.3.5-INCOMPATIBILITIES">3.1.4. Version Compatibilities</a></h4>

<ul>
<li>
<p>LBT-IPC, when used on UM 5.3.x, is not compatible with LBT-IPC used on UM 5.2.x or
earlier.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.3.5" name="UMP5.3.5">3.2. UMP 5.3.5</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.3.5-UPDATES" name="UMP5.3.5-UPDATES">3.2.1.
Updates</a></h4>

<ul>
<li>
<p>In the Ultra Messaging Guide for Persistence, the following sections have been changed
or added:</p>

<ul>
<li>
<p>2.1.5 Message Stability</p>
</li>
</ul>
</li>

<li>
<p>The following error log message is updated in the Operations Guide:</p>

<ul>
<li>
<p>Core-5688-542: received ACK for unknown source from %s:%d\n</p>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.3.5" name="UMQ5.3.5">3.3. UMQ 5.3.5</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.3.5-UPDATES" name="UMQ5.3.5-UPDATES">3.3.1.
Updates</a></h4>

<ul>
<li>
<p>In the Ultra Messaging Guide for Persistence and Queuing, the following sections have
been changed or added:</p>

<ul>
<li>
<p>1.2 Queuing</p>
</li>

<li>
<p>1.3 Semantic Responsibilities</p>
</li>

<li>
<p>2.2.2 Message Stability</p>
</li>

<li>
<p>2.2.3 Once-and-Only-Once Delivery</p>
</li>

<li>
<p>2.2.8 Queue Fault Tolerance</p>
</li>

<li>
<p>2.2.9 Indexed Queuing</p>
</li>
</ul>
</li>
</ul>

<p>If you are considering queuing semantics for your application, please contact
Informatica.</p>

<ul>
<li>
<p>In the Ultra Messaging JMS Guide the following sections have been changed:</p>

<ul>
<li>
<p>1. Introduction, known issues.</p>
</li>
</ul>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.3.5-KNOWNISSUES" name="UMQ5.3.5-KNOWNISSUES">3.3.2. Known
Issues</a></h4>

<ul>
<li>
<p>Configurations with multiple queue instances (slaves) can lead to inconsistent states,
which can cause message loss, crashes or an inability to restart without removal of files
(also resulting in message loss). For guidance, see Section 2.2.8 of the Ultra Messaging
Guide for Persistence and Queuing.</p>
</li>

<li>
<p>A queue instance may crash with the following log message if <tt
class="LITERAL">allow-queue-browsing</tt> is set to <tt class="LITERAL">1</tt>: <tt
class="LITERAL">[EMERGENCY]: FATAL: failed assertion [sinc_q_msg_info_node!=NULL] at line
5998 in ../../../../src/stored/umqueue.c.</tt></p>
</li>

<li>
<p>UMQ flags reassigned messages upon delivery, but when a queue restarts, UMQ may
re-deliver some messages without flagging them.</p>
</li>

<li>
<p>Queues may occasionally crash upon restart if the queue option <tt
class="LITERAL">forwarding-behavior</tt> is set to <tt
class="LITERAL">store-while-forward</tt>. Set this option to <tt
class="LITERAL">store-then-forward</tt>.</p>
</li>

<li>
<p>A queue instance may crash with the following log message if messages are of 0 length:
<tt class="LITERAL">[EMERGENCY]: FATAL: failed assertion [msg-&#62;lbm_msg!=NULL] at line
3896 in ../../../../src/stored/umqsinc.c</tt></p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.3.4-UMP5.3.4-UMQ5.3.4"
name="SECUMS5.3.4-UMP5.3.4-UMQ5.3.4">4. Release UMS 5.3.4 / UMP 5.3.4 / UMQ 5.3.4 - July
- 2013</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.3.4" name="UMS5.3.4">4.1. UMS 5.3.4</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.3.4-UPDATES" name="UMS5.3.4-UPDATES">4.1.1.
Updates</a></h4>

<ul>
<li>
<p>The log message, <tt class="LITERAL">Core-5688-696: received request for unknown
source</tt>, now displays an IP and port number. Also, the new message, <tt
class="LITERAL">Core-7427-1: received TSNI request for unknown source -
ip:port[%s:%d]</tt>, differentiates between a request and a TSNI request from an unknown
source.</p>
</li>

<li>
<p>The following new warning messages indicate when a UM receiver delivery controller
reaches its maximum map entries, which could cause Late Join to end prematurely.</p>

<ul>
<li>
<p><tt class="LITERAL">CoreApi-7506-1: rdelvc force loss due to dctlr_entries exceeding
ctx_max_entries!</tt></p>
</li>

<li>
<p><tt class="LITERAL">CoreApi-7506-2: rdelvc force loss when doing Late Join or OTR due
to dctlr_entries exceeding ctx_max_entries!</tt></p>
</li>
</ul>
</li>

<li>
<p>The log message <tt class="LITERAL">Core-5688-7 FATAL: failed assertion...</tt> has
been removed. In addition to removing this message, a backtrace has been added to
platforms with backtrace support.</p>
</li>

<li>
<p>UM now uses the multicast interface in the OTID to reduce the possibility of an OTID
collision in sources. A collision of a source OTID can cause a receiver to join only one
of the source streams as it sees the second as a duplicate.</p>
</li>

<li>
<p>The <tt class="LITERAL">resolver_unicast_daemon</tt> option now issues the new log
message, <tt class="LITERAL">CoreApi-7875-1: optval cannot contain multiple values</tt>,
to indicate that multiple values are not allowed for this option:</p>
</li>

<li>
<p>The lbmsdm.h file now contains a check to not typedef intx_t types for Windows
platforms that have these already defined.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.4-FIXES" name="UMS5.3.4-FIXES">4.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem that caused lbmrd to propagate non-LBMR messages to clients.</p>
</li>

<li>
<p>UM now allows for NAT translation of request/response and Late Join.</p>
</li>

<li>
<p>Corrected a problem that could cause indefinite EWOULDBLOCK on the Windows
platform.</p>
</li>

<li>
<p>Corrected a problem where an active lbmrd erroneously logged message <tt
class="LITERAL">LOG Level 6: Core-5688-3375: unicast resolver xxx.xxx.xxx.xxx:xxxx went
inactive</tt></p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.4-KNOWNISSUES" name="UMS5.3.4-KNOWNISSUES">4.1.3. Known
Issues</a></h4>

<ul>
<li>
<p>The <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> does not support
message selectors with unicode symbols and causes receiver creation to fail.</p>
</li>

<li>
<p><b class="APPLICATION">UM</b> does not support the use of Unicode PCRE characters in
wildcard receiver patterns on any system that communicates with a HP-UX or AIX
system.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multitransport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multitransport Threads feature. Informatica does not support nor test
the operation of Multitransport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multitransport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>

<li>
<p>If proxy sources are enabled and gateways bounce, you may see a fatal assertion.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.4-INCOMPATIBILITIES"
name="UMS5.3.4-INCOMPATIBILITIES">4.1.4. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.3.4" name="UMP5.3.4">4.2. UMP 5.3.4</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.3.4-UPDATES" name="UMP5.3.4-UPDATES">4.2.1.
Updates</a></h4>

<ul>
<li>
<p>Port=0 is no longer a valid port number for umestored (UMP or UMQ). Log Messages <tt
class="LITERAL">Store-5688-5408</tt> and <tt class="LITERAL">Store-5688-5410</tt> now
indicate that port 0 is no longer valid. The valid port range in the messages is now
[1,65535].</p>
</li>

<li>
<p>A webmon port in the umestored configuration file now must be greater than 0.
Specifying a port of 0 or anything that would be translated to a value less than 0
prohibits umestored from starting and instead you see <tt class="LITERAL">web-monitor
port must be greater than 0.</tt></p>
</li>

<li>
<p>Fragments requested for retransmission by a receiver from a store may now be declared
as unrecoverable prior to the retransmission request timeout, if all stores have declared
that fragment unrecoverable.</p>
</li>

<li>
<p>Log messages <tt class="LITERAL">Store-5688-5332</tt> and <tt
class="LITERAL">Store-5688-5333</tt> are added to the Operations Guide.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.4-FIXES" name="UMP5.3.4-FIXES">4.2.2. Bug
Fixes</a></h4>

<p>No problems specific to <b class="APPLICATION">UMP</b> were addressed.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.4-KNOWNISSUES" name="UMP5.3.4-KNOWNISSUES">4.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Creating multiple receivers on the same topic in the same context using the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> may result in a crash when
calling <code class="FUNCTION">Dispose()</code> if the topic is a persistent data stream.
It is recommended to either protect the calls to <code class="FUNCTION">Dispose()</code>
to prevent concurrent calls or use a single receiver per topic and use application code
to deliver messages to different callbacks. This will be fixed in a future release.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> stores sometimes fail to send message stability
acknowledgements to sources for messages sent while the store was being reported
unresponsive by the source. Informatica is investigating this problem.</p>
</li>

<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generation_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.3.4" name="UMQ5.3.4">4.3. UMQ 5.3.4</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.3.4-FIXES" name="UMQ5.3.4-FIXES">4.3.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem that allowed ULB to reassign messages even if <tt
class="LITERAL">ump_ulb_application_set_message_max_reassignments</tt> was set to 1. The
user document correctly states that by setting the flag to 1, a message will not be
reassigned.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.3.4-KNOWNISSUES" name="UMQ5.3.4-KNOWNISSUES">4.3.2. Known
Issues</a></h4>

<ul>
<li>
<p>The method, <code class="FUNCTION">getJMSRedelivered</code> for a message always
returns false for redelivered messages when using Queue Session IDs along with the
topic's <tt class="LITERAL">message-reassignment-timeout</tt> set to 0 (zero).</p>
</li>

<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>

<li>
<p>When servicing large message retrieval requests from a queue browser, the queue may
become busy enough that the receiver perceives it as unresponsive and re-registers with
the queue, canceling the message retrieval request. Informatica recommends limiting large
message retrievals to 1000 messages at a time, waiting for each retrieval to finish
before beginning the next retrieval request</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.3.3-UMP5.3.3-UMQ5.3.3"
name="SECUMS5.3.3-UMP5.3.3-UMQ5.3.3">5. Release UMS 5.3.3 / UMP 5.3.3 / UMQ 5.3.3 - March
- 2013</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.3.3" name="UMS5.3.3">5.1. UMS 5.3.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.3.3-UPDATES" name="UMS5.3.3-UPDATES">5.1.1.
Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">UM</b> no longer sends a Topic Management Record (TMR) when an
application deletes a receiver in a standard way with, for example <code
class="FUNCTION">lbm_rcv_delete()</code>, when no UM Gateways are in use. TMRs
specifically inform a UM Gateway that a receiver for a particular topic has been
shutdown. Without the presence of UM Gateways, TMRs become unnecesary network
traffic.</p>
</li>

<li>
<p>The following error log messages have been added to the Concepts Guide section, <a
href="../Design/logmessages.html" target="doccontent">UM Log Messages</a>.</p>

<ul>
<li>
<p>Core-7421-1: Source Side Filtering Init message with no return IP, using transport IP
(%s).</p>
</li>

<li>
<p>Core-7479-1: NOTICE from src (RID:%u: (%s)): store %s:%u reports it has not received
TIR. Possible misconfiguration?</p>
</li>

<li>
<p>CoreAPI-6783-1: lbm_socket_sendb send error occurred while sending. The message will
contain addition specific information, supplied by the operating system.</p>
</li>

<li>
<p>Gwd-6033-353: : endpoint portal [%s] received one or more UIM control messages with no
stream information - these will be dropped.</p>
</li>

<li>
<p>Gwd-6033-593: peer portal [%s] received one or more UIM control messages with no
stream information - these will be dropped.</p>
</li>
</ul>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.3-FIXES" name="UMS5.3.3-FIXES">5.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with <b class="APPLICATION">UM</b> sockets that may cause a crash
while binding TCP ports.</p>
</li>

<li>
<p>Fixed a problem with <code class="FUNCTION">lbm_set_umm_info()</code> that caused it
to always return 0 (success). The function now returns -1 on a parsing error of a
returned <b class="APPLICATION">UMM</b> configuration file, UMM Daemon logon error or a
communications error with the UMM Daemon.</p>
</li>

<li>
<p>Corrected a problem with plain text (non-XML) UM configuration files greater than 1024
bytes that when loaded via a URL (http or FTP) would result in <tt class="LITERAL">line
malformed</tt> errors. This fix resolves the Known Issue: <span class="emphasis"><i
class="EMPHASIS">Retrieving plain text (not XML) configurations files via an http or FTP
request is limited to configuration files of 1K in size. Configuration files over 1K will
result in an error: error reading config file. Informatica will fix this in a future
release. A workaround is to convert the plain text configuration file to an XML
configuration file.</i></span></p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.3-KNOWNISSUES" name="UMS5.3.3-KNOWNISSUES">5.1.3. Known
Issues</a></h4>

<ul>
<li>
<p>The <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> does not support
message selectors with unicode symbols and causes receiver creation to fail.</p>
</li>

<li>
<p><b class="APPLICATION">UM</b> does not support the use of Unicode PCRE characters in
wildcard receiver patterns on any system that communicates with a HP-UX or AIX
system.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multitransport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multitransport Threads feature. Informatica does not support nor test
the operation of Multitransport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multitransport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.3-INCOMPATIBILITIES"
name="UMS5.3.3-INCOMPATIBILITIES">5.1.4. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.3.3" name="UMP5.3.3">5.2. UMP 5.3.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.3.3-UPDATES" name="UMP5.3.3-UPDATES">5.2.1.
Updates</a></h4>

<ul>
<li>
<p>The following error log messages have been added to the Operations Guide.</p>

<ul>
<li>
<p>Core-7421-1: Source Side Filtering Init message with no return IP, using transport IP
(%s).</p>
</li>

<li>
<p>Core-7479-1: NOTICE from src (RID:%u: (%s)): store %s:%u reports it has not received
TIR. Possible misconfiguration?</p>
</li>

<li>
<p>CoreAPI-6783-1: lbm_socket_sendb send error occurred while sending. The message will
contain addition specific information, supplied by the operating system.</p>
</li>

<li>
<p>Gwd-6033-353: : endpoint portal [%s] received one or more UIM control messages with no
stream information - these will be dropped.</p>
</li>

<li>
<p>Gwd-6033-593: peer portal [%s] received one or more UIM control messages with no
stream information - these will be dropped.</p>
</li>
</ul>
</li>

<li>
<p>When a receiver tries to register with a store using a RegID in use by another
receiver, the application error log message now includes the RegID: <tt
class="LITERAL">UME registration error: error in UME registration, RegID 1508542809 is in
use by a different receiver at store 0</tt>. Previously the message always displayed <tt
class="LITERAL">RegID 0</tt> and no store number.</p>
</li>

<li>
<p>When a source tries to register with a store using a RegID in use by another source,
the application error log message now includes the RegID, store number and the store's IP
address and port: <tt class="LITERAL">Error registering source with UME store: error in
UME registration, RegID 2323214065 is in use by a different source at store 1
192.168.101.130.21112</tt>. Previously the message always displayed <tt
class="LITERAL">RegID 0</tt> and no store information.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.3-FIXES" name="UMP5.3.3-FIXES">5.2.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>The <tt class="LITERAL">umestored</tt> Web Monitor has been changed to correctly
display the <tt class="LITERAL">Request Receive Rate</tt>, <tt class="LITERAL">Service
Rate</tt> and <tt class="LITERAL">Drop Rate</tt>. Previously the rates only showed
activity for the last second instead of a true activity per second rate. As a result the
rates often displayed 0 (zero). A link has been added to the Persistent Store Page to
reset the rate calculation. The rates can be reset on a per store basis.</p>
</li>

<li>
<p>Corrected an infrequent problem that could cause a store (<tt
class="LITERAL">umestored</tt>) to perpetually send TSNI requests to a <b
class="APPLICATION">UM</b> source at the <a
href="../Config/latejoinoptions.html#RECEIVERRETRANSMITREQUESTINTERVAL" target="doccontent"><tt
class="LITERAL">retransmit_request_interval</tt></a> after the <b
class="APPLICATION">UM</b> source has resumed sending messages.</p>
</li>

<li>
<p>Corrected a problem with the <tt class="LITERAL">umestored</tt> daemon that resulted
in the premature deletion of source state information if <tt
class="LITERAL">umestored</tt> was restarted. If the source had an active receiver before
<tt class="LITERAL">umestored</tt> was shut down, the configured <tt
class="LITERAL">source-state-lifetime</tt> was not restored, so the default lifetime of 0
seconds and default <tt class="LITERAL">source-activity-timeout</tt> of 30 seconds was
enforced.</p>
</li>

<li>
<p>Corrected an issue where stability acknowledgements from a persistent store to the <b
class="APPLICATION">UM</b> source during a store proxy source election could be sent with
invalid topic and transport indexes, which the source would discard.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.3-KNOWNISSUES" name="UMP5.3.3-KNOWNISSUES">5.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Creating multiple receivers on the same topic in the same context using the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> may result in a crash when
calling <code class="FUNCTION">Dispose()</code> if the topic is a persistent data stream.
It is recommended to either protect the calls to <code class="FUNCTION">Dispose()</code>
to prevent concurrent calls or use a single receiver per topic and use application code
to deliver messages to different callbacks. This will be fixed in a future release.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> stores sometimes fail to send message stability
acknowledgements to sources for messages sent while the store was being reported
unresponsive by the source. Informatica is investigating this problem.</p>
</li>

<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generation_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.3.3" name="UMQ5.3.3">5.3. UMQ 5.3.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.3.3-FIXES" name="UMQ5.3.3-FIXES">5.3.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected an infrequent condition that caused the fatal assert <tt
class="LITERAL">[prop_offset &#62;= 0]</tt> if a <b class="APPLICATION">UMQ</b> receiver
received a message containing message properties.</p>
</li>

<li>
<p>Corrected an issue that prevented a <b class="APPLICATION">UMQ</b> receiver for a dead
letter topic from registering with a queue if a particular queue instance did not have a
record of the creation of the dead letter topic.</p>
</li>

<li>
<p>Corrected an problem that caused a segmentation fault when restarting a queue if the
queue daemon (<tt class="LITERAL">umestored</tt>) was configured with a disk sinc log
file (<tt class="LITERAL">sinc-log-filename</tt>).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.3.3-KNOWNISSUES" name="UMQ5.3.3-KNOWNISSUES">5.3.2. Known
Issues</a></h4>

<ul>
<li>
<p>The method, <code class="FUNCTION">getJMSRedelivered</code> for a message always
returns false for redelivered messages when using Queue Session IDs along with the
topic's <tt class="LITERAL">message-reassignment-timeout</tt> set to 0 (zero).</p>
</li>

<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>

<li>
<p>When servicing large message retrieval requests from a queue browser, the queue may
become busy enough that the receiver perceives it as unresponsive and re-registers with
the queue, canceling the message retrieval request. Informatica recommends limiting large
message retrievals to 1000 messages at a time, waiting for each retrieval to finish
before beginning the next retrieval request</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="HP-UMP5.3.2" name="HP-UMP5.3.2">6. Release UMS 5.3.2 / UMP
5.3.2 - November - 2012</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.3.2" name="UMS5.3.2">6.1. UMS 5.3.2</a></h3>

<p>No changes have been made to <b class="APPLICATION">UMS</b> for 5.3.2. This release
accompanies the <b class="APPLICATION">UMP</b> 5.3.2 release which provides support for
the <span class="TRADEMARK">HP NonStop</span>&reg; platform.</p>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.3.2" name="UMP5.3.2">6.2. UMP 5.3.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.3.2-NEW" name="UMP5.3.2-NEW">6.2.1. New</a></h4>

<ul>
<li>
<p><b class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">Persistence Edition</b> is now available on the <span
class="TRADEMARK">HP NonStop</span> platform. See <a
href="../../DocIntro.html#HPNONSTOPPACKAGES" target="doccontent">HP NonStop Package</a> for
limitations.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.2-FIXES" name="UMP5.3.2-FIXES">6.2.2. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.2-KNOWNISSUES" name="UMP5.3.2-KNOWNISSUES">6.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Creating multiple receivers on the same topic in the same context using the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> may result in a crash when
calling <code class="FUNCTION">Dispose()</code> if the topic is a persistent data stream.
It is recommended to either protect the calls to <code class="FUNCTION">Dispose()</code>
to prevent concurrent calls or use a single receiver per topic and use application code
to deliver messages to different callbacks. This will be fixed in a future release.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> stores sometimes fail to send message stability
acknowledgements to sources for messages sent while the store was being reported
unresponsive by the source. Informatica is investigating this problem.</p>
</li>

<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generation_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.3.1-UMP5.3.1-UMQ5.3.1"
name="SECUMS5.3.1-UMP5.3.1-UMQ5.3.1">7. Release UMS 5.3.1 / UMP 5.3.1 / UMQ 5.3.1 -
September - 2012</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.3.1" name="UMS5.3.1">7.1. UMS 5.3.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.3.1-NEW" name="UMS5.3.1-NEW">7.1.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">Manager</b> has been added to <b class="APPLICATION">UMS</b>.
Previously this feature was only available with <b class="APPLICATION">UMP</b> and <b
class="APPLICATION">UMQ</b> This feature ensures the consistency and reliability of
enterprise production applications by enabling IT administrators to control what
configurations messaging applications can use and what users can operate them. See <a
href="../UMM/index.html" target="doccontent">Ultra Messaging Manager</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.1-UPDATES" name="UMS5.3.1-UPDATES">7.1.2.
Updates</a></h4>

<ul>
<li>
<p>The <b class="APPLICATION">UM</b> log message, Core-5688-1866, has been changed from
Warning to an INFO message.</p>
</li>

<li>
<p>Performance has been improved by converting locks for srcs and imbq to spinlocks in
the Windows code. The environment variable <tt
class="LITERAL">LBM_WINDOWS_RATELIMITER_SPINLOCK_COUNT</tt> sets the spinlock count. <tt
class="LITERAL">InitializeCriticalSection</tt> will be used if the variable is not set.
<tt class="LITERAL">InitializeCriticalSectionAndSpinCount</tt> will be used when the
variable is set.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.1-FIXES" name="UMS5.3.1-FIXES">7.1.3. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem in the <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET
API</a> that caused an exception when assigning a UNICODE string to the <tt
class="LITERAL">LBMReceiver</tt> topic attribute.</p>
</li>

<li>
<p>Fixed an issue on AIX platforms that resulted in the message selector string <tt
class="LITERAL">unknown</tt> to be parsed incorrectly as <tt
class="LITERAL">true</tt>.</p>
</li>

<li>
<p>Corrected a problem in PDM that caused out of bounds exceptions when calling <code
class="FUNCTION">setValue(PDMMessage [])</code> after modifying a PDM message that is
part of a <tt class="LITERAL">MESSAGE_ARR</tt> field within another serialized PDM
message. After modifying a PDM message that is member of a <tt
class="LITERAL">MESSAGE_ARR</tt> type field, You must call <code
class="FUNCTION">setValue(PDMMessage [])</code> to allow PDM to update the internal
version of the message.</p>
</li>

<li>
<p>Changed the <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE"
target="doccontent"><tt class="LITERAL">fd_management_type</tt></a> <tt
class="LITERAL">epoll</tt> so that it no longer asserts when closing STDIN.</p>
</li>

<li>
<p>Corrected a problem with multiple receivers for a topic in adjacent Topic Resolution
Domains serviced by a UM Gateway that caused topic interest to not be properly
represented in the adjacent domains. This resulted in remote receivers not getting the
expected message data.</p>
</li>

<li>
<p>Fixed a problem with Message Selectors which could result in a failure when comparing
<tt class="LITERAL">NaN</tt> values.</p>
</li>

<li>
<p>Fixed a problem that caused receivers to get corrupted packets when the source does a
non-blocking send over TCP without an event queue.</p>
</li>

<li>
<p>Fixed a problem that could result in the error log message, <tt
class="LITERAL">CoreApi-5688-3233: TCP server listen: (98)</tt> even if TCP ports are
still available.</p>
</li>

<li>
<p>Fixed an issue with PDM that caused a segfault when using different message versions
and a different number of fields. This correction was applied to the <a
href="../API/index.html" target="doccontent">C API</a>, the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>.</p>
</li>

<li>
<p>Reversed a <b class="APPLICATION">UM</b> 5.3 bug fix because it was shown to produce
receiver deafness across a UM Gateway. The <b class="APPLICATION">UM</b> 5.3 bug fix
change log entry appears below.</p>

<p><span class="emphasis"><i class="EMPHASIS">Added additional validation logic to Topic
Resolution advertisement (TIR) processing to prevent malformed packets from causing an
invalid memory access, potentially leading to a crash.</i></span></p>
</li>

<li>
<p>Corrected a problem that now allows Late Join to work properly when using the <a
href="../Config/majoroptions.html#CONTEXTNETWORKCOMPATIBILITYMODE" target="doccontent"><tt
class="LITERAL">network_compatibility_mode</tt></a>.</p>
</li>

<li>
<p>Fixed an issue that caused a JVM crash if multiple contexts were created with the same
port.</p>
</li>

<li>
<p>Corrected problems with uninitialized attribute values for context, source, receiver,
and event queue attributes.</p>
</li>

<li>
<p>Fixed a problem with sending and receiving message properties between platforms using
different endian formats.</p>
</li>

<li>
<p>JMS now creates its own MessageID rather than using one based on the underlying JMS
system. Also added are UM-layer functions that create a JMSMessageId, to add
compatibility between JMS and the other UM senders/receivers.</p>
</li>

<li>
<p>Fixed a problem that exposed LBMC to possible Denial of Service (DoS) attacks.</p>
</li>

<li>
<p>Fixed a problem that caused a fatal assert <tt class="LITERAL">Core-5688-7: FATAL:
failed assertion</tt> that could happen when setting <tt
class="LITERAL">network_compatibility_mode</tt>.</p>
</li>

<li>
<p>Fixed another problem that sometimes caused fatal assert <tt
class="LITERAL">Core-5688-7: FATAL: failed assertion</tt>. UM now creates a unique mutex
name that results in successful creation of a named Mutex, thus avoiding the assert.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.1-KNOWNISSUES" name="UMS5.3.1-KNOWNISSUES">7.1.4. Known
Issues</a></h4>

<ul>
<li>
<p>Retrieving plain text (not XML) configurations files via an http or ftp request is
limited to configuration files of 1K in size. Configuration files over 1K will result in
an error: <tt class="LITERAL">error reading config file</tt>. Informatica will fix this
in a future release. A workaround is to convert the plain text configuration file to an
XML configuration file.</p>
</li>

<li>
<p>The <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> does not support
message selectors with unicode symbols and causes receiver creation to fail.</p>
</li>

<li>
<p><b class="APPLICATION">UM</b> does not support the use of Unicode PCRE characters in
wildcard receiver patterns on any system that communicates with a HP-UX or AIX
system.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multitransport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multitransport Threads feature. Informatica does not support nor test
the operation of Multitransport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multitransport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3.1-INCOMPATIBILITIES"
name="UMS5.3.1-INCOMPATIBILITIES">7.1.5. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.3.1" name="UMP5.3.1">7.2. UMP 5.3.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.3.1-UPDATES" name="UMP5.3.1-UPDATES">7.2.1.
Updates</a></h4>

<ul>
<li>
<p>The notice Core-5688-3847 can be received when setting the <a
href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">wincompport</tt> only.
The occurrence of this notice has been changed so that after the first 5 occurrences, the
notice only prints every 10,000th consecutive occurrence. An example of this notice: <tt
class="LITERAL">Core-5688-3847: NOTICE: wincport 000000000893BE90 line 4615 WSA err
10061, Connection refused (peer 10.29.3.56:23005) (op 4)</tt></p>
</li>

<li>
<p>Added identifying information such as RegID, store name and store index to
registration error responses.</p>
</li>

<li>
<p>The <b class="APPLICATION">UM</b> persistent store has been modified to retain state
and cache files when the store restarts that may be corrupted instead of deleting them.
The store renames these files to <tt
class="LITERAL">regid-state/cache.pid.month_day_year</tt>. These files remain
indefinitely in the same cache/state directories as specified in the store's XML
configuration file.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.1-FIXES" name="UMP5.3.1-FIXES">7.2.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem that prevented a restarted store from correctly persisting the
receiver lifetime timeouts. NOTE: Be sure to delete the old state files when upgrading
your system to this release.</p>
</li>

<li>
<p>Corrected a problem where a restarted umestored process generated unneeded log
messages upon encountering empty cache files.</p>
</li>

<li>
<p>Corrected a problem that caused a memory store to attempt to late-join messages from
the source that the repository has already received. This occurred after the source
re-registers with the store. Now the repository only initiates Late Join for messages
that it has not received.</p>
</li>

<li>
<p>Corrected a potential memory corruption issue in the store daemon (<tt
class="LITERAL">umestored</tt>), that was introduced in UM 5.3. The memory corruption
could occur when the store, upon startup, detects and deletes a corrupt or empty cache
file.</p>
</li>

<li>
<p>Corrected a condition where a <b class="APPLICATION">UMP</b> store configured with
Receiver-paced Persistence and a <tt class="LITERAL">repository-type</tt> of <tt
class="LITERAL">disk</tt> could stop persisting new data if messages at the end of the
cache file were not consumed by all registered receivers and there was available space at
the beginning of the cache file.</p>
</li>

<li>
<p>Corrected a problem with receivers registering with Quorum/Consensus stores that
resulted in the log message: <tt class="LITERAL">Core-5688-3113: NOTICE: UME receiver
"name" source "LBTRM:10.29.3.16:14390:228383bb:224.10.10.10:14400" registration consensus
sequence number 0 less than highest seen 51c. Using consensus.</tt> Receivers now
properly register with all stores in the group.</p>
</li>

<li>
<p>Fixed an issue that would incorrectly allow multiple receivers on the same topic with
the same <a href="../Config/ultramessagingpersistenceoptions.html#RECEIVERUMESESSIONID"
target="doccontent"><tt class="LITERAL">ume_session_id</tt></a> to both be registered with the
store simultaneously.</p>
</li>

<li>
<p>Fixed a problem that caused a large delay in receiver re-registration if a source goes
down and the store creates a proxy source or if the source simply restarts.</p>
</li>

<li>
<p>Fixed the store daemon (<tt class="LITERAL">umestoreds</tt>) shutdown issue on <span
class="TRADEMARK">Microsoft</span>&reg; <span class="TRADEMARK">Windows</span>&reg; so
that the store does not log an error message when the store shutdown command is issued
via the Service Control Manager (SCM).</p>
</li>

<li>
<p>Corrected a problem with store initialization that could cause a segfault during long
running store recoveries.</p>
</li>

<li>
<p>Corrected a problem with restarted stores that produced the error log message, <tt
class="LITERAL">LOG Level 5: Core-5688-3167: WARNING: received keepalive from non-active
store 0</tt>. Now a store does not send keepalives to a source if the source is not
registered to the store.</p>
</li>

<li>
<p>Corrected a problem where a receiver on the opposite side of a gateway did not receive
a persistent message until a persistent source in the same context sent one.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3.1-KNOWNISSUES" name="UMP5.3.1-KNOWNISSUES">7.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Creating multiple receivers on the same topic in the same context using the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> may result in a crash when
calling <code class="FUNCTION">Dispose()</code> if the topic is a persistent data stream.
It is recommended to either protect the calls to <code class="FUNCTION">Dispose()</code>
to prevent concurrent calls or use a single receiver per topic and use application code
to deliver messages to different callbacks. This will be fixed in a future release.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> stores sometimes fail to send message stability
acknowledgements to sources for messages sent while the store was being reported
unresponsive by the source. Informatica is investigating this problem.</p>
</li>

<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generation_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.3.1" name="UMQ5.3.1">7.3. UMQ 5.3.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.3.1-UPDATES" name="UMQ5.3.1-UPDATES">7.3.1.
Updates</a></h4>

<ul>
<li>
<p>Added <a
href="../Config/ultramessagingqueuingoptions.html#CONTEXTUMQCOMMANDOUTSTANDINGMAXIMUM"
target="doccontent"><tt class="LITERAL">umq_command_outstanding_maximum</tt></a> to control the
maximum number of outstanding <b class="APPLICATION">UMQ</b> commands (registrations,
de-registrations, indexed queuing commands, message list commands, etc.) a client is
allowed at one time. Outstanding commands are not yet acknowledged by the queue.</p>
</li>

<li>
<p>Updated the JMS example, <tt class="FILENAME">Reply.java</tt>, to fix a case where it
would fail to reply to a native source that did not correctly set the <tt
class="LITERAL">JMSReplyTo</tt> property. Also, updated an internal exception to more
cleanly handle the case where an application attempts to send to a null destination.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.3.1-FIXES" name="UMQ5.3.1-FIXES">7.3.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that could cause a persistent <b class="APPLICATION">UMQ</b> queue
daemon (<tt class="LITERAL">umestored</tt>) to occasionally fail to start up if it
previously had registered receivers that used <b class="APPLICATION">UMQ</b> session
IDs.</p>
</li>

<li>
<p>Fixed an issue that could cause a non-<b class="APPLICATION">UMQ</b> context receiving
a unicasted <b class="APPLICATION">UMQ</b> control message to crash. This only happened
if a non-<b class="APPLICATION">UMQ</b> context was created and re-used a request port
from a previously running <b class="APPLICATION">UMQ</b> context.</p>
</li>

<li>
<p>Fixed a small memory leak during the clean shutdown of a slave instance of the <b
class="APPLICATION">UMQ</b> queue daemon (<tt class="LITERAL">umestored</tt>). This leak
had no impact during normal operation.</p>
</li>

<li>
<p>Fixed a problem that could cause <b class="APPLICATION">UMQ</b> clients to crash if
they had over 65535 currently outstanding queue commands. This many queue commands could
accumulate if you performed a very large message retrieve command or attempted to
register tens of thousands of clients with a queue in a very short period of time.</p>
</li>

<li>
<p>Fixed a problem that could cause a persistent, disk queue daemon (<tt
class="LITERAL">umestored</tt>) to sometimes fail to restart with a <tt
class="LITERAL">anode!=NULL</tt> assertion.</p>
</li>

<li>
<p>Corrected problems with <b class="APPLICATION">UMQ</b> session IDs and observer
receivers ( <a
href="../Config/ultramessagingqueuingoptions.html#RECEIVERUMQQUEUEPARTICIPATION"
target="doccontent"><tt class="LITERAL">umq_queue_participation</tt></a> = 2) that could cause
the queue daemon (<tt class="LITERAL">umestored</tt>) to crash upon shutdown if multiple
observer receivers on the same topic with different session IDs were used.</p>
</li>

<li>
<p>Fixed a problem with how Ultra Messaging JMS tracks sources within a context that
resulted in sources on a topic being created multiple times.</p>
</li>

<li>
<p>Corrected a problem in Ultra Messaging JMS that prevented multiple <tt
class="LITERAL">MessageProducers</tt> with the same topic on the same connection.</p>
</li>

<li>
<p>Corrected a problem that caused a crash when <b class="APPLICATION">UMQ</b> Ultra Load
Balancing receivers were assigned incorrect Application IDs during registration.</p>
</li>

<li>
<p>Fixed an issue that resulted in received message timestamp values to be set to 0
(zero) for <b class="APPLICATION">UMQ</b> messages.</p>
</li>

<li>
<p>Fixed a problem that caused the JMS redelivered flag to not be set on redelivered
messages when <b class="APPLICATION">UMQ</b> was in linear mode.</p>
</li>

<li>
<p>Added the following new constants to <tt class="FILENAME">lbm.h</tt>, <tt
class="FILENAME">lbm.java</tt> and <tt class="FILENAME">lbm.cs</tt> to aid in
interoperability with Ultra Messaging JMS.</p>

<pre class="PROGRAMLISTING">
LBM_TEXTMESSAGE =        0;
LBM_BYTEMESSAGE =        1;
LBM_MAPMESSAGE =         2;
LBM_MESSAGE =            3;
LBM_OBJECTMESSAGE =      4;
LBM_STREAMMESSAGE =      5;
LBM_JMSDeliveryMode =    "JMSDeliveryMode";
LBM_JMSExpiration =      "JMSExpiration";
LBM_JMSPriority =        "JMSPriority";
LBM_JMSMessageID =       "JMSMessageID";
LBM_JMSTimestamp =       "JMSTimestamp";
LBM_JMSCorrelationID =   "JMSCorrelationID";
LBM_JMSType =            "JMSType";
LBM_JMSRedelivered =     "JMSRedelivered";
LBM_LBMMessageType =     "LBMMessageType";
LBM_JMSTopicType =       "JMSTopicType";
LBM_JMSReplyToName =     "JMSReplyToName";
LBM_JMSReplyToWildcard = "JMSReplyToWildcard";
LBM_JMSReplyToType =     "JMSReplyToType";
               
</pre>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.3.1-KNOWNISSUES" name="UMQ5.3.1-KNOWNISSUES">7.3.3. Known
Issues</a></h4>

<ul>
<li>
<p>The method, <code class="FUNCTION">getJMSRedelivered</code> for a message always
returns false for redelivered messages when using Queue Session IDs along with the
topic's <tt class="LITERAL">message-reassignment-timeout</tt> set to 0 (zero).</p>
</li>

<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>

<li>
<p>When servicing large message retrieval requests from a queue browser, the queue may
become busy enough that the receiver perceives it as unresponsive and re-registers with
the queue, canceling the message retrieval request. Informatica recommends limiting large
message retrievals to 1000 messages at a time, waiting for each retrieval to finish
before beginning the next retrieval request</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.3-UMP5.3-UMQ5.3" name="SECUMS5.3-UMP5.3-UMQ5.3">8.
Release UMS 5.3 / UMP 5.3 / UMQ 5.3 - June - 2012</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.3" name="UMS5.3">8.1. UMS 5.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.3-UPDATES" name="UMS5.3-UPDATES">8.1.1. Updates</a></h4>

<ul>
<li>
<p>The behavior of the context attribute <a
href="../Config/majoroptions.html#CONTEXTNETWORKCOMPATIBILITYMODE" target="doccontent"><tt
class="LITERAL">network_compatibility_mode</tt></a> was enhanced to provide compatibility
with each <b class="APPLICATION">UM</b> release from <b class="APPLICATION">LBM</b> 3.6
to the present. See also <a href="../Config/reference.html#NETWORKCOMPATIBILITY"
target="doccontent">Network Compatibility Mode</a>.</p>
</li>

<li>
<p>The UM Gateway is now a separate download package.</p>
</li>

<li>
<p>Added additional <span class="TRADEMARK">Microsoft</span> redistributable DLL's to <b
class="APPLICATION">UM</b> <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> packages to accompany MSVCR80.</p>
</li>

<li>
<p><b class="APPLICATION">Off Transport Recovery (OTR) -</b> Modified this feature to
flag messages recovered by OTR with the OTR flag. In the previous version, OTR flagged
recovered messages with the RETRANSMIT flag. (This may involve a code change for some
users.) Also, OTR now initiates independently of NAK behavior by receivers. Added 3 new
OTR configurations options.</p>

<ul>
<li>
<p><a href="../Config/off-transportrecoveryoptions.html#RECEIVEROTRREQUESTINITIALDELAY"
target="doccontent"><tt class="LITERAL">otr_request_initial_delay</tt></a></p>
</li>

<li>
<p><a
href="../Config/off-transportrecoveryoptions.html#RECEIVEROTRREQUESTLOGALERTCOOLDOWN"
target="doccontent"><tt class="LITERAL">otr_request_log_alert_cooldown</tt></a></p>
</li>

<li>
<p><a
href="../Config/off-transportrecoveryoptions.html#RECEIVEROTRREQUESTMAXIMUMINTERVAL"
target="doccontent"><tt class="LITERAL">otr_request_maximum_interval</tt></a></p>
</li>
</ul>

<p>See also <a href="../Design/lbm-features.html#OTR" target="doccontent">Off-Transport
Recovery (OTR)</a>.</p>
</li>

<li>
<p>The SmartHeap library has been removed from the <b class="APPLICATION">UM</b>
distribution, as it is not used by <b class="APPLICATION">UM</b>.</p>
</li>

<li>
<p>Changed all <b class="APPLICATION">UM</b> daemons to print consistent version
information when using the <tt class="LITERAL">-h</tt> option.</p>
</li>

<li>
<p><b class="APPLICATION">Important -</b> Users are strongly advised not to configure any
port or port range with values which fall within your platform's ephemeral port range.
This includes the <tt class="LITERAL">umestored</tt> port, LBT-TCP source ports, resolver
UDP ports, RM destination and source ports or any port that you can configure. All <b
class="APPLICATION">UM</b> default ports explicitly avoid all platform ephemeral port
values.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3-FIXES" name="UMS5.3-FIXES">8.1.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Resolved the Known Issue: <span class="emphasis"><i class="EMPHASIS">When using the <a
href="../Design/lbm-objects.html#LBT-IPC-RESOURCE-MANAGER" target="doccontent">LBT-IPC Resource
Manager</a> tool to view the currently allocated IPC transport sessions, the Session ID
is presented in the reverse byte order from what is given to the application via the
source string.</i></span> The byte order and order shared memory region name now present
correctly.</p>
</li>

<li>
<p>Corrected various memory leaks associated with the Arrival Order with Reassembly
feature. ( <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> = -1.)</p>
</li>

<li>
<p>Corrected a problem with Arrival Order with Reassembly that could cause a crash when
reassembling messages with more than 256 fragments. ( <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> = -1.)</p>
</li>

<li>
<p>Corrected an issue with the UM Gateway prevented a persistent source from resolving
the name of a store which had been restarted.</p>
</li>

<li>
<p>Added additional validation logic to Topic Resolution advertisement (TIR) processing
to prevent malformed packets from causing an invalid memory access, potentially leading
to a crash.</p>
</li>

<li>
<p>Corrected a problem with the LBT-IPC transport that caused a <b
class="APPLICATION">UM</b> source to abort when multiple receivers were killed while the
source was sending data. A lock was added to serialize receiver deletion.</p>
</li>

<li>
<p>Fixed an issue in the <a href="../API/index.html" target="doccontent">C API</a> only that
could cause a SEGV if a you reuse a message properties object.</p>
</li>

<li>
<p>Fixed an issue in the <a href="../API/index.html" target="doccontent">C API</a> only where
properties could be duplicated if you reused the same message properties object.</p>
</li>

<li>
<p>Fixed a small memory leak when creating multiple receivers on the same topic and
context.</p>
</li>

<li>
<p>Corrected a problem with LBT-IPC on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> that caused receivers to stop receiving messages.</p>
</li>

<li>
<p>Corrected the <a href="../JavaAPI/html/index.html" target="doccontent">Java API</a> <code
class="FUNCTION">isFragment()</code> method to return TRUE if a message is a Fragment and
false if it is an assembled message, just like the <a href="../DotNetAPI/doc/Index.html"
target="doccontent">.NET API</a>. Also created a new <a href="../API/index.html"
target="doccontent">C API</a> function, <code
class="FUNCTION">lbm_msg_is_fragment()</code>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3-KNOWNISSUES" name="UMS5.3-KNOWNISSUES">8.1.3. Known
Issues</a></h4>

<ul>
<li>
<p>The <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> does not support
message selectors with unicode symbols and causes receiver creation to fail.</p>
</li>

<li>
<p><b class="APPLICATION">UM</b> does not support the use of Unicode PCRE characters in
wildcard receiver patterns on any system that communicates with a HP-UX or AIX
system.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multitransport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multitransport Threads feature. Informatica does not support nor test
the operation of Multitransport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multitransport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.3-INCOMPATIBILITIES"
name="UMS5.3-INCOMPATIBILITIES">8.1.4. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.3" name="UMP5.3">8.2. UMP 5.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.3-NEW" name="UMP5.3-NEW">8.2.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Receiver-paced Persistence (RPP) -</b> This feature retains RPP
messages until all RPP receivers acknowledge consumption. The repository maintains an
accurate count of all RPP receivers. You enable RPP with <b class="APPLICATION">UM</b>
configuration options. No special API calls are needed. See <a
href="../UME/ume-ops-operational-view.html#UMP-RPPOPS" target="doccontent">Receiver-paced
Persistence Operations</a>.</p>
</li>

<li>
<p>Added the repository type <tt class="LITERAL">reduced-fd</tt>, which reduces the
number of file descriptors used by <b class="APPLICATION">UM</b> See <a
href="../UME/architectures.html#SOURCE-REPOSITORIES" target="doccontent">Source
Repositories</a></p>
</li>

<li>
<p>Added the <b class="APPLICATION">UM</b> configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEFLIGHTSIZEBYTES"
target="doccontent"><tt class="LITERAL">ume_flight_size_bytes</tt></a>.</p>
</li>

<li>
<p>Enabled <b class="APPLICATION">UM</b> to send retransmissions from a thread separate
from the main context thread so as not to impede live message data processing. The <tt
class="LITERAL">&lt;store&#62;</tt> configuration option, <tt
class="LITERAL">retransmission-request-processing-rate</tt>, sets the store's capacity to
process retransmission requests. See also <a
href="../UME/umestored-config.html#UMESTORED-STORE-OPTIONS" target="doccontent">Options for a
Store's ume-attributes Element</a> and <a
href="../UME/ume-ops-operational-view.html#UMP-RPPOPS" target="doccontent">Receiver-paced
Persistence Operations</a>.</p>
</li>

<li>
<p>Added the <b class="APPLICATION">UM</b> configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEREPOSITORYACKONRECEPTION"
target="doccontent"><tt class="LITERAL">ume_repository_ack_on_reception</tt></a>. When set by a
<b class="APPLICATION">UM</b> source in a RPP configuration, this option's value can
reset the repository's option, <tt
class="LITERAL">repository-allow-ack-on-reception</tt>. See also <a
href="../UME/umestored-config.html#UMESTORED-TOPIC-OPTIONS" target="doccontent">Options for a
Topic's ume-attributes Element</a> and <a
href="../UME/ume-ops-operational-view.html#UMP-RPPOPS" target="doccontent">Receiver-paced
Persistence Operations</a></p>
</li>

<li>
<p>Added the <b class="APPLICATION">UM</b> configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEWRITEDELAY"
target="doccontent"><tt class="LITERAL">ume_write_delay</tt></a>. When set by a <b
class="APPLICATION">UM</b> source in a RPP configuration, this option's value can reset
the repository's option, <tt class="LITERAL">repository-disk-write-delay</tt>. See also
<a href="../UME/umestored-config.html#UMESTORED-TOPIC-OPTIONS" target="doccontent">Options for
a Topic's ume-attributes Element</a> and <a
href="../UME/ume-ops-operational-view.html#UMP-RPPOPS" target="doccontent">Receiver-paced
Persistence Operations</a></p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3-UPDATES" name="UMP5.3-UPDATES">8.2.2. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">UMP</b> store daemons (<tt class="LITERAL">umestored</tt>) now
include a hexadecimal session ID in log messages that include a registration ID. Also all
registration ID are now printed as an unsigned decimal number.</p>
</li>

<li>
<p>Added improvements to speed the start-up of the <b class="APPLICATION">UMP</b> store
daemon (<tt class="LITERAL">umestoreds</tt>) when run as a <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> service. At
startup, <tt class="LITERAL">umestoreds</tt> creates a separate thread to communicate
with the <span class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span>
Service Manager while the cache file loads.</p>
</li>

<li>
<p>Added the ability in <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span></b> <b class="APPLICATION">Manager</b> to configure the LBM license in
the <tt class="FILENAME">umm.properties</tt> file.</p>
</li>

<li>
<p>Added <b class="APPLICATION">UMP</b> liveness detection creation and deletion
callbacks to the sample applications, <tt class="FILENAME">umesrc.c</tt>, <tt
class="FILENAME">umesrc.cs</tt> and <tt class="FILENAME">umesrc.java</tt>.</p>
</li>

<li>
<p><tt class="LITERAL">umestored</tt> now logs a warning if it releases a message and
that message has not been consumed by at least one receiver whose state is maintained in
<tt class="LITERAL">umestored</tt>. The warning has the identifier: Store-6007-2.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3-FIXES" name="UMP5.3-FIXES">8.2.3. Bug Fixes</a></h4>

<ul>
<li>
<p>Resolved the Known Issue: <span class="emphasis"><i class="EMPHASIS">If a source
application stops and you restart it before the receiving application declares the EOS
event, the receiving application does not send a new keepalive message. The source
requires a keepalive message in order to declare a receiver "alive."</i></span></p>
</li>

<li>
<p>Corrected a problem that caused a restarted store to delete source and topic
information after a short period of time. A restarted store now correctly persists the
source lifetime timeouts which prevents the source from deleting the source and
topic.</p>
</li>

<li>
<p>Fixed a memory leak that occurred in the <b class="APPLICATION">UMP</b> store daemon
(<tt class="LITERAL">umestored</tt>) when deleting proxy sources.</p>
</li>

<li>
<p>Fixed a small memory leak on <b class="APPLICATION">UMP</b> sources related to named
store resolution.</p>
</li>

<li>
<p>Fixed a problem that could cause TSNIs with incorrect sequence numbers to be sent when
a <b class="APPLICATION">UMP</b> source re-registers. This could trigger unrecoverable
loss at non-<b class="APPLICATION">UMP</b> receivers.</p>
</li>

<li>
<p>Changed a non-fatal assert <tt class="LITERAL">[nnode!=NULL]</tt> to a debug statement
stating the last sequence number in the ASL, and the sequence number currently searched
on. For example: <tt class="LITERAL">[27461:1100937536|1041.662]:nnode is NULL. Last SQN
in ASL 37e SQN number requested 37f</tt></p>
</li>

<li>
<p>Corrected a problem with <tt class="LITERAL">umestored</tt> that causes a receiver's
state to be improperly created during store recovery.</p>
</li>

<li>
<p>Corrected a problem that caused a store upon startup todelay persisting messages for
up to the configured <a
href="../Config/latejoinoptions.html#RECEIVERRETRANSMITREQUESTGENERATIONINTERVAL"
target="doccontent"><tt class="LITERAL">retransmit_request_generation_interval</tt></a>
(default 10 seconds), while attempting to recover messages that the source has already
released. Now source reports the unavailability of the requested messages to the store
and the store resume persistence without delay.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.3-KNOWNISSUES" name="UMP5.3-KNOWNISSUES">8.2.4. Known
Issues</a></h4>

<ul>
<li>
<p><b class="APPLICATION">UMP</b> stores sometimes fail to send message stability
acknowledgements to sources for messages sent while the store was being reported
unresponsive by the source. Informatica is investigating this problem.</p>
</li>

<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generation_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.3" name="UMQ5.3">8.3. UMQ 5.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.3-UPDATES" name="UMQ5.3-UPDATES">8.3.1. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">JMS Message Selectors -</b> Support for message selectors was
added to Ultra Messaging JMS. The feature can also be used in other APIs by setting the
<a href="../Config/majoroptions.html#RECEIVERMESSAGESELECTOR" target="doccontent"><tt
class="LITERAL">message_selector</tt></a> receiver option to a valid message selector
string. This allows receivers to filter messages based on the message properties of each
incoming message. See <a href="../jms_concepts/messageselectors.html"
target="doccontent">Message Selectors</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Automatic Reassignment on Receiver Failure -</b> A receiver
that fails can now return with its original assignment ID and continue to receive queued
messages in the correct order. To enable this feature, use the new <b
class="APPLICATION">UM</b> configuration option, <a
href="../Config/ultramessagingqueuingoptions.html#CONTEXTUMQSESSIONID" target="doccontent"><tt
class="LITERAL">umq_session_id</tt></a>. See also, <a
href="../UME/designing-queuing-applications.html#QUEUE-SES-IDS" target="doccontent">Queue
Session IDs</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Ultra Messaging JMS now supports UMP Session IDs. -</b> Ultra
Messaging JMS now supports the use of <b class="APPLICATION">UMP</b> Session IDs.
Implementation of this Ultra Messaging JMS feature involves the new ConnectionFactory
configuration option, <a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYUSEUMPSESSIONIDS"
target="doccontent"><tt class="LITERAL">use_ump_session_ids</tt></a>. See also <a
href="../jms_concepts/sessionids.html#SESSIONIDSUMP" target="doccontent">UMP Session
IDs</a>.</p>
</li>

<li>
<p>Updated the <a href="../UME/umqsltool.html" target="doccontent">umqsltool</a> UMQ SINC log
utility to understand two new SINC log event types new to this release (RCV_REG and
CTX_REG SINC), and added printing a message's topic to the default dump tool.</p>
</li>

<li>
<p>Added <a href="../API/index.html" target="doccontent">C API</a> and <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> supports for message
selectors to the queue browser commands <code
class="FUNCTION">lbm_rcv_umq_queue_msg_list()</code> and <code
class="FUNCTION">LBMReceive.queueMessageList()</code>. The message selector can be used
by setting the <tt class="LITERAL">message_selector</tt> structure in the API function
input parameter list. This allows the queue to control which messages get listed by using
the message selector string to filter based on the message properties of each currently
enqueued message.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.3-FIXES" name="UMQ5.3-FIXES">8.3.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Changed the <tt class="LITERAL">createConnection()</tt> methods in the
ConnectionFactory to be thread safe. This problem caused various exceptions in
multithreaded applications.</p>
</li>

<li>
<p>Corrected a queue master election problem that prevented a former slave queue instance
running on the Solaris SPARC platform (Solaris x86 was not affected) from correctly
electing itself master in the event of a master queue instance failure.</p>
</li>

<li>
<p>Corrected a problem with Dead Letter Queue that caused expired messages to be
correctly placed on the Master Queue's Dead Letter Queue but not created on one or more
Slave Queue instances.</p>
</li>

<li>
<p>Corrected the <tt class="LITERAL">LBMMessage.queueIndexInfo()</tt> method to now
simply return null if no <b class="APPLICATION">UMQ</b> indexed queuing index information
is present for a message, rather than throwing an exception. This matches the existing
behavior of the .NET UMQ API.</p>
</li>

<li>
<p>Changed the Ultra Messaging JMS example application <tt class="LITERAL">pong.sh</tt>
to ensure that the JAVA_HOME environment variable has been set.</p>
</li>

<li>
<p>Corrected problems with the <tt class="LITERAL">QueueReceiver.java</tt> example
application. Not the application is consistent with the JMS interfaces and can be be
recompiled with just the jms.jar.</p>
</li>

<li>
<p>Fixed a problem that could cause a crash in <b class="APPLICATION">UM</b> applications
with multi-threaded transports enabled if a multi-threaded transport context happened to
re-use the request port from an earlier instance of an application and received a <b
class="APPLICATION">UMQ</b> keepalive packet intended for the previous application.</p>
</li>

<li>
<p>Fixed a possible deadlock in Ultra Messaging JMS that could occur when closing a
session that had asynchronous consumers.</p>
</li>

<li>
<p>Corrected a problem with the <a href="../UME/umqsltool.html"
target="doccontent">umqsltool</a> utility that could cause a crash when working with a SINC log
file that contained an application set for which no receivers had ever registered.</p>
</li>

<li>
<p>Corrected a problem in Ultra Messaging JMS that resulted in the truncation of Unicode
Text messages with non-ASCII characters.</p>
</li>

<li>
<p>Corrected a problem with multiple JMS producers sending on the same topic within the
same LBMContext (JMSConnection). A single <b class="APPLICATION">UM</b> source now caches
all JMS producers sending on the topic.</p>
</li>

<li>
<p>Corrected a problem with JMS messages received in a durable subscriber sent by a
native <b class="APPLICATION">UM</b> source which resulted in an exception. Now <b
class="APPLICATION">UM</b> checks the source of a JMS message before determining and
sending the proper response.</p>
</li>

<li>
<p>Corrected a problem with the <b class="APPLICATION">UMQ</b> queue daemon (<tt
class="LITERAL">umestored</tt>) that caused a crash in some circumstances when it
received a message resubmission for a message it already had.</p>
</li>

<li>
<p>Corrected a problem with proxy source election that resulted in proxy sources to
bounce between configured stores due to a short proxy election interval. This interval
has been lengthened.</p>
</li>

<li>
<p>Fixed a problem that could cause a fatal assertion when an queue browser receiver or
observer received a message from the queue in response to a previously canceled message
retrieval request.</p>
</li>

<li>
<p>Fixed a problem that could cause a <tt class="LITERAL">[topic-&#62;rcv!=NULL]</tt>
fatal assert when deleting a receiver with an outstanding <b class="APPLICATION">UMQ</b>
deregister event.</p>
</li>

<li>
<p>Corrected a problem with the <b class="APPLICATION">UM</b> JMS method <code
class="FUNCTION">setJMSType()</code> that caused <code
class="FUNCTION">getJMSType()</code> to always return NULL.</p>
</li>

<li>
<p>Fixed an issue that could sometimes cause a <b class="APPLICATION">UMQ</b> queue
daemon (<tt class="LITERAL">umestored</tt>) configured as a disk queue to improperly
start up if it had previously received messages that contained application headers (e.g.
messages with the total message lifetime option set on the source, messages with an index
set, or most JMS messages).</p>
</li>

<li>
<p>Fixed a <b class="APPLICATION">UMQ</b> issue that could cause a receiver's portion
size to be ignored when assigning messages with indices to that receiver.</p>
</li>

<li>
<p>Fixed a <b class="APPLICATION">UMQ</b> issue that could result in several non-fatal
asserts, such as <tt class="LITERAL">Core-5688-8: WARNING: failed assertion
[stream-&#62;reassembler.full_msg-&#62;len==total_len]</tt> and <tt
class="LITERAL">Core-5688-8: WARNING: failed assertion
[stream-&#62;reassembler.first_sqn==first_sqn]</tt>. A system crash was also
possible.</p>
</li>

<li>
<p>Fixed a <b class="APPLICATION">UMQ</b> issue that would prevent context registrations
in the queue from succeeding when a new context registered on an IP and port that had
already been in use by a previous context.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.3-KNOWNISSUES" name="UMQ5.3-KNOWNISSUES">8.3.3. Known
Issues</a></h4>

<ul>
<li>
<p>The method, <code class="FUNCTION">getJMSRedelivered</code> for a message always
returns false for redelivered messages when using Queue Session IDs along with the
topic's <tt class="LITERAL">message-reassignment-timeout</tt> set to 0 (zero).</p>
</li>

<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>

<li>
<p>When servicing large message retrieval requests from a queue browser, the queue may
become busy enough that the receiver perceives it as unresponsive and re-registers with
the queue, canceling the message retrieval request. Informatica recommends limiting large
message retrievals to 1000 messages at a time, waiting for each retrieval to finish
before beginning the next retrieval request</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.2.2-UMP5.2.2-UMQ5.2.2"
name="SECUMS5.2.2-UMP5.2.2-UMQ5.2.2">9. Release UMS 5.2.2 / UMP 5.2.2 / UMQ 5.2.2 - March
- 2012</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2.2" name="UMS5.2.2">9.1. UMS 5.2.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.2.2-UPDATES" name="UMS5.2.2-UPDATES">9.1.1.
Updates</a></h4>

<ul>
<li>
<p>Updated the UM Gateway to append its log file by default instead of starting with a
new log file everytime. You now have the option to remove any previous logging
information from the UM Gateway log file at your discretion.</p>
</li>

<li>
<p>Implemented the following new Hot Failover features in the <a href="../API/index.html"
target="doccontent">C API</a>, the <a href="../JavaAPI/html/index.html" target="doccontent">Java
API</a> and the <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>.</p>

<ul>
<li>
<p>Hot Failover for Wildcard Receivers</p>
</li>

<li>
<p>64-bit Hot Failover sequence numbers</p>
</li>

<li>
<p>Reduced size of Hot Failover message headers</p>
</li>

<li>
<p>Added <code class="FUNCTION">lbm_hf_src_send_rcv_reset()</code> to allow hot-failover
receivers to reset their state.</p>
</li>
</ul>

<p>All example applications have been updated with these new features.</p>

<p>Compatibility Issues:</p>

<ul>
<li>
<p>All normal Hot Failover (no gaps or optional messages) work fine across all
versions.</p>
</li>

<li>
<p>New Receivers can handle intentional gap and optional messages from any version.</p>
</li>

<li>
<p>Pre-<b class="APPLICATION">UM</b> Core 5.1.1 receivers will not be able to handle
intentional gap and optional messages from 5.1.1 sources.</p>
</li>
</ul>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2.2-FIXES" name="UMS5.2.2-FIXES">9.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a file descriptor problem that caused a fatal assert if a file descriptor
was closed before it was cancelled within <b class="APPLICATION">UM</b>.</p>
</li>

<li>
<p>Fixed an issue with ordering Hot Failover intentional gaps that could, in rare cases
involving loss, cause a segfault.</p>
</li>

<li>
<p>Resolved a Topic Resolution issue where certain inputs on the topic resolution socket
could cause a buffer overrun, sometimes resulting in a crash.</p>
</li>

<li>
<p>Corrected the handling of socket errors, such as when a TCP socket could not be
connected on a Unix system. This error results in the repetition of the following error
message: <tt class="LITERAL">lbm_socket_recv recv/recvfrom: (107) Transport endpoint is
not connected</tt>.</p>
</li>

<li>
<p>Fixed an issue where bad input on a TCP stream could cause a buffer overrun, sometimes
resulting in a crash.</p>
</li>

<li>
<p>Fixed an issue where a malformed context advertisement could cause a SEGV in certain
cases.</p>
</li>

<li>
<p>Fixed several places where a malformed packet could cause parsing to go into an
infinite loop or cause a fatal assert.</p>
</li>

<li>
<p>Changed the behavior of <b class="APPLICATION">UM</b> when it cannot locate the <b
class="APPLICATION">UM</b> library. Previously, <b class="APPLICATION">UM</b> printed a
warning. Now <b class="APPLICATION">UM</b> exits when it cannot locate the <b
class="APPLICATION">UM</b> library.</p>
</li>

<li>
<p>Corrected <code class="FUNCTION">lbm_msg_properties_get()</code> to set the length
parameter to the actual length of the property, and to accept a length which is larger
than the required length of the property.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that prevented a <b
class="APPLICATION">UMP</b> store name from being properly resolved through two
consecutive gateway peer hops.</p>
</li>

<li>
<p>Removed a number of fatal asserts in the message processing path that could cause a
process to abort due to bad network input.</p>
</li>

<li>
<p>Fixed an issue when receiving fragmented messages containing message properties that
could result in a fatal assert or incorrect message length. Although no fatal assert now
occurs in this situation, <b class="APPLICATION">UM</b> ignores message properties if <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> is set to arrival order without reassembly
(option value = 0).</p>
</li>

<li>
<p>Corrected a problem that caused boolean message property values to be inverted when
retrieved with the .NET API.</p>
</li>

<li>
<p>Changed the parsing of the context, source and receiver scoped <a
href="../Config/ultramessagingpersistenceoptions.html#CONTEXTUMESESSIONID"
target="doccontent"><tt class="LITERAL">ume_session_id</tt></a> setting to allow octal,
decimal, or hexadecimal values (e.g. 01, 1, 0x1, respectively). Parsing previously
assumed that all strings were in hexadecimal.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2.2-KNOWNISSUES" name="UMS5.2.2-KNOWNISSUES">9.1.3. Known
Issues</a></h4>

<ul>
<li>
<p>When using the <a href="../Design/lbm-objects.html#LBT-IPC-RESOURCE-MANAGER"
target="doccontent">LBT-IPC Resource Manager</a> tool to view the currently allocated IPC
transport sessions, the Session ID is presented in the reverse byte order from what is
given to the application via the source string.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multitransport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multitransport Threads feature. Informatica does not support nor test
the operation of Multitransport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multitransport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2.2-INCOMPATIBILITIES"
name="UMS5.2.2-INCOMPATIBILITIES">9.1.4. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.2.2" name="UMP5.2.2">9.2. UMP 5.2.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.2.2-NEW" name="UMP5.2.2-NEW">9.2.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Operations Guide -</b> Added the first edition of the <b
class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> Operations Guide.
This first edition contains monitoring strategies and troubleshooting information for
supporting the operation of <b class="APPLICATION">UMP</b>. Future editions will include
more problem resolution scenarios and error message descriptions.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.2.2-UPDATES" name="UMP5.2.2-UPDATES">9.2.2.
Updates</a></h4>

<ul>
<li>
<p>Informatica has demonstrated operation with JDBC interfaces to <span
class="TRADEMARK">MySQL</span>&#8482; and <span class="TRADEMARK">Oracle</span>&reg;
databases. You may be able to use other JDBC databases, but Informatica has only tested
with <span class="TRADEMARK">MySQL</span> and <span class="TRADEMARK">Oracle</span>.</p>
</li>

<li>
<p>Changed how the <b class="APPLICATION">UMP</b> store behaves when it runs out of disk
space. Previously, the store continually logged error messages in the <tt
class="LITERAL">umestored</tt> log. Now the store logs a warning (<tt
class="LITERAL">[WARNING]: Store-5688-5265: [WARNING] aio_proactor GQCS: (112) There is
not enough space on the disk</tt>) and exits when it can no longer write to disk.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.2.2-FIXES" name="UMP5.2.2-FIXES">9.2.3. Bug
Fixes</a></h4>

<ul>
<li>
<p>Changed the severity level of the error message <tt class="LITERAL">disk-cache file
ends prematurely</tt> that appears in the <b class="APPLICATION">UMP</b> store log file
when the store restarts. This is now only a warning.</p>
</li>

<li>
<p>Fixed a compatibility problem between the <b class="APPLICATION">UMM</b> GUI and Java
Version 1.7. The <tt class="LITERAL">AttributesDialog</tt> was using the same method name
as the <tt class="LITERAL">Dialog</tt> object.</p>
</li>

<li>
<p>Fixed an issue that could cause a <b class="APPLICATION">UMP</b> store daemon (<tt
class="LITERAL">umestored</tt>) to improperly delete receiver state information during
shutdown.</p>
</li>

<li>
<p>Fixed a problem that caused sources (persistent publishers) to ignore message
stability acknowledgements from stores marked as inactive. Sources now process message
stability acknowledgements from inactive stores.</p>
</li>

<li>
<p>Corrected a problem with restarted stores that prevented the registration of proxy
sources.</p>
</li>

<li>
<p>Fixed an issue with wildcard receivers using event queues where under certain
circumstances messages would not be automatically deleted. In this case, <b
class="APPLICATION">UMP</b> does not send delivery confirmations to the source.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.2.2-KNOWNISSUES" name="UMP5.2.2-KNOWNISSUES">9.2.4. Known
Issues</a></h4>

<ul>
<li>
<p><b class="APPLICATION">UMP</b> stores sometimes fail to send message stability
acknowledgements to sources for messages sent while the store was being reported
unresponsive by the source. Informatica is investigating this problem.</p>
</li>

<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generation_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>If a source application stops and you restart it before the receiving application
declares the EOS event, the receiving application does not send a new keepalive message.
The source requires a keepalive message in order to declare a receiver "alive."
Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.2.2" name="UMQ5.2.2">9.3. UMQ 5.2.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.2.2-UPDATES" name="UMQ5.2.2-UPDATES">9.3.1.
Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">JMS Queue Browser -</b> Added support for this JMS
specification for the <a href="../API/index.html" target="doccontent">C API</a>, the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../JMSAPI/html/index.html" target="doccontent">JMS API</a>. The <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> will be supported in a
future release. The JMS Queue Browser allows the following. (See also <a
href="../UME/ume-ops-operational-view.html#QUEUEBROWSER" target="doccontent">Queue
Browser</a>.)</p>

<ul>
<li>
<p>Retrieving a list of topics and application sets from a running queue daemon via the
new <code class="FUNCTION">LBMContext.queueTopicList()</code> Java API call.</p>
</li>

<li>
<p>Retrieving a list of currently-enqueued message IDs from a running queue daemon via
the new <code class="FUNCTION">LBMReceiver.queueMessageList()</code> Java API call.</p>
</li>

<li>
<p>Retrieving specific messages by message ID from a running queue daemon via the new
<code class="FUNCTION">LBMReceiver.queueMessageRetrieve()</code> Java API call.</p>
</li>
</ul>
</li>

<li>
<p>Added the following <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span></b> configuration options to support the JMS Queue Browser.</p>

<ul>
<li>
<p><a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYCREATEQUEUEBROWSERCONTEXT"
target="doccontent"><tt class="LITERAL">create_queue_browser_context</tt></a></p>
</li>

<li>
<p><a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYQUEUEBROWSERCREATIONDELAY"
target="doccontent"><tt class="LITERAL">queue_browser_creation_delay</tt></a></p>
</li>

<li>
<p><a href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYQUEUEBROWSERTIMEOUT"
target="doccontent"><tt class="LITERAL">queue_browser_timeout</tt></a></p>
</li>

<li>
<p><a
href="../Config/ultramessagingqueuingoptions.html#CONTEXTUMQREQUIREQUEUEAUTHENTICATION"
target="doccontent"><tt class="LITERAL">umq_require_queue_authentication</tt></a></p>
</li>
</ul>
</li>

<li>
<p>Added the <tt class="LITERAL">umestored</tt> daemon option, <tt
class="LITERAL">lbm-password-file</tt> and the queue option, <tt
class="LITERAL">require-client-authentication</tt>, to support the requirement for
clients to authenticate with the queue before performing Queue Browsing actions such as,
listing all topics within a queue or retrieving a specific message by ID.</p>
</li>

<li>
<p>Added two new return values for <code class="FUNCTION">lbm_geterr()</code>.</p>

<ul>
<li>
<p>LBM_ENO_QUEUE_REG returns when a message send by source, which is connected to both a
store and a queue, fails because the source has lost registration with the queue.</p>
</li>

<li>
<p>LBM_ENO_STORE_REG returns when a message send by source, which is connected to both a
store and a queue, fails because the source has lost registration with the store.</p>
</li>
</ul>

<p>LBM_EUMENOREG has been changed to return when a message send by a source fails because
the source has lost registration with either a single store, a single queue or both a
store and a queue with which the source was simultaneously connected.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.2.2-FIXES" name="UMQ5.2.2-FIXES">9.3.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Resolved the Known Issue: <span class="emphasis"><i class="EMPHASIS">When using
multiple sending threads, a Queue (<tt class="LITERAL">umestored</tt>) can deadlock. As a
workaround, Informatica suggests that you specify only a single sending thread. Note that
1 sending thread is the current default.</i></span> You can now use multiple sending
threads within a queue.</p>
</li>

<li>
<p>Fixed a race condition that could cause a reclaim source event to be delivered before
all stability source events were delivered for a particular UMQ message. This occurred if
the message was sent to a queue configured with more than one queue group. (Sending to a
single group containing multiple queue instances was not affected.)</p>
</li>

<li>
<p>Corrected an issue in JMS when sending messages larger than 64K resulted in the error
message, <tt class="LITERAL">Core-5688-4383: JNI detected an exception in
(jni_src_cb:423):java.lang.NullPointerException</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.2.2-KNOWNISSUES" name="UMQ5.2.2-KNOWNISSUES">9.3.3. Known
Issues</a></h4>

<ul>
<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.2.1-UMP5.2.1-UMQ5.2.1"
name="SECUMS5.2.1-UMP5.2.1-UMQ5.2.1">10. Release UMS 5.2.1 / UMP 5.2.1 / UMQ 5.2.1 -
February 2012</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2.1" name="UMS5.2.1">10.1. UMS 5.2.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.2.1-UPDATES" name="UMS5.2.1-UPDATES">10.1.1. Updated
Features</a></h4>

<ul>
<li>
<p>Changed Topic Resolution behavior to more fairly distribute topic advertisements (TIR)
when <a
href="../Config/resolveroperationoptions.html#SOURCERESOLVERADVERTISEMENTSENDIMMEDIATERESPONSE"
 target="doccontent"><tt
class="LITERAL">resolver_advertisement_send_immediate_response</tt></a> has been
disabled. Previously, not sending immediate responses to queries and wildcard queries
resulted in some topics being un-advertised for long periods of time.</p>
</li>

<li>
<p>Added an error log message to indicate when a response operation cannot be completed
because <a href="../Config/requestnetworkoptions.html#CONTEXTREQUESTTCPBINDREQUESTPORT"
target="doccontent"><tt class="LITERAL">request_tcp_bind_request_port</tt></a> has been set to
0 (zero). This occurs for features that use the response channel, such as Late Join,
Request/Response, Unicast Immediate Messages, <b class="APPLICATION">UMP</b> and <b
class="APPLICATION">UMQ</b>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2.1-FIXES" name="UMS5.2.1-FIXES">10.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with the UM Gateway that resulted in wildcard receivers deafness
when a wildcard receiver application stopped and restarted before the gateway's proxy
wildcard receiver restarted. This could result in the loss of gateway proxy receivers for
the individual topics matching the wildcard receiver pattern. The UM Gateway now ensures
that an individual topic proxy receiver exists for a proxy wildcard receiver after it
receives any topic advertisement (TIR) for the topic instead of just the first TIR.</p>
</li>

<li>
<p>Corrected an incompatibility with <b class="APPLICATION">UMDS</b> 1.1.1 introduced in
<b class="APPLICATION">UMS</b>/<b class="APPLICATION">UMP</b>/<b
class="APPLICATION">UMQ</b> 5.2 that prevented UMDS Receivers from using Late Join. <b
class="APPLICATION">UMDS</b> 1.1.1 may now be used with <b class="APPLICATION">UMS</b>/<b
class="APPLICATION">UMP</b>/<b class="APPLICATION">UMQ</b> 5.2.1.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2.1-KNOWNISSUES" name="UMS5.2.1-KNOWNISSUES">10.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using the <a href="../Design/lbm-objects.html#LBT-IPC-RESOURCE-MANAGER"
target="doccontent">LBT-IPC Resource Manager</a> tool to view the currently allocated IPC
transport sessions, the Session ID is presented in the reverse byte order from what is
given to the application via the source string.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multitransport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multitransport Threads feature. Informatica does not support nor test
the operation of Multitransport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multitransport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2.1-INCOMPATIBILITIES"
name="UMS5.2.1-INCOMPATIBILITIES">10.1.4. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.2.1" name="UMP5.2.1">10.2. UMP 5.2.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.2.1-FIXES" name="UMP5.2.1-FIXES">10.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.2.1-KNOWNISSUES" name="UMP5.2.1-KNOWNISSUES">10.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generaltion_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>If a source application stops and you restart it before the receiving application
declares the EOS event, the receiving application does not send a new keepalive message.
The source requires a keepalive message in order to declare a receiver "alive."
Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.2.1" name="UMQ5.2.1">10.3. UMQ 5.2.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.2.1-FIXES" name="UMQ5.2.1-FIXES">10.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.2.1-KNOWNISSUES" name="UMQ5.2.1-KNOWNISSUES">10.3.2.
Known Issues</a></h4>

<ul>
<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>

<li>
<p>When using multiple sending threads, a Queue (<tt class="LITERAL">umestored</tt>) can
deadlock. As a workaround, Informatica suggests that you specify only a single sending
thread. Note that 1 sending thread is the current default.</p>
</li>

<li>
<p></p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.11-UME3.2.11-UMQ2.1.11"
name="SECLBM4.2.11-UME3.2.11-UMQ2.1.11">11. Release LBM 4.2.11 / UME 3.2.11 / UMQ 2.1.11
- February 2012</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.11" name="LBM4.2.11">11.1. LBM 4.2.11</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.11-UPDATES" name="LBM4.2.11-UPDATES">11.1.1. Updated
Features</a></h4>

<ul>
<li>
<p>Changed Topic Resolution behavior to more fairly distribute topic advertisements (TIR)
when <a
href="../Config/resolveroperationoptions.html#SOURCERESOLVERADVERTISEMENTSENDIMMEDIATERESPONSE"
 target="doccontent"><tt
class="LITERAL">resolver_advertisement_send_immediate_response</tt></a> has been
disabled. Previously, not sending immediate responses to queries and wildcard queries
resulted in some topics being un-advertised for long periods of time.</p>
</li>

<li>
<p>Added an error log message to indicate when a response operation cannot be completed
because <a href="../Config/requestnetworkoptions.html#CONTEXTREQUESTTCPBINDREQUESTPORT"
target="doccontent"><tt class="LITERAL">request_tcp_bind_request_port</tt></a> has been set to
0 (zero). This occurs for features that use the response channel, such as Late Join,
Request/Response, Unicast Immediate Messages, <b class="APPLICATION">UMP</b> and <b
class="APPLICATION">UMQ</b>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.11-FIXES" name="LBM4.2.11-FIXES">11.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with the UM Gateway that resulted in wildcard receivers deafness
when a wildcard receiver application stopped and restarted before the gateway's proxy
wildcard receiver restarted. This could result in the loss of gateway proxy receivers for
the individual topics matching the wildcard receiver pattern. The UM Gateway now ensures
that an individual topic proxy receiver exists for a proxy wildcard receiver after it
receives any topic advertisement (TIR) for the topic instead of just the first TIR.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.11-KNOWNISSUES" name="LBM4.2.11-KNOWNISSUES">11.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.11" name="UME3.2.11">11.2. UME 3.2.11</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.11-FIXES" name="UME3.2.11-FIXES">11.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.11-KNOWNISSUES" name="UME3.2.11-KNOWNISSUES">11.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.11" name="UMQ2.1.11">11.3. UMQ 2.1.11</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.11-FIXES" name="UMQ2.1.11-FIXES">11.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.2-UMP5.2-UMQ5.2" name="SECUMS5.2-UMP5.2-UMQ5.2">12.
Release UMS 5.2 / UMP 5.2 / UMQ 5.2 - December 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2" name="UMS5.2">12.1. UMS 5.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.2-NEW" name="UMS5.2-NEW">12.1.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Off Transport Recovery (OTR) -</b> Provides recovery from brief
unrecoverable loss at the transport level by accessing the source's retention buffer to
re-request messages that no longer exist in a transport's transmission window. See <a
href="../Design/lbm-features.html#OTR" target="doccontent">Off-Transport Recovery
(OTR)</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2-UPDATES" name="UMS5.2-UPDATES">12.1.2. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">UM Gateway Improvements</b></p>

<ul>
<li>
<p>Added additional Web Monitor statistics and changed the display to indicate which
statistics are subsumed into other statistics.</p>
</li>

<li>
<p>Implemented Use Query messages during gateway startup to determine receiver interest.
Use Queries address both topics and wildcard patterns. Receivers respond with
topic/pattern query responses and the gateway registers their interest. Previously,
gateways relied on Topic Resolution Topic Queries and Wildcard Topic Queries which caused
all UM applications to respond, spiking TR traffic. Mixing <b
class="APPLICATION">UM</b>versions results in the old behavior. See <a
href="../Gateway/concepts.html#INTEREST-AND-USE-QUERIES" target="doccontent">Interest and Use
Queries</a>.</p>
</li>

<li>
<p>Implemented keepalives between gateway peer portals. You can configure the interval
between keepalives, the inactivity time after which to consider the companion peer portal
as unresponsive, and whether to send keepalives only when the portal is idle. See <a
href="../Gateway/concepts.html#GATEWAY-KEEPALIVE" target="doccontent">Gateway
Keepalive</a>.</p>
</li>
</ul>
</li>

<li>
<p><b class="APPLICATION">Late Join Improvements -</b> Receivers now begin a Late join
operation by sending a Late Join Initiation Request (LJIR). Sources respond with a Late
Join Information (LJI) message containing updated information about what retained
messages are available for retransmission. This method transmits better high and low
sequence numbers to the receiver. For more see, <a
href="../Design/lbm-features.html#USING-LATE-JOIN" target="doccontent">Using Late Join</a>.</p>
</li>

<li>
<p><b class="APPLICATION">ZOD source events -</b> Implemented Zero Object Delivery (ZOD)
feature for Java and .NET receivers and sources. See <a
href="../Design/design.html#ZOD-RECEIVER" target="doccontent">Zero Object Delivery
(ZOD)</a>.</p>
</li>

<li>
<p>Changed the name of the hash function, <b class="APPLICATION">default</b> to <b
class="APPLICATION">classic</b> in both <b class="APPLICATION">UMS</b> and the UM
Gateway. The value <tt class="LITERAL">default</tt> is not supported and results in an
error.</p>
</li>

<li>
<p>Added <code class="FUNCTION">lbm_set_lbtrm_src_loss_rate()</code> and <code
class="FUNCTION">lbm_set_lbtru_src_loss_rate()</code> in the <a href="../API/index.html"
target="doccontent">C API</a> to set an RM and RU source packet loss rate for testing
purposes.</p>
</li>

<li>
<p>Added the configuration option, <a
href="../Config/transportaccelerationoptions.html#CONTEXTRESOLVERUDACCELERATION"
target="doccontent"><tt class="LITERAL">resolver_ud_acceleration</tt></a> to disable
Accelerated Multicast for Topic Resolution. By default, Topic Resolution will no longer
be accelerated unless you set this option to 1.</p>
</li>

<li>
<p>Optimized the delivery of <tt class="LITERAL">LBMMessage</tt> objects when using the
.NET API.</p>
</li>

<li>
<p>Increased the maximum size of all <b class="APPLICATION">UM</b> Web Monitor pages to 1
MB. The previous limit was 64K.</p>
</li>

<li>
<p>Updated all receiving sample applications to print the same transport statistics
previously provided by <tt class="LITERAL">lbmrcv</tt>. This includes loss statistics in
the bandwidth format <tt class="LITERAL">[loss, burst loss, unrecovered]</tt> and
retransmission statistics in the bandwidth format <tt class="LITERAL">-RX-
num_rx_msgs</tt>.</p>
</li>

<li>
<p>Added several new <code class="FUNCTION">LBMSource.send()</code> methods to the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> that accept a direct
ByteBuffer, a starting offset, and a length as parameters. Sends using a direct
ByteBuffer can be slightly more efficient than sends from a byte[] array in some
cases.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2-FIXES" name="UMS5.2-FIXES">12.1.3. Bug Fixes</a></h4>

<ul>
<li>
<p>Resolved the Known Issue: <span class="emphasis"><i class="EMPHASIS">When using the UM
Gateway in a failover configuration using LBT-RDMA, if the gateways experience multiple
failures, receivers may experience deafness (unable to discovers sources).</i></span> Now
when using LBT-RDMA through the UM Gateway, a receiver can successfully failover from one
path to another when there are multiple paths.</p>
</li>

<li>
<p>Resolved the Known Issue: <span class="emphasis"><i class="EMPHASIS">The UM Gateway
does not currently support responses that exceed the maximum datagram
size.</i></span></p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that resulted in an incorrect number of Use
Queries. The number of Use Queries now matches the configured number.</p>
</li>

<li>
<p>Fixed a problem bug that occurred if a new application connects via the same LBT-RU
<tt class="LITERAL">ip:port</tt> used by a recent application and <a
href="../Config/majoroptions.html#SOURCETRANSPORTSOURCESIDEFILTERINGBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_source_side_filtering_behavior</tt></a> is
enabled, the new application could receive messages in which it is uninterested.</p>
</li>

<li>
<p>Corrected a problem that could cause an assert if an application joins an LBT-RU
transport session that was previously joined by an application on the same <tt
class="LITERAL">ip:port</tt>.</p>
</li>

<li>
<p>Corrected a Topic Resolution problem that occurred when using different <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTINCOMINGPORT"
 target="doccontent"><tt class="LITERAL">resolver_multicast_incoming_port</tt></a> and <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTOUTGOINGPORT"
 target="doccontent"><tt class="LITERAL">resolver_multicast_outgoing_port</tt></a> but the same
<a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTINCOMINGADDRESS"
 target="doccontent"><tt class="LITERAL">resolver_multicast_incoming_address</tt></a> and <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTOUTGOINGADDRESS"
 target="doccontent"><tt class="LITERAL">resolver_multicast_outgoing_address</tt></a>. As a
result, queries could be suppressed which leads to receiver deafness.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that resulted in gateways continuing to
forward messages on topics for which remote interest no longer exists. Gateways now stop
forwarding these messages after the configured timeout.</p>
</li>

<li>
<p>Corrected a problem that removed commas from configuration option values if the
options were set with an XML configuration file.</p>
</li>

<li>
<p>Fixed a problem on AIX that prevented Event Queues from holding more than 32K of items
and events.</p>
</li>

<li>
<p>Fixed an issue with the Java API that caused application headers to be removed from an
<tt class="LITERAL">LBMMessage</tt> when delivered to multiple callbacks on a machine
with memory alignment.</p>
</li>

<li>
<p>Corrected a problem with XML configuration files that resulted in a parse error when
the element &lt;options&#62; did not contain a child element.</p>
</li>

<li>
<p>Fixed a problem with Source Side Filtering that could result in a fatal assert when
using Multithreaded Transports (MTT). The fatal assertion was removed since with MTT, a
NULL resolver pointer is an acceptable condition.</p>
</li>

<li>
<p>Corrected a problem with XML configurations that prevented the full range of values
for certain configuration options from being specified under allow or deny rules,
depending on the platform used. The full range of values can now be specified for all
platforms.</p>
</li>

<li>
<p>Corrected the <b class="APPLICATION">UM</b> C sample applications to be able to parse
rate limits greater than 32 bits set on the command line.</p>
</li>

<li>
<p>Fixed several problems that could cause an LBM application to crash if it received
various types of malformed or unexpected packets.</p>
</li>

<li>
<p>Experimental licenses for UD Acceleration and LBT-RDMA are no longer reported as
invalid.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that could cause loss to be reported for
messages sent by a source on one side of the gateway prior to the creation of a receiver
on the other side.</p>
</li>

<li>
<p>Corrected a problem with .NET <b class="APPLICATION">UM</b> initialization that could
result in <span class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span>
socket APIs being invoked prior to calling <tt class="LITERAL">WSAStartup</tt>.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that resulted in a retransmission being sent
more than once to a receiver when multiple paths exist from a source to the receiver and
late join was enabled.</p>
</li>

<li>
<p>Resolved an issue with the UM Gateway that resulted in a core dump in receiving
applications when forwarding a message containing message properties.</p>
</li>

<li>
<p>Corrected a problem that arose from creating Wildcard Receivers with the same pattern
but different <a
href="../Config/wildcardreceiveroptions.html#WILDCARDRECEIVERPATTERNTYPE"
target="doccontent"><tt class="LITERAL">pattern_types</tt></a>. <b class="APPLICATION">UM</b>
now supports identical patterns with different types in Topic Resolution and across the
UM Gateway.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that occurred when using <b
class="APPLICATION">UMP</b> across multiple gateway hops. Restarting one of the gateways
resulted in receiver deafness.</p>
</li>

<li>
<p>Corrected a problem that occurred when creating and canceling timers that use event
queues. <b class="APPLICATION">UM</b> cancelled the wrong timer if it was already
dispatched to the event queue.</p>
</li>

<li>
<p>Corrected a problem that occurred when receiving a message containing message
properties with ZOD enabled in Java could result in a <tt
class="LITERAL">java.lang.IllegalArgumentException</tt> or a <tt
class="LITERAL">java.nio.BufferUnderflowException</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2-KNOWNISSUES" name="UMS5.2-KNOWNISSUES">12.1.4. Known
Issues</a></h4>

<ul>
<li>
<p>When using the <a href="../Design/lbm-objects.html#LBT-IPC-RESOURCE-MANAGER"
target="doccontent">LBT-IPC Resource Manager</a> tool to view the currently allocated IPC
transport sessions, the Session ID is presented in the reverse byte order from what is
given to the application via the source string.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multi-Transport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.2-INCOMPATIBILITIES"
name="UMS5.2-INCOMPATIBILITIES">12.1.5. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.2" name="UMP5.2">12.2. UMP 5.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.2-NEW" name="UMP5.2-NEW">12.2.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Liveness Detection -</b> Implemented the ability to track the
"liveness" of a receiver application. See <a
href="../UME/designing-persistent-applications.html#RECEIVER-LIVENESS-DETECTION"
target="doccontent">Receiver Liveness Detection</a></p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.2-UPDATES" name="UMP5.2-UPDATES">12.2.2. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Ultra Messaging Manager (UMM) Improvements</b></p>

<ul>
<li>
<p><b class="APPLICATION">One-time Table Update</b> - Existing <b
class="APPLICATION">UMM</b> users must run a one-time script to update your database
tables. Please run <tt class="FILENAME">UMM/update_mysql_tables.sql</tt> to change the
constraints on the application table. Also the file, <tt
class="FILENAME">UMM/templates.txt</tt> has been renamed to <tt
class="FILENAME">UMM/mysql_templates.txt</tt>.</p>
</li>

<li>
<p>Added JDBC Support for the <b class="APPLICATION">UMM</b> database. You can now use an
<span class="TRADEMARK">Oracle</span> database or a <span class="TRADEMARK">MySQL</span>
database. See <a href="../UMM/umm-daemon.html#UMM-DB" target="doccontent">Configuring the UMM
Database</a>.</p>
</li>

<li>
<p>Implemented SSL encryption between the UMM Daemon and UM applications. See <a
href="../UMM/umm-daemon.html#UMM-SSL" target="doccontent">Securing UMM Daemon Communication
with SSL</a>.</p>
</li>
</ul>
</li>

<li>
<p><b class="APPLICATION">Clean Shutdown -</b> The <b class="APPLICATION">UMP</b> store
and <b class="APPLICATION">UMQ</b> queue daemon (<tt class="LITERAL">umestored</tt>) now
support a <b class="APPLICATION">clean</b> shutdown mode. See <a
href="../UME/umestored-manpage.html" target="doccontent">umestored</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.2-FIXES" name="UMP5.2-FIXES">12.2.3. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that allowed <b class="APPLICATION">UMP</b> proxy sources to steal
Registration IDs from an active source. <b class="APPLICATION">UMP</b> stores now ignore
registration requests from proxy sources while the store is still registered with an
active source.</p>
</li>

<li>
<p>Corrected a problem when setting the configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMESESSIONID"
target="doccontent"><tt class="LITERAL">ume_session_id</tt></a> with a hexadecimal value. <b
class="APPLICATION">UM</b> now correctly parses any valid hexadecimal value specified for
this option.</p>
</li>

<li>
<p>Removed the <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">z</b> keyboard accelerator on
the exit menu of the <b class="APPLICATION">UMM</b> GUI.</p>
</li>

<li>
<p>Fixed a Persistence problem caused by network loss of messages, followed by a timeout
and subsequent re-registration of the source, which lead to messages being unrecoverably
lost without notification to the receiver. Unrecoverable loss is now correctly
reported.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.2-KNOWNISSUES" name="UMP5.2-KNOWNISSUES">12.2.4. Known
Issues</a></h4>

<ul>
<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generaltion_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>If a source application stops and you restart it before the receiving application
declares the EOS event, the receiving application does not send a new keepalive message.
The source requires a keepalive message in order to declare a receiver "alive."
Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.2" name="UMQ5.2">12.3. UMQ 5.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.2-UPDATES" name="UMQ5.2-UPDATES">12.3.1. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Ultra Messaging Manager (UMM) Improvements -</b> Added <b
class="APPLICATION">UMM</b> GUI support for JMS applications. See <a
href="../UMM/umm-gui.html#UMMGUI-JMS" target="doccontent">Creating JMS Configurations</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Additional Ultra Messaging JMS XML Configuration Format -</b>
Added the ability to configure Ultra Messaging JMS using the same XML format used by the
<b class="APPLICATION">UMM</b> GUI. The original <tt
class="LITERAL">&lt;JMSConfig&#62;</tt> format is still valid. See <a
href="../jms_concepts/umjms-config.html" target="doccontent">Ultra Messaging JMS
Configuration</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Queue Status -</b> Implemented the <b
class="APPLICATION">UMQ</b> SINC Log Tool for comparison and analysis of <b
class="APPLICATION">UMQ</b> log files. See <a href="../UME/umqsltool.html"
target="doccontent">umqsltool</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Index Reservation API -</b> Added <code
class="FUNCTION">lbm_rcv_umq_index_reserve()</code> in the <a href="../API/index.html"
target="doccontent">C API</a> for <b class="APPLICATION">UMQ</b> and ULB receivers to reserve
specific indices for future assignment. This API can be used for indexed queueing and
indexed ULB.</p>
</li>

<li>
<p>Added the configuration options, <a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYRECEIVERCREATIONDELAY"
target="doccontent"><tt class="LITERAL">RECEIVER_CREATION_DELAY</tt></a>, <a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYSOURCECREATIONDELAY"
target="doccontent"><tt class="LITERAL">SOURCE_CREATION_DELAY</tt></a>, and <a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYSOURCEREGISTRATIONTIMEOUT"
target="doccontent"><tt class="LITERAL">SOURCE_REGISTRATION_TIMEOUT</tt></a>, to handle source
and receiver creation options. These options should always be used in uppercase in a <b
class="APPLICATION">UM</b> configuration file.</p>
</li>

<li>
<p>Improved the performance of Ultra Messaging JMS internal logging code in source event
callbacks.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.2-FIXES" name="UMQ5.2-FIXES">12.3.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that caused the <b class="APPLICATION">UMQ</b> queue daemon (<tt
class="LITERAL">umestored</tt>) to access free'd memory.</p>
</li>

<li>
<p>Fixed a problem with the reception of large messages (usually 8k or larger) that
included message properties by JMS and Java receivers. These receivers can now handle
large messages with message properties.</p>
</li>

<li>
<p>Corrected a problem that prevented Registration IDs from being set correctly for some
JMS destinations.</p>
</li>

<li>
<p>Removed the trimming of the message payload for JMS <tt
class="LITERAL">TextMessages</tt>. Now, JMS does not trim any characters from <tt
class="LITERAL">TextMessage</tt> strings.</p>
</li>

<li>
<p>Fixed a problem that resulted in application headers used for Indexed Queuing and
Message Lifetimes being created incorrectly. Previously, either Indexed Queuing and
Message Lifetimes were usable separately but not simultaneously. Now both are available
provided you use Version 5.2 of both the <b class="APPLICATION">UM</b> library and the
Queue (<tt class="LITERAL">umestored</tt>).</p>
</li>

<li>
<p>Fixed an issue that could cause <b class="APPLICATION">UMQ</b> receivers to go deaf to
a queue if the queue was killed and restarted rapidly after the receiver finished
registration.</p>
</li>

<li>
<p>Corrected a problem that may have caused transactions across Sessions to adversely
affect each other. An internal list of sources is now in the Session object.</p>
</li>

<li>
<p>Fixed an issue with Ultra Messaging JMS that prevented the JMS message id from being
set correctly when ULB was specified in the source attributes.</p>
</li>

<li>
<p>Corrected a problem with Ultra Messaging JMS that prevented a message acknowledgement
if the session was set to CLIENT_ACKNOWLEDGE mode.</p>
</li>

<li>
<p>Corrected a timing problem in Ultra Messaging JMS that could result in the receiver
being closed before the last message was acknowledged.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.2-KNOWNISSUES" name="UMQ5.2-KNOWNISSUES">12.3.3. Known
Issues</a></h4>

<ul>
<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>

<li>
<p>When using multiple sending threads, a Queue (<tt class="LITERAL">umestored</tt>) can
deadlock. As a workaround, Informatica suggests that you specify only a single sending
thread. Note that 1 sending thread is the current default.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.1.1-UMP5.1.1-UMQ5.1.1"
name="SECUMS5.1.1-UMP5.1.1-UMQ5.1.1">13. Release UMS 5.1.1 / UMP 5.1.1 / UMQ 5.1.1 -
November 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.1.1" name="UMS5.1.1">13.1. UMS 5.1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.1.1-FIXES" name="UMS5.1.1-FIXES">13.1.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMS</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.1.1-KNOWNISSUES" name="UMS5.1.1-KNOWNISSUES">13.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>With <a href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> turned ON for VMA support in
Infiniband, receivers are unable to resolve sources from within the same process.
Similarly, sources are unable to discover themselves within the same process. No
resolution issues exist if sources and receivers run in different process. Informatica is
investigating this issue.</p>
</li>

<li>
<p>Late join initiated from receivers in a context configured for Multi-Transport Threads
(MTT) will not work through the UM Gateway if the gateway is configured to forward late
join traffic. Informatica is investigating this issue.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multi-Transport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bit applications
using the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a
32-bit application using LBT-IPC. It can only interact with a 64-bit application.
Likewise, a 32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.1.1-INCOMPATIBILITIES"
name="UMS5.1.1-INCOMPATIBILITIES">13.1.3. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.1.1" name="UMP5.1.1">13.2. UMP 5.1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.1.1-FIXES" name="UMP5.1.1-FIXES">13.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.1.1-KNOWNISSUES" name="UMP5.1.1-KNOWNISSUES">13.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.1.1" name="UMQ5.1.1">13.3. UMQ 5.1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.1.1-FIXES" name="UMQ5.1.1-FIXES">13.3.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue that caused a JMS exception. As a result, a JMS message can now be
acknowledged even after it has been modified.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.10-UME3.2.10-UMQ2.1.10"
name="SECLBM4.2.10-UME3.2.10-UMQ2.1.10">14. Release LBM 4.2.10 / UME 3.2.10 / UMQ 2.1.10
- November 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.10" name="LBM4.2.10">14.1. LBM 4.2.10</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.10-FIXES" name="LBM4.2.10-FIXES">14.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with the UM Gateway that resulted in wildcard receivers deafness
to some but not all topics that fit the wildcard receiver's topic pattern. This only
occurred when the wildcard receivers were accessible via a peer link, and wildcard
receivers with the identical pattern existed in at least 2 other domains.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.10-KNOWNISSUES" name="LBM4.2.10-KNOWNISSUES">14.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.10" name="UME3.2.10">14.2. UME 3.2.10</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.10-FIXES" name="UME3.2.10-FIXES">14.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.10-KNOWNISSUES" name="UME3.2.10-KNOWNISSUES">14.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.10" name="UMQ2.1.10">14.3. UMQ 2.1.10</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.10-FIXES" name="UMQ2.1.10-FIXES">14.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.1-UMP5.1-UMQ5.1" name="SECUMS5.1-UMP5.1-UMQ5.1">15.
Release UMS 5.1 / UMP 5.1 / UMQ 5.1 - November 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.1" name="UMS5.1">15.1. UMS 5.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.1-NEW" name="UMS5.1-NEW">15.1.1. New Features</a></h4>

<ul>
<li>
<p>Added the message property object that allows your application to insert named, typed
metadata to topic messages and implement functionality that depends on the message
properties. <b class="APPLICATION">UMS</b> allows eight property types: boolean, byte,
short, int, long, float, double, and string. See <a
href="../Design/lbm-objects.html#MESSAGEPROPERTIESOBJECT" target="doccontent">Message
Properties Object</a> for more.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.1-UPDATES" name="UMS5.1-UPDATES">15.1.2. Updated
Features</a></h4>

<ul>
<li>
<p>Added the functions, <code class="FUNCTION">lbm_hf_rcv_topic_dump()</code>, <code
class="FUNCTION">lbm_hfx_attr_dump()</code>, <code
class="FUNCTION">lbm_hfx_dump()</code>, and <code
class="FUNCTION">lbm_hfx_rcv_topic_dump()</code>, in the <a href="../API/index.html"
target="doccontent">C API</a> to dump the attributes of HFXs, HFX receivers, and hot failover
receivers. Also added corresponding functions in the <a href="../JavaAPI/html/index.html"
target="doccontent">Java API</a> and <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET
API</a> to dump attributes of HFXs and HFX receivers.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.1-FIXES" name="UMS5.1-FIXES">15.1.3. Bug Fixes</a></h4>

<ul>
<li>
<p>Improved multi-thread locking algorithms for Multi-Transport Threads to eliminate the
possibility of receiver (or wildcard receiver) creation or deletion returning error EOP
due to locking contention of the transport threads. Lock contention no longer requires an
application to retry receiver creation or deletion.</p>
</li>

<li>
<p>Corrected a memory leak in the UM Gateway that occurred when an endpoint portal was
unable to send a message.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that occurred if the gateway was stopped and
restarted. In this event, certain unicast control messages to destination contexts which
were currently unknown to the gateway were dropped, but no effort was made to locate
those destination contexts. Now those messages are still dropped, but the gateway sends
queries to locate the destination context.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.1-KNOWNISSUES" name="UMS5.1-KNOWNISSUES">15.1.4. Known
Issues</a></h4>

<ul>
<li>
<p>With <a href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> turned ON for VMA support in
Infiniband, receivers are unable to resolve sources from within the same process.
Similarly, sources are unable to discover themselves within the same process. No
resolution issues exist if sources and receivers run in different process. Informatica is
investigating this issue.</p>
</li>

<li>
<p>Late join initiated from receivers in a context configured for Multi-Transport Threads
(MTT) will not work through the UM Gateway if the gateway is configured to forward late
join traffic. Informatica is investigating this issue.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multi-Transport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bit applications
using the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a
32-bit application using LBT-IPC. It can only interact with a 64-bit application.
Likewise, a 32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.1-INCOMPATIBILITIES"
name="UMS5.1-INCOMPATIBILITIES">15.1.5. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.1" name="UMP5.1">15.2. UMP 5.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.1-NEW" name="UMP5.1-NEW">15.2.1. New Features</a></h4>

<ul>
<li>
<p>Enabled the use of the <b class="APPLICATION">UMM</b> API that allows you to
programmatically create and store application configurations in the <b
class="APPLICATION">UMM</b> database. The <b class="APPLICATION">UMM</b> GUI uses the
same API to create users, passwords, applications configurations and configuration
templates. See <a href="../UMMJavaAPI/html/index.html" target="doccontent">UMM Java API</a> for
<b class="APPLICATION">UMM</b> objects, constructors and methods.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.1-FIXES" name="UMP5.1-FIXES">15.2.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with the <b class="APPLICATION">UMM</b> GUI Permissions dialog box
that caused the dialog box to be deleted after rearranging the column headings.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.1-KNOWNISSUES" name="UMP5.1-KNOWNISSUES">15.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.1" name="UMQ5.1">15.3. UMQ 5.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.1-UPDATES" name="UMQ5.1-UPDATES">15.3.1. Updated
Features</a></h4>

<ul>
<li>
<p>Added support for the JMS message properties specification through the <a
href="../JMSAPI/html/index.html" target="doccontent"><b class="APPLICATION">UM</b> JMS
API</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.1-FIXES" name="UMQ5.1-FIXES">15.3.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue with <b class="APPLICATION">UMQ</b> indexed queuing from a Java source
that prevented the queue from sending correctly which produced the following exception:
<tt class="LITERAL">com.latencybusters.lbm.LBMEInvalException: UMQ index too
long</tt>.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.9-UME3.2.9-UMQ2.1.9"
name="SECLBM4.2.9-UME3.2.9-UMQ2.1.9">16. Release LBM 4.2.9 / UME 3.2.9 / UMQ 2.1.9 -
November 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.9" name="LBM4.2.9">16.1. LBM 4.2.9</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.9-FIXES" name="LBM4.2.9-FIXES">16.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with the UM Gateway that resulted in wildcard receivers deafness
when a source matching the wildcard pattern was stopped and then restarted.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that resulted in wildcard receivers deafness
to some of the topics it previously matched and received.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.9-KNOWNISSUES" name="LBM4.2.9-KNOWNISSUES">16.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.9" name="UME3.2.9">16.2. UME 3.2.9</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.9-FIXES" name="UME3.2.9-FIXES">16.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.9-KNOWNISSUES" name="UME3.2.9-KNOWNISSUES">16.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.9" name="UMQ2.1.9">16.3. UMQ 2.1.9</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.9-FIXES" name="UMQ2.1.9-FIXES">16.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.0.1-UMP5.0.1-UMQ5.0.1"
name="SECUMS5.0.1-UMP5.0.1-UMQ5.0.1">17. Release UMS 5.0.1 / UMP 5.0.1 / UMQ 5.0.1 -
September 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.0.1" name="UMS5.0.1">17.1. UMS 5.0.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.0.1-FIXES" name="UMS5.0.1-FIXES">17.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Renamed the hash function, <tt class="LITERAL">default</tt> to <tt
class="LITERAL">classic</tt>. As a result, <tt class="LITERAL">default</tt> is no longer
a valid selection for <b class="APPLICATION">UMS</b> or UM Gateway hash functions.
However if you do specify <tt class="LITERAL">default</tt>, an error message appears and
<b class="APPLICATION">UMS</b> or UM Gateway uses the new default hash function, <tt
class="LITERAL">murmur2</tt>.</p>
</li>

<li>
<p>Corrected a problem that may cause an application to crash due to the use of
initialized data. This problem occurred when a newly created Hot Failover receiver and an
existing source joined an active transport. <b class="APPLICATION">UMS</b> now
initializes data prior to the creation of underlying receiver objects which prevents this
condition from occurring.</p>
</li>

<li>
<p>Enhanced the UM Gateway to speed topic resolution by propagating interest immediately
upon detection of an adjacent, active gateway.</p>
</li>

<li>
<p>Corrected an error in handling UM Gateway ACL port comparisons.</p>
</li>

<li>
<p>Corrected an error in the UM Gateway that caused receiver deafness when using <b
class="APPLICATION">UMP</b> across multiple gateway hops and one of the gateways was
restarted.</p>
</li>

<li>
<p>Corrected a receiver deafness problem that arose when using <a
href="../Config/majoroptions.html#SOURCETRANSPORTSOURCESIDEFILTERINGBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_source_side_filtering_behavior</tt></a> if
the <a href="../Config/requestnetworkoptions.html#CONTEXTREQUESTTCPINTERFACE"
target="doccontent"><tt class="LITERAL">request_tcp_interface</tt></a> and the <a
href="../Config/transportlbt-runetworkoptions.html#SOURCETRANSPORTLBTRUINTERFACE"
target="doccontent"><tt class="LITERAL">transport_lbtru_interface</tt></a> were different.</p>
</li>

<li>
<p>Corrected a problem that caused a crash if you enable both <a
href="../Config/majoroptions.html#SOURCETRANSPORTSOURCESIDEFILTERINGBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_source_side_filtering_behavior</tt></a> and
Multi-Transport Threads ( <a
href="../Config/majoroptions.html#RECEIVERUSETRANSPORTTHREAD" target="doccontent"><tt
class="LITERAL">use_transport_thread</tt></a>) and a receiver sends the SSF <tt
class="LITERAL">include</tt> list to the source.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.0.1-KNOWNISSUES" name="UMS5.0.1-KNOWNISSUES">17.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>Late join initiated from receivers in a context configured for Multi-Transport Threads
(MTT) will not work through the UM Gateway if the gateway is configured to forward late
join traffic. Informatica is investigating this issue.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multi-Transport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bit applications
using the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a
32-bit application using LBT-IPC. It can only interact with a 64-bit application.
Likewise, a 32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.0.1-INCOMPATIBILITIES"
name="UMS5.0.1-INCOMPATIBILITIES">17.1.3. Version Compatibilities</a></h4>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.0.1" name="UMP5.0.1">17.2. UMP 5.0.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.0.1-FIXES" name="UMP5.0.1-FIXES">17.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.0.1-KNOWNISSUES" name="UMP5.0.1-KNOWNISSUES">17.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.0.1" name="UMQ5.0.1">17.3. UMQ 5.0.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.0.1-FIXES" name="UMQ5.0.1-FIXES">17.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUMS5.0-UMP5.0-UMQ5.0" name="SECUMS5.0-UMP5.0-UMQ5.0">18.
Release UMS 5.0 / UMP 5.0 / UMQ 5.0 - August 2011</a></h2>

<p><b class="APPLICATION">Attention - Name Change:</b> Beginning with this release, the
LBM product has been renamed to <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span></b> <b class="APPLICATION">Streaming Edition</b> (<b
class="APPLICATION">UMS</b>) and the UME product has been renamed to <b
class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">Persistence Edition</b> (<b class="APPLICATION">UMP</b>). <b
class="APPLICATION">UMQ</b> retains its name, <b class="APPLICATION"><span
class="TRADEMARK">Ultra Messaging</span></b> <b class="APPLICATION">Queuing Edition</b>
(<b class="APPLICATION">UMQ</b>). Also with this release, the version number for these
core <b class="APPLICATION">UM</b> products will be the same.</p>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMS5.0" name="UMS5.0">18.1. UMS 5.0</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMS5.0-NEW" name="UMS5.0-NEW">18.1.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Documentation TOC and Search Page -</b> The <b
class="APPLICATION">UM</b> Readme file is now presented in a framed, HTML page. The left
pane contains a Table of Contents for all documentation and a search function box,
providing easier access to the <b class="APPLICATION">UM</b> documentation.</p>
</li>

<li>
<p><b class="APPLICATION">XML Configuration Files -</b> Added the ability to use XML
configuration files. See <a href="../Config/xmlconfigurationfiles.html" target="doccontent">XML
Configuration Files</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Pre-Defined Messaging (PDM) -</b> Added Pre-Defined Messaging
(PDM) that provides an API similar to the SDM API that allows you to define messages once
and then use the definition to create messages that may contain self-describing data. See
<a href="../Design/lbm-features.html#PRE-DEFINED-MESSAGING" target="doccontent">Pre-Defined
Messaging</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.0-UPDATES" name="UMS5.0-UPDATES">18.1.2. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Multiple Unicast Resolver Daemons (<tt
class="LITERAL">lbmrd</tt>) -</b> Added the ability to specify multiple Unicast Resolver
Daemons (<tt class="LITERAL">lbmrd</tt>), to be used in a warm-warm failover mode. When
using multiple <tt class="LITERAL">lbmrds</tt>, all applications should specify the same
set of <tt class="LITERAL">lbmrds</tt>. See <a
href="../Design/architecture.html#UNICAST-TOPIC-RES-RESILIENCE" target="doccontent">Unicast
Topic Resolution Resilience</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Optimize Implicit Batching -</b> Changed the implicit batching
feature to use a fixed-size array instead of a a queue that was not allowed to exceed a
predefined maximum size. Preallocating an array of the maximum size removes a malloc/free
combination from the message path for every message. This change improves performance by
about 30 percent.</p>
</li>

<li>
<p>Added the <tt class="LITERAL">LBMObjectRecycler</tt> and <tt
class="LITERAL">LBMObjectRecyclerBase</tt> classes in the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> to provide a way to reuse
objects and reduce garbage collection. These classes support all of the Statistics types
as well as the <tt class="LITERAL">LBMMessage</tt> type so promoted messages can be
recycled. The <tt class="LITERAL">lbmhfxrcv</tt>, <tt class="LITERAL">lbmsrc</tt>, <tt
class="LITERAL">lbmpong</tt>, <tt class="LITERAL">lbmrcv</tt>, <tt
class="LITERAL">lbmreq</tt>, <tt class="LITERAL">lbmresp</tt>, <tt
class="LITERAL">lbmmsrc</tt>, <tt class="LITERAL">umercv</tt>, <tt
class="LITERAL">umesrc</tt>, <tt class="LITERAL">umqrcv</tt>, and <tt
class="LITERAL">umqsrc</tt> <a href="../java_example" target="doccontent">Java example
applications</a> and <a href="../dotnet_example" target="doccontent">.NET example
applications</a> have been updated to demonstrate the use of these classes.</p>
</li>

<li>
<p>Added the <b class="APPLICATION">murmur2</b> hash function as a built-in option to the
<a href="../Config/resolveroperationoptions.html#CONTEXTRESOLVERSTRINGHASHFUNCTION"
target="doccontent"><tt class="LITERAL">resolver_string_hash_function</tt></a> context
configuration option. <b class="APPLICATION">murmur2</b> can perform better than the
existing built-in hash functions for long topic strings.</p>
</li>

<li>
<p>Added support for setting <b class="APPLICATION">UMS</b> wildcard receiver options to
the UM Gateway.</p>
</li>

<li>
<p>Added the public <tt class="LITERAL">LBMMessage.promote()</tt> method. If applications
intend to hold messages for later processing, they should call <tt
class="LITERAL">promote()</tt> to guarantee that messages are not reclaimed by <b
class="APPLICATION">UMS</b>.</p>
</li>

<li>
<p>Added <tt class="LITERAL">getAttributeValue</tt> and <tt
class="LITERAL">setAttributeValue</tt> methods to <tt class="LITERAL">LBMHFXReceiver</tt>
to provide the same functionality as other <b class="APPLICATION">UM</b> objects.</p>
</li>

<li>
<p>Added a new UM Gateway Web Monitor statistic to show the number of retransmit requests
received by an endpoint for an unknown source.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.0-FIXES" name="UMS5.0-FIXES">18.1.3. Bug Fixes</a></h4>

<ul>
<li>
<p>The UM Gateway now logs an error message if the initialization of gateway monitoring
fails.</p>
</li>

<li>
<p>Corrected a problem with Automatic Monitoring that caused incorrect clean up of
implicitly spawned reactor contexts. Other problems fixed occurred when using <tt
class="LITERAL">epoll</tt> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> causing the UD Acceleration
library to report errors during clean up. When UD Acceleration was not used, the base <tt
class="LITERAL">epoll</tt> file descriptor leaked.</p>
</li>

<li>
<p>In the UM Gateway, corrected a memory leak of 64 bytes for each <tt
class="LITERAL">&lt;regex-pattern&#62;</tt> in an ACL.</p>
</li>

<li>
<p>Fixed a condition where a regular receiver's callback function could be called before
the user application's <tt class="LITERAL">lbm_rcv_t</tt> pointer is set.</p>
</li>

<li>
<p>Added the <tt class="LITERAL">-E</tt> option to the <tt
class="FILENAME">lbmmrcv.java</tt> example application to allow it to exit upon receiving
an EOS like the C example application.</p>
</li>

<li>
<p>Corrected a problem in the UM Gateway that occurred if you create a context with <a
href="../Config/requestnetworkoptions.html#CONTEXTREQUESTTCPBINDREQUESTPORT"
target="doccontent"><tt class="LITERAL">request_tcp_bind_request_port</tt></a> = 0, and a
source created on that context provides <a
href="../Config/latejoinoptions.html#SOURCELATEJOIN" target="doccontent"><tt
class="LITERAL">late_join</tt></a>. This configuration disabled Late Join. Now <code
class="FUNCTION">lbm_src_topic_alloc()</code> returns the following error. <tt
class="LITERAL">late join not allowed when request_tcp_bind_request_port is
disabled</tt>.</p>
</li>

<li>
<p>Corrected a problem in the UM Gateway that caused errors relating to the creation of
unicast forwarding associations to be incorrectly reported.</p>
</li>

<li>
<p>Fixed an issue that could lead to a crash if implicit batching was being used and a
particular OS socket send call failed, which is relatively rare failure.</p>
</li>

<li>
<p>Fixed an issue that could cause a crash if using Adaptive Batching and you delete a
source with messages still outstanding in the batch buffer.</p>
</li>

<li>
<p>Fixed an issue in the <a href="../JavaAPI/html/index.html" target="doccontent">Java API</a>
that caused a <tt class="LITERAL">NullReferenceException</tt> if you passed in null for
the third parameter to the <tt class="LITERAL">LBMHFXReceiver constructor</tt>.</p>
</li>

<li>
<p>Corrected a problem in the UM Gateway that caused deafness in wildcard receivers due
to case-insensitive topic patterns. The UM Gateway now uses case-sensitive string
compares when mapping topics and patterns.</p>
</li>

<li>
<p>Corrected a problem in the UM Gateway that caused receivers using TCP, IPC, or
LBT-RDMA transports to encounter the warning assertion: <tt
class="LITERAL">MUL_SQN_GT(sqn,ctlr-&#62;stream_high_sqn)</tt> and receive data out of
order despite Ordered Delivery was enabled.</p>
</li>

<li>
<p>Removed a lock taken during a call to <code
class="FUNCTION">lbm_context_delete()</code> which could cause a running IPC or RDMA
receiver thread to deadlock during context deletion.</p>
</li>

<li>
<p>Fixed an issue with the <a href="../JavaAPI/html/index.html" target="doccontent">Java
API</a> where setting both a context source event callback via <tt
class="LITERAL">LBMContextAttributes.setContextSourceEventCallback</tt> and also enabling
receipt of topicless immediate messages via calling <tt
class="LITERAL">LBMContext.enableImmediateMessageReceiver</tt> could cause a crash upon
receipt of a topicless immediate message. Setting only one (or none) of the two callbacks
was successful, and setting both callbacks was successful if the newer, preferred <tt
class="LITERAL">LBMContextAttributes.setImmediateMessageCallback</tt> method was used to
set the topicless immediate message callback instead of <tt
class="LITERAL">LBMContext.enableImmediateMessageReceiver</tt>.</p>
</li>

<li>
<p>Optimized memory usage of the resolver cache for contexts on a network with <b
class="APPLICATION">LBM</b> 3.6 or earlier sources.</p>
</li>

<li>
<p>Corrected a problem that caused the <a href="../API/index.html" target="doccontent">C
APIs</a> <code class="FUNCTION">lbm_*_attr_dump()</code> and their <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> / <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> equivalents to return
strings containing garbage values for deprecated or unsupported options.</p>
</li>

<li>
<p>Updated the version of <tt class="FILENAME">libpre</tt> bundled with the AIX install
packages to match the version of <tt class="FILENAME">libpre</tt> Informatica uses to
build the AIX <b class="APPLICATION">UM</b> packages.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMS5.0-KNOWNISSUES" name="UMS5.0-KNOWNISSUES">18.1.4. Known
Issues</a></h4>

<ul>
<li>
<p>Hot Failover is not currently supported with Multi-Transport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMP5.0" name="UMP5.0">18.2. UMP 5.0</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMP5.0-NEW" name="UMP5.0-NEW">18.2.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">Manager</b> - This new feature ensures the consistency and
reliability of enterprise production applications by enabling IT administrators to
control what configurations messaging applications can use and what users can operate
them. See <a href="../UMM/index.html" target="doccontent">Ultra Messaging Manager</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.0-UPDATES" name="UMP5.0-UPDATES">18.2.2. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Batching Acknowledgments -</b> Added the ability configure <b
class="APPLICATION">UMP</b> to acknowledge message consumption to a store(s) for a series
of messages independent of when the receiving application consumed the messages. This
option works well if multiple threads process messages off of an event queue, which may
result in messages being consumed out of order. See <a
href="../UME/designing-persistent-applications.html#BATCHINGACKS" target="doccontent">Batching
Acknowledgments</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Object-free Explicit Acknowledgments -</b> When using explicit
ACKs in a <a href="../JavaAPI/html/index.html" target="doccontent">Java</a> or <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET</a> application, you can enable <a
href="https://communities.informatica.com/infakb/faq/5/Pages/80233.aspx"
target="doccontent">Zero Object Delivery (ZOD)</a> and extract ACK information from messages
and then send acknowledgements to the store(s) for any sequence number. See <a
href="../UME/designing-persistent-applications.html#OBJECT-FREEEXPLICITACKS"
target="doccontent">Object-free Explicit Acknowledgments</a>.</p>
</li>

<li>
<p>Added new configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#RECEIVERUMEALLOWCONFIRMEDDELIVERY"
target="doccontent"><tt class="LITERAL">ume_allow_confirmed_delivery</tt></a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.0-FIXES" name="UMP5.0-FIXES">18.2.3. Bug Fixes</a></h4>

<ul>
<li>
<p><code class="FUNCTION">lbm_msg_ume_send_explicit_ack()</code> now returns 0 (zero) for
success instead of the number of bytes sent. It still returns -1 for failure.</p>
</li>

<li>
<p>Fixed a problem originating from a source configured to use both <b
class="APPLICATION">UMP</b> and ULB at the same time. This configuration caused the
following assert: <tt class="LITERAL">WARNING: failed assertion
[buff-&#62;umesendexcd!=NULL] at line 2543 in .../../../../src/lib/lbm/lbmsrc.c</tt>.</p>
</li>

<li>
<p>Corrected a problem that appeared if you did not configure any <b
class="APPLICATION">UMP</b> stores and set either <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMECONFIRMEDDELIVERYNOTIFICATION"
 target="doccontent"><tt class="LITERAL">ume_confirmed_delivery_notification</tt></a> or <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEMESSAGESTABILITYNOTIFICATION"
 target="doccontent"><tt class="LITERAL">ume_message_stability_notification</tt></a> to deliver
per message notifications as opposed to merely per fragment notifications.</p>
</li>

<li>
<p>Fixed a rare condition that could briefly cause a single <b
class="APPLICATION">UMP</b> receiver to be registered with a store multiple times for the
same source.</p>
</li>

<li>
<p>Corrected a fatal assertion that occurred when sending a combination of fragmented and
non fragmented hot failover messages when running a Java receiver with <a
href="../Config/ultramessagingpersistenceoptions.html#RECEIVERUMEUSEACKBATCHING"
target="doccontent"><tt class="LITERAL">ume_use_ack_batching</tt></a> enabled. The fatal
assertion was <tt class="LITERAL">[MUL_SQN_GTE(first,ctlr-&#62;expected_sqn)] at line
1555 in ../../../../src/lib/lbm/ume/umerctlr.c</tt></p>
</li>

<li>
<p>Fixed a rare issue that could cause a <b class="APPLICATION">UM</b> application
(including <tt class="LITERAL">umestored</tt>) to crash on startup with <tt
class="LITERAL">FATAL: failed
assertion[info-&#62;umq_ack.flags&amp;LBMC_UMQ_ACK_FLAG_TYPE_STABLE]</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMP5.0-KNOWNISSUES" name="UMP5.0-KNOWNISSUES">18.2.4. Known
Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ5.0" name="UMQ5.0">18.3. UMQ 5.0</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ5.0-UPDATES" name="UMQ5.0-UPDATES">18.3.1. Updates</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Indexed Ultra Load balancing (ULB) -</b> Added indexing
features to ULB, which is similar to indexed queueing and uses the same APIs (<code
class="FUNCTION">lbm_rcv_umq_index_start_assignment()</code>, <code
class="FUNCTION">lbm_rcv_umq_index_release()</code>, etc.), specifying the ULB source
string in place of a queue name. See <a
href="../UME/ume-ops-operational-view.html#INDEXED-ULB" target="doccontent">Indexed Ultra Load
Balancing (ULB)</a>.</p>
</li>

<li>
<p>Added the ability to set a message's total lifetime for both <b
class="APPLICATION">UMQ</b> and ULB sources. See <a
href="../UME/designing-queuing-applications.html#MESSAGE-LIFETIMES-REASSIGN"
target="doccontent">Message Lifetimes and Reassignment</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Local JMS Transaction Support -</b> <b
class="APPLICATION">UM</b> JMS now supports local transaction.</p>
</li>

<li>
<p><b class="APPLICATION">JMS Application Header Attribute-</b> Added the
ConnectionFactory. attribute, USE_APP_HEADER, allowing you to turn off the use of App
Headers which can greatly increases performance. See <a
href="../jms_concepts/index.html#FACTORYATTRIBUTES"
target="doccontent">FactoryAttributes</a>.</p>
</li>

<li>
<p>Removed the restriction requiring that the <a
href="../Config/ultramessagingqueuingoptions.html#SOURCEUMQULBAPPLICATIONSET"
target="doccontent"><tt class="LITERAL">umq_ulb_application_set</tt></a> source option be
specified prior to setting any other <tt class="LITERAL">umq_ulb_application_set_*</tt>
or <tt class="LITERAL">umq_ulb_receiver_*</tt> options.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ5.0-FIXES" name="UMQ5.0-FIXES">18.3.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue with ULB that prevented ULB receivers from completing registration when
they attempted to register with a ULB source using an assignment ID (internal 32-bit
identifier generated randomly at receiver startup) already in use by a different receiver
at that source. This issue could cause the log warning : <tt class="LITERAL">received ACK
with out-of-range appset index 65535/1</tt>.</p>
</li>

<li>
<p>Fixed a problem in the <a href="../JavaAPI/html/index.html" target="doccontent">Java API</a>
that caused a <b class="APPLICATION">UMP</b> store or <b class="APPLICATION">UMQ</b>
queue to fail to acknowledge messages that are passed off to a different thread to be
disposed.</p>
</li>

<li>
<p>Added <tt class="LITERAL">LBM</tt> as a DEFAULT_TOPIC_TYPE and DEFAULT_TEMP_TOPIC_TYPE
in the JMS App Header. This allows Request/Reply to work without <b
class="APPLICATION">UMP</b>.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.8-UME3.2.8-UMQ2.1.8"
name="SECLBM4.2.8-UME3.2.8-UMQ2.1.8">19. Release LBM 4.2.8 / UME 3.2.8 / UMQ 2.1.8 - July
2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.8" name="LBM4.2.8">19.1. LBM 4.2.8</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.8-UPDATES" name="LBM4.2.8-UPDATES">19.1.1. Updated
Features</a></h4>

<ul>
<li>
<p>Implemented a more efficient structure in the UM Gateway for detecting duplicate
sequence numbers. This addition includes the new <b class="APPLICATION">29West</b>
configuration options, <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTMIMSQNWINDOWINCREMENT"
 target="doccontent"><tt class="LITERAL">mim_sqn_window_increment</tt></a> and <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTMIMSQNWINDOWSIZE"
target="doccontent"><tt class="LITERAL">mim_sqn_window_size</tt></a>, in addition to the UM
Gateway configuration element, <tt class="LITERAL">&lt;sqn-window size="16384"
increment="8192"/&#62;</tt>. See <a href="../Gateway/tnwgd-dtd-doc/index.html"
target="doccontent">29West Gateway Configuration DTD</a>.</p>
</li>

<li>
<p>In the UM Gateway, added the topic name to both endpoint and peer portal log messages
and the source string to endpoint portal log messages when a new transport is joined and
a forwarding entry for the source's context instance (ctxinst) already exists with a
different association. Log messages now appear in the following form: <tt
class="LITERAL">endpoint portal [XX] found address for source ctxinst [YY] (topic [AA]
source [BB]) different from existing association - new address used (rcvdc create)</tt>,
where AA is the topic string, and BB is the source string.</p>
</li>

<li>
<p>Implemented backward compatibility for LBMMON statistics packets for LBM Version 3.6.1
and later by enhancing LBMMON internal message processing.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.8-FIXES" name="LBM4.2.8-FIXES">19.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with the UM Gateway that resulted in a receiver experiencing
unrecoverable loss while in a Late Join operation with a not fully initialized proxy
source.</p>
</li>

<li>
<p>Improved the efficiency of wildcard pattern interest messages between UM Gateway peer
portals which previously could cause spikes in traffic and message latency.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that caused topic queries looking for a <b
class="APPLICATION">UMS</b> context to continually loop.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that prevented source side filtering from
working properly.</p>
</li>

<li>
<p>Corrected a problem with a late joining receiver that sometimes caused extra,
unnecessary late join requests to be sent to a source, resulting in spurious
unrecoverable loss events on the receiver at the beginning of a late join.</p>
</li>

<li>
<p>Corrected a problem that could cause late join through a UM Gateway to fail to catch
up to the live stream when requested messages were no longer available at the original
source.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.8-KNOWNISSUES" name="LBM4.2.8-KNOWNISSUES">19.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.8" name="UME3.2.8">19.2. UME 3.2.8</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.8-FIXES" name="UME3.2.8-FIXES">19.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.8-KNOWNISSUES" name="UME3.2.8-KNOWNISSUES">19.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.8" name="UMQ2.1.8">19.3. UMQ 2.1.8</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.8-FIXES" name="UMQ2.1.8-FIXES">19.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.7-UME3.2.7-UMQ2.1.7"
name="SECLBM4.2.7-UME3.2.7-UMQ2.1.7">20. Release LBM 4.2.7 / UME 3.2.7 / UMQ 2.1.7 - July
2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.7" name="LBM4.2.7">20.1. LBM 4.2.7</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.7-FIXES" name="LBM4.2.7-FIXES">20.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem for 32-bit Java applications only, which resulted in the <code
class="FUNCTION">getStores()</code> method of the <tt
class="LITERAL">LBMSourceAttributes</tt> class returning incorrect registration IDs or
throwing an exception stating <tt class="LITERAL">Store entry registration ID was &#60;
0</tt>.</p>
</li>

<li>
<p>Fixed an issue that could cause the logging of an <tt
class="LITERAL">IllegalArgumentException</tt> in Java applications when receiving
responses.</p>
</li>

<li>
<p>Fixed an issue with Late Join that caused a late joining receiver to send extra,
unnecessary late join requests to a source, which resulted in spurious unrecoverable loss
events on the receiver at the beginning of a late join.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.7-KNOWNISSUES" name="LBM4.2.7-KNOWNISSUES">20.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.7" name="UME3.2.7">20.2. UME 3.2.7</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.7-FIXES" name="UME3.2.7-FIXES">20.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.7-KNOWNISSUES" name="UME3.2.7-KNOWNISSUES">20.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.7" name="UMQ2.1.7">20.3. UMQ 2.1.7</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.7-FIXES" name="UMQ2.1.7-FIXES">20.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.6-UME3.2.6-UMQ2.1.6"
name="SECLBM4.2.6-UME3.2.6-UMQ2.1.6">21. Release LBM 4.2.6 / UME 3.2.6 / UMQ 2.1.6 - June
2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.6" name="LBM4.2.6">21.1. LBM 4.2.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.6-FIXES" name="LBM4.2.6-FIXES">21.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Single-TCP acceptor peer portals and TCP peer portals now work properly when using the
UM Gateway on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span>. This was listed as a Known Issue in <b
class="APPLICATION">UMS</b> 4.2.5.</p>
</li>

<li>
<p>Corrected an error involving how the UM Gateway handled ACL port comparisons.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.6-KNOWNISSUES" name="LBM4.2.6-KNOWNISSUES">21.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.6" name="UME3.2.6">21.2. UME 3.2.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.6-FIXES" name="UME3.2.6-FIXES">21.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.6-KNOWNISSUES" name="UME3.2.6-KNOWNISSUES">21.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.6" name="UMQ2.1.6">21.3. UMQ 2.1.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.6-FIXES" name="UMQ2.1.6-FIXES">21.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.5-UME3.2.5-UMQ2.1.5"
name="SECLBM4.2.5-UME3.2.5-UMQ2.1.5">22. Release LBM 4.2.5 / UME 3.2.5 / UMQ 2.1.5 - June
2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.5" name="LBM4.2.5">22.1. LBM 4.2.5</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.5-UPDATES" name="LBM4.2.5-UPDATES">22.1.1. Updated
Features</a></h4>

<ul>
<li>
<p>Added support for intentional gaps in Hot Failover message streams. See <a
href="../Design/lbm-features.html#HF-Intentional-Gap" target="doccontent">Hot Failover
Intentional Gap Support</a>. Also added support for Hot Failover optional messages that
HF receivers can be configured to receiver or not receive. See <a
href="../Design/lbm-features.html#Optional-HF-Messages" target="doccontent">Hot Failover
Optional Messages</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.5-FIXES" name="LBM4.2.5-FIXES">22.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem that could cause a crash of an <span class="emphasis"><i
class="EMPHASIS">initiator</i></span> UM Gateway configured with a single-TCP peer
connection if the <span class="emphasis"><i class="EMPHASIS">acceptor</i></span> gateway
was not yet running.</p>
</li>

<li>
<p>The configuration option <a
href="../Config/deliverycontroloptions.html#CONTEXTDELIVERYCONTROLMAXIMUMTOTALMAPENTRIES"
target="doccontent"><tt class="LITERAL">delivery_control_maximum_total_map_entries</tt></a> was
not being applied on a per thread basis when <a
href="../Config/majoroptions.html#RECEIVERUSETRANSPORTTHREAD" target="doccontent"><tt
class="LITERAL">use_transport_thread</tt></a> was set as intended. This option is now
applied correctly on a per thread basis.</p>
</li>

<li>
<p>When setting the configuration options <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> and <a
href="../Config/majoroptions.html#RECEIVERUSETRANSPORTTHREAD" target="doccontent"><tt
class="LITERAL">use_transport_thread</tt></a> together, the loss check timer started on
the incorrect thread and subsequently produced the Fatal Assert <tt
class="LITERAL">orderrec-&#62;msg!=NULL or crash</tt>. This timer is now scheduled on the
correct thread.</p>
</li>

<li>
<p>Corrected a cross-version problem that could cause a fatal assert when an application
deletes a <b class="APPLICATION">UMS</b> 4.X receiver that has received data from a <b
class="APPLICATION">UMS</b> 3.X source.</p>
</li>

<li>
<p>Added defensive measures in the UM Gateway to guard against the delayed delivery (tens
of seconds) of internal events after they have been enqueued, possibly due to CPU
starvation.</p>
</li>

<li>
<p>Corrected a problem in the UM Gateway which could result in a deadlock when using a
single-TCP peer connection (either acceptor or initiator).</p>
</li>

<li>
<p>Corrected a format specifier in a debug log statement for LBT-RU sources which could
lead to a segfault.</p>
</li>

<li>
<p>Corrected a problem in the UM Gateway that prevented a topic matching a pattern from
being immediately forwarded. This only occurred when there were at least 3 topic
resolution domains, the source was accessible only via a peer connection from one domain,
and wildcard receivers specifying overlapping but different patterns existed in the other
two domains.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.5-KNOWNISSUES" name="LBM4.2.5-KNOWNISSUES">22.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. Informatica is
investigating this problem.</p>
</li>

<li>
<p>The UM Gateway does not currently support responses that exceed the maximum datagram
size.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>

<li>
<p>When using the UM Gateway on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span>, single-TCP acceptor peer portals and TCP peer portals
do not work. This issue will be corrected in a future release. Please contact us at <a
href="http://29west.com/support" target="doccontent">http://29west.com/support</a> for more
information.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.5" name="UME3.2.5">22.2. UME 3.2.5</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.5-FIXES" name="UME3.2.5-FIXES">22.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.5-KNOWNISSUES" name="UME3.2.5-KNOWNISSUES">22.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.5" name="UMQ2.1.5">22.3. UMQ 2.1.5</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.5-FIXES" name="UMQ2.1.5-FIXES">22.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.4-UME3.2.4-UMQ2.1.4"
name="SECLBM4.2.4-UME3.2.4-UMQ2.1.4">23. Release LBM 4.2.4 / UME 3.2.4 / UMQ 2.1.4 - May
2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.4" name="LBM4.2.4">23.1. LBM 4.2.4</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.4-FIXES" name="LBM4.2.4-FIXES">23.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>4117</p>
</li>

<li>
<p>When using Multi-Transport Threads, a deadlock was possible if you deleted a receiver
at the same moment a transport session began or ended. An alternative locking mechanism
has been implemented to prevent a deadlock when you create new transport sessions or
delete old transport sessions using the same transport thread as a deleted receiver.
<span class="emphasis"><i class="EMPHASIS">Note:</i></span> This solution was erroneously
cited as being made in the LBM 4.2.3 release. It is effective with the LBM 4.2.4
release.</p>
</li>

<li>
<p>4612</p>
</li>

<li>
<p>4623</p>
</li>

<li>
<p>4624</p>
</li>

<li>
<p>4625</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.4-KNOWNISSUES" name="LBM4.2.4-KNOWNISSUES">23.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. Informatica
is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. Informatica is
investigating this problem.</p>
</li>

<li>
<p>A requesting application using a UM Gateway may not receive the expected number of
responses. The problem occurs if the responses exceed the maximum datagram size, are
fragmented and the gateway must forward simultaneous fragmented responses. In this case
the fragments may become intermingled and result in a response not being delivered as
expected. The requesting application receives a warning similar to: <tt
class="LITERAL">WARNING: failed assertion [offset==0] at line 1627 in
../../../../src/lib/lbm/lbmqr.c</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>When using the UM Gateway in a four gateway "full-mesh" configuration (i.e., all
gateways connected) the following instabilities have been observed.</p>

<ul>
<li>
<p>Requesting applications can receive multiple or unending responses.</p>
</li>

<li>
<p>Restarting a single gateway has resulted in the crash of other gateways.</p>
</li>

<li>
<p>Running the same set of tests simultaneously in 2 opposite directions over a set of
gateways causes fatal asserts in the UM Gateways. Although this is not a typical user
configuration, more complex gateway configurations could simulate this effect. The UM
Gateway is designed to successfully forward the same set of topic messages sent both ways
across a set of gateways.</p>
</li>
</ul>

<p>These behaviors have not been seen in other, more typical gateway configurations.
Informatica is investigating this problem.</p>
</li>

<li>
<p>Under certain extreme conditions manufactured by configuring atypically low timeout
settings, the UM Gateway has been observed to terminate with various fatal assertions. We
believe this to be the result of a race condition exploited by the unusually low timer
settings. This issue has not been seen with less aggressive or default timer settings.
Informatica continues to investigate this problem.</p>
</li>

<li>
<p>In some cases, a UM Gateway instance does not establish a reliable peer connection
with another UM Gateway instance residing on the same Solaris 64-bit host. At this time,
Informatica does not recommend configuring 1 or more peer-connected gateway instances on
a single Solaris 64-bit host. Informatica continues to investigate this problem.</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>When using the UM Gateway in a failover configuration using LBT-RDMA, if the gateways
experience multiple failures, receivers may experience deafness (unable to discovers
sources). For this to occur, all gateways must fail once and at least one gateway must
fail more than once.</p>
</li>

<li>
<p>Informatica has discovered that simultaneous event processing that involves EOS's and
topic advertisements (TIR) combined with receiver deletes can cause an application to
crash when using Multi-Transport Threads. Applications which routinely create and destroy
receivers as part of normal running should disable Multi-Transport Threads to avoid this
risk. Informatica is working on a solution.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.4" name="UME3.2.4">23.2. UME 3.2.4</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.4-FIXES" name="UME3.2.4-FIXES">23.2.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMP</b> problems were discovered.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.4-KNOWNISSUES" name="UME3.2.4-KNOWNISSUES">23.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.4" name="UMQ2.1.4">23.3. UMQ 2.1.4</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.4-FIXES" name="UMQ2.1.4-FIXES">23.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.3-UME3.2.3-UMQ2.1.3"
name="SECLBM4.2.3-UME3.2.3-UMQ2.1.3">24. Release LBM 4.2.3 / UME 3.2.3 / UMQ 2.1.3 -
April 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.3" name="LBM4.2.3">24.1. LBM 4.2.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.3-FIXES" name="LBM4.2.3-FIXES">24.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem that caused a fatal assert if a receiving application receives
messages from a sending application that repeatedly creates and deletes sources on the
same topic. This problem originated in the <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> release of LBM 4.2.2. Previous versions did not have
this problem.</p>
</li>

<li>
<p>When using Multi-Transport Threads, a deadlock was possible if you deleted a receiver
at the same moment a transport session began or ended. An alternative locking mechanism
has been implemented to prevent a deadlock when you create new transport sessions or
delete old transport sessions using the same transport thread as a deleted receiver.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.3-KNOWNISSUES" name="LBM4.2.3-KNOWNISSUES">24.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. Informatica
is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. Informatica is
investigating this problem.</p>
</li>

<li>
<p>A requesting application using a UM Gateway may not receive the expected number of
responses. The problem occurs if the responses exceed the maximum datagram size, are
fragmented and the gateway must forward simultaneous fragmented responses. In this case
the fragments may become intermingled and result in a response not being delivered as
expected. The requesting application receives a warning similar to: <tt
class="LITERAL">WARNING: failed assertion [offset==0] at line 1627 in
../../../../src/lib/lbm/lbmqr.c</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>When using the UM Gateway in a four gateway "full-mesh" configuration (i.e., all
gateways connected) the following instabilities have been observed.</p>

<ul>
<li>
<p>Requesting applications can receive multiple or unending responses.</p>
</li>

<li>
<p>Restarting a single gateway has resulted in the crash of other gateways.</p>
</li>

<li>
<p>Running the same set of tests simultaneously in 2 opposite directions over a set of
gateways causes fatal asserts in the UM Gateways. Although this is not a typical user
configuration, more complex gateway configurations could simulate this effect. The UM
Gateway is designed to successfully forward the same set of topic messages sent both ways
across a set of gateways.</p>
</li>
</ul>

<p>These behaviors have not been seen in other, more typical gateway configurations.
Informatica is investigating this problem.</p>
</li>

<li>
<p>Under certain extreme conditions manufactured by configuring atypically low timeout
settings, the UM Gateway has been observed to terminate with various fatal assertions. We
believe this to be the result of a race condition exploited by the unusually low timer
settings. This issue has not been seen with less aggressive or default timer settings.
Informatica continues to investigate this problem.</p>
</li>

<li>
<p>In some cases, a UM Gateway instance does not establish a reliable peer connection
with another UM Gateway instance residing on the same Solaris 64-bit host. At this time,
Informatica does not recommend configuring 1 or more peer-connected gateway instances on
a single Solaris 64-bit host. Informatica continues to investigate this problem.</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>When using the UM Gateway in a failover configuration using LBT-RDMA, if the gateways
experience multiple failures, receivers may experience deafness (unable to discovers
sources). For this to occur, all gateways must fail once and at least one gateway must
fail more than once.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Informatica has discovered that simultaneous event processing that involves EOS's and
topic advertisements (TIR) combined with receiver deletes can cause an application to
crash when using Multi-Transport Threads. Applications which routinely create and destroy
receivers as part of normal running should disable Multi-Transport Threads to avoid this
risk. Informatica is working on a solution.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.3" name="UME3.2.3">24.2. UME 3.2.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.3-FIXES" name="UME3.2.3-FIXES">24.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem with source failover to proxy sources that resulted in the following
warning: <tt class="LITERAL">NOTICE: store [ip:port] reports it has not received TIR.
Possible misconfiguration?</tt></p>
</li>

<li>
<p>Fixed a problem that allowed <b class="APPLICATION">UMP</b> proxy source election
notifications to loop forever through UM Gateways configured in a loop.</p>
</li>

<li>
<p>Fixed a problem that could cause a deadlock when message acknowledgements were sent at
the same time that a transport session was closed.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.3-KNOWNISSUES" name="UME3.2.3-KNOWNISSUES">24.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.3" name="UMQ2.1.3">24.3. UMQ 2.1.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.3-FIXES" name="UMQ2.1.3-FIXES">24.3.1. Bug
Fixes</a></h4>

<p>No specific <b class="APPLICATION">UMQ</b> problems were discovered.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.2-UME3.2.2-UMQ2.1.2"
name="SECLBM4.2.2-UME3.2.2-UMQ2.1.2">25. Release LBM 4.2.2 / UME 3.2.2 / UMQ 2.1.2 -
April 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.2" name="LBM4.2.2">25.1. LBM 4.2.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.2-FIXES" name="LBM4.2.2-FIXES">25.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>In the UM Gateway, log messages that appear upon restart indicating a <tt
class="LITERAL">forwarding entry</tt> or <tt class="LITERAL">ctxinst</tt> have been
changed from WARNING to INFORMATIONAL. These log messages are normal and do not appear as
the gateway discovers the surrounding environment and sets up the required forwarding
information.</p>
</li>

<li>
<p>Resolved a known issue with the UM Gateway that was reported in <b
class="APPLICATION">LBM</b> 4.2.1 <a href="#LBM4.2.1-KNOWNISSUES"><i>Known
Issues</i></a>. Previously if you brought down a UM Gateway, reconfigured its number
and/or type of portals and then restarted it, you had to also restart any other gateways
with which that reconfigured gateway either connected to previously or currently connects
to. Now you do not have to restart any connecting gateways.</p>
</li>

<li>
<p>Fixed a problem with the <a href="../JavaAPI/html/index.html" target="doccontent">Java
API</a> that could cause a crash of the JVM if a user's source event callback threw an
uncaught exception.</p>
</li>

<li>
<p>Corrected a problem that prevented LBM 4.0 receivers from joining multiple pre-LBM 4.0
sources sending on the same topic if the topic advertisements for those sources were sent
before the receivers were created.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.2-KNOWNISSUES" name="LBM4.2.2-KNOWNISSUES">25.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. Informatica
is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">LBM</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">LBM</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. Informatica is
investigating this problem.</p>
</li>

<li>
<p>A requesting application using a UM Gateway may not receive the expected number of
responses. The problem occurs if the responses exceed the maximum datagram size, are
fragmented and the gateway must forward simultaneous fragmented responses. In this case
the fragments may become intermingled and result in a response not being delivered as
expected. The requesting application receives a warning similar to: <tt
class="LITERAL">WARNING: failed assertion [offset==0] at line 1627 in
../../../../src/lib/lbm/lbmqr.c</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>When using the UM Gateway in a four gateway "full-mesh" configuration (i.e., all
gateways connected) the following instabilities have been observed.</p>

<ul>
<li>
<p>Requesting applications can receive multiple or unending responses.</p>
</li>

<li>
<p>Restarting a single gateway has resulted in the crash of other gateways.</p>
</li>

<li>
<p>Running the same set of tests simultaneously in 2 opposite directions over a set of
gateways causes fatal asserts in the UM Gateways. Although this is not a typical user
configuration, more complex gateway configurations could simulate this effect. The UM
Gateway is designed to successfully forward the same set of topic messages sent both ways
across a set of gateways.</p>
</li>
</ul>

<p>These behaviors have not been seen in other, more typical gateway configurations.
Informatica is investigating this problem.</p>
</li>

<li>
<p>Under certain extreme conditions manufactured by configuring atypically low timeout
settings, the UM Gateway has been observed to terminate with various fatal assertions. We
believe this to be the result of a race condition exploited by the unusually low timer
settings. This issue has not been seen with less aggressive or default timer settings.
Informatica continues to investigate this problem.</p>
</li>

<li>
<p>In some cases, a UM Gateway instance does not establish a reliable peer connection
with another UM Gateway instance residing on the same Solaris 64-bit host. At this time,
Informatica does not recommend configuring 1 or more peer-connected gateway instances on
a single Solaris 64-bit host. Informatica continues to investigate this problem.</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>When using the UM Gateway in a failover configuration using LBT-RDMA, if the gateways
experience multiple failures, receivers may experience deafness (unable to discovers
sources). For this to occur, all gateways must fail once and at least one gateway must
fail more than once.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.2" name="UME3.2.2">25.2. UME 3.2.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.2-FIXES" name="UME3.2.2-FIXES">25.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Added the <tt class="LITERAL">-t</tt> option to specify store names in the .NET and
Java version of <tt class="LITERAL">umesrc</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.2-KNOWNISSUES" name="UME3.2.2-KNOWNISSUES">25.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.2" name="UMQ2.1.2">25.3. UMQ 2.1.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.2-FIXES" name="UMQ2.1.2-FIXES">25.3.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that occurred when using either the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> or the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> and a source that sends
using a per-send client object. The problem resulted in a crash or null pointer exception
if the source was configured with both ULB and UME settings. If configured with only ULB
settings, a memory leak of the per-send client object occurred. The following shows how
you might send messages using <tt class="LITERAL">LBMContext.send()</tt> in Java or .NET
with a per-send client object.</p>

<pre class="SCREEN">
LBMSourceSendExInfo exinfo = new LBMSourceSendExInfo();
exinfo.setClientObject(something);
context.send( ...., exinfo);
               
</pre>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2.1-UME3.2.1-UMQ2.1.1"
name="SECLBM4.2.1-UME3.2.1-UMQ2.1.1">26. Release LBM 4.2.1 / UME 3.2.1 / UMQ 2.1.1 -
April 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2.1" name="LBM4.2.1">26.1. LBM 4.2.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2.1-NEW" name="LBM4.2.1-NEW">26.1.1. New
Features</a></h4>

<ul>
<li>
<p>Added new configuration option, <a
href="../Config/resolveroperationoptions.html#SOURCERESOLVERADVERTISEMENTSENDIMMEDIATERESPONSE"
 target="doccontent"><tt
class="LITERAL">resolver_advertisement_send_immediate_response</tt></a> that allows you
to disable the normal immediate response to queries and wildcard queries.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.1-UPDATES" name="LBM4.2.1-UPDATES">26.1.2. Updated
Features</a></h4>

<ul>
<li>
<p>Added the topic resolution request function to the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>. Contexts may now request
topic resolution through the <code
class="FUNCTION">LBMContext.requestTopicResolution()</code> API. Also added the sample
application, <tt class="LITERAL">lbmtrreq</tt> to the Java and .NET collections of sample
applications.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.1-FIXES" name="LBM4.2.1-FIXES">26.1.3. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected numerous problems with the stability and reliability of the UM Gateway.</p>
</li>

<li>
<p>In the UM Gateway, fixed a small memory leak that occurred when a requester processed
large fragmented responses.</p>
</li>

<li>
<p>In the UM Gateway, fixed an issue that could in specific circumstances cause a
receiver downstream of a restarted gateway to become deaf to some remote sources.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that occurred when a gateway rejected a topic
and then accepted it. This produced the assertion, <tt class="LITERAL">[warning] WARNING:
failed assertion [topic-&#62;known_srcs==0] at line 2597 in
../../../../src/lib/lbm/lbmresolve.c</tt>.</p>
</li>

<li>
<p>Resolved an issue that caused errors in Java during source event callbacks to corrupt
TCP streams.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2.1-KNOWNISSUES" name="LBM4.2.1-KNOWNISSUES">26.1.4.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. Informatica
is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">LBM</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">LBM</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. Informatica is
investigating this problem.</p>
</li>

<li>
<p>A requesting application using a UM Gateway may not receive the expected number of
responses. The problem occurs if the responses exceed the maximum datagram size, are
fragmented and the gateway must forward simultaneous fragmented responses. In this case
the fragments may become intermingled and result in a response not being delivered as
expected. The requesting application receives a warning similar to: <tt
class="LITERAL">WARNING: failed assertion [offset==0] at line 1627 in
../../../../src/lib/lbm/lbmqr.c</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>When using the UM Gateway in a four gateway "full-mesh" configuration (i.e., all
gateways connected) the following instabilities have been observed.</p>

<ul>
<li>
<p>Requesting applications can receive multiple or unending responses.</p>
</li>

<li>
<p>Restarting a single gateway has resulted in the crash of other gateways.</p>
</li>

<li>
<p>Running the same set of tests simultaneously in 2 opposite directions over a set of
gateways causes fatal asserts in the UM Gateways. Although this is not a typical user
configuration, more complex gateway configurations could simulate this effect. The UM
Gateway is designed to successfully forward the same set of topic messages sent both ways
across a set of gateways.</p>
</li>
</ul>

<p>These behaviors have not been seen in other, more typical gateway configurations.
Informatica is investigating this problem.</p>
</li>

<li>
<p>Under certain extreme conditions manufactured by configuring atypically low timeout
settings, the UM Gateway has been observed to terminate with various fatal assertions. We
believe this to be the result of a race condition exploited by the unusually low timer
settings. This issue has not been seen with less aggressive or default timer settings.
Informatica continues to investigate this problem.</p>
</li>

<li>
<p>In some cases, a UM Gateway instance does not establish a reliable peer connection
with another UM Gateway instance residing on the same Solaris 64-bit host. At this time,
Informatica does not recommend configuring 1 or more peer-connected gateway instances on
a single Solaris 64-bit host. Informatica continues to investigate this problem.</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>If you bring down a UM Gateway, reconfigure its number and/or type of portals and then
restart the gateway, you must also restart any other gateways with which that
reconfigured gateway either connected to previously or now connects to. Informatica is
investigating this issue.</p>
</li>

<li>
<p>When using the UM Gateway in a failover configuration using LBT-RDMA, if the gateways
experience multiple failures, receivers may experience deafness (unable to discovers
sources). For this to occur, all gateways must fail once and at least one gateway must
fail more than once.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2.1" name="UME3.2.1">26.2. UME 3.2.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2.1-FIXES" name="UME3.2.1-FIXES">26.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue where a UME source reached a state where it could not successfully
register with UME stores located on the far side of one or more gateways. This situation
only occurred if there were multiple paths from the source to the stores, the paths
involved one or more peer links, and the gateways were brought down and up in rapid
succession.</p>
</li>

<li>
<p>Fixed an issue where messages could be prematurely reclaimed if reclamation is forced
after losing registration.</p>
</li>

<li>
<p>Fixed a condition that could cause a UME store to become effectively deaf to new data
after a gateway failover and restart.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2.1-KNOWNISSUES" name="UME3.2.1-KNOWNISSUES">26.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1.1" name="UMQ2.1.1">26.3. UMQ 2.1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1.1-FIXES" name="UMQ2.1.1-FIXES">26.3.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue that could cause Java ULB and <b class="APPLICATION">UMQ</b> receivers
to crash when explicitly reassigning a message.</p>
</li>

<li>
<p>Fixed a problem that prevented the <tt class="LITERAL">reassigned</tt> flag from being
set for reassigned <b class="APPLICATION">UMQ</b> Serial Queue Dissemination (SQD)
messages.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.2-UME3.2-UMQ2.1" name="SECLBM4.2-UME3.2-UMQ2.1">27.
Release LBM 4.2 / UME 3.2 / UMQ 2.1 - March 2011</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.2" name="LBM4.2">27.1. LBM 4.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.2-NEW" name="LBM4.2-NEW">27.1.1. New Features</a></h4>

<ul>
<li>
<p>Added new receiver scope configuration option, <a
href="../Config/majoroptions.html#RECEIVERTRANSPORTDEMUXTABLESZ" target="doccontent"><tt
class="LITERAL">transport_demux_tablesz</tt></a> that sets the size of the table used for
mapping topic indices to delivery controllers.</p>
</li>

<li>
<p>Added new configuration option, <a
href="../Config/majoroptions.html#CONTEXTNETWORKCOMPATIBILITYMODE" target="doccontent"><tt
class="LITERAL">network_compatibility_mode</tt></a> to restrict the types of message
headers that can be sent onto the network, for the purpose of improved backward
compatibility.</p>
</li>

<li>
<p>Added new configuration option, <a
href="../Config/latejoinoptions.html#RECEIVERRETRANSMITINITIALSEQUENCENUMBERREQUEST"
target="doccontent"><tt class="LITERAL">retransmit_initial_sequence_number_request</tt></a>
that allows topic advertisements (TIR) to trigger a late join if receivers detect a gap
in messages instead of waiting for either a subsequent message or a TSNI.</p>
</li>

<li>
<p>Added <code class="FUNCTION">lbm_send_request_ex()</code> call to the <b
class="APPLICATION">LBM</b> C API (with corresponding <tt
class="LITERAL">LBMSource.send()</tt> methods in the Java and .NET APIs) to allow sending
requests with <tt class="LITERAL">lbm_src_send_ex_info_t</tt> or <tt
class="LITERAL">LBMSourceSendExInfo</tt> objects and per-send client objects.</p>
</li>

<li>
<p>Added a new environment variable, LBM_DEBUG_MAXSIZE, that allows the LBM DEBUG log to
roll over when the DEBUG log exceeds the maximum size specified by this variable (in
bytes). The log rolls over slightly before reaching the limit, because adding the current
log message to the log would exceed the maximum set with the environment variable.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2-UPDATES" name="LBM4.2-UPDATES">27.1.2. Updated
Features</a></h4>

<ul>
<li>
<p>Added the Hot Failover Concentrator (HFX) feature that allows Hot Failover streams on
multiple contexts to be treated as a single hot failover stream. See <a
href="../Design/lbm-features.html#HFX" target="doccontent">Hot Failover Across Multiple
Contexts</a>.</p>
</li>

<li>
<p>TSNIs (transport topic sequence number information) have been enabled by default on
TCP transports. See also <a
href="../Config/majoroptions.html#SOURCETRANSPORTTOPICSEQUENCENUMBERINFOINTERVAL"
target="doccontent"><tt
class="LITERAL">transport_topic_sequence_number_info_interval</tt></a>.</p>
</li>

<li>
<p>Modified internal timer handling to be more judicious when waking up the context
thread to schedule a timer.</p>
</li>

<li>
<p>Added command line delay option in seconds (<tt class="LITERAL">-d, --delay=NUM</tt>)
for C, Java and .NET sample applications that send messages.</p>
</li>

<li>
<p>Implemented batching in communication between UM Gateway peer portals to improve
throughput.</p>
</li>

<li>
<p>The UM Gateway now allows empty (zero-length) topics and wildcard topic patterns.</p>
</li>

<li>
<p>Context topic advertisements may now be disabled by setting, <a
href="../Config/majoroptions.html#CONTEXTRESOLVERCONTEXTADVERTISEMENTINTERVAL"
target="doccontent"><tt class="LITERAL">resolver_context_advertisement_interval</tt></a> to 0
(zero). <b class="APPLICATION">Note:</b> Disabling context advertisements is not
recommended unless specifically advised to do so.</p>
</li>

<li>
<p>Zero Object Delivery (ZOD) is now enabled by default for both Java and .NET.
Applications wishing to take advantage of ZOD should call <code
class="FUNCTION">Dispose()</code> on messages before the end of the message callback.</p>

<p><b class="APPLICATION">Addendum:</b> To clarify, please note that ZOD is now an
always-on feature whenever you call <code class="FUNCTION">Dispose()</code>. If you do
not call <code class="FUNCTION">Dispose()</code>, you must call <code
class="FUNCTION">Promote()</code> to promote the message to an object. Conversely, if you
do not call <code class="FUNCTION">Promote()</code>, you must call <code
class="FUNCTION">Dispose()</code>.</p>
</li>

<li>
<p>Added the new configuration option <a
href="../Config/deliverycontroloptions.html#CONTEXTMIMDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">mim_delivery_control_loss_check_interval</tt></a> to
periodically check Multicast Immediate Messaging (MIM) delivery controllers for loss.
Option defaults to 0 and follows the same basic semantics as <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a>.</p>
</li>

<li>
<p>Application linking with the SmartHeap memory manager is no longer permitted under any
provision of an <b class="APPLICATION">LBM</b> license alone. Existing Informatica
applications that use the SmartHeap allocator, such as the <b class="APPLICATION">UME</b>
store daemon (<tt class="LITERAL">umestored</tt>) and the <b
class="APPLICATION">UMCache</b> daemon (<tt class="LITERAL">umcached</tt>) will continue
to use the SmartHeap allocator.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2-FIXES" name="LBM4.2-FIXES">27.1.3. Bug Fixes</a></h4>

<ul>
<li>
<p>Added an <code class="FUNCTION">isClosed()</code> function to <tt
class="LITERAL">LBMSource.cs</tt> and <tt class="LITERAL">LBMSource.java</tt> to check if
a source object has a valid C reference.</p>
</li>

<li>
<p>Fixed a Fatal Assert caused by a race condition that could occur when deleting an
LBT-RDMA receiver at the same moment a source disconnect event was being processed.</p>
</li>

<li>
<p>Corrected a problem with LBT-RU and LBT-RDMA that caused receivers to bind to the
wrong source address. These transports now check the IN_ADDRANY value before overwriting
the source IP address.</p>
</li>

<li>
<p>Corrected a problem when running a context in sequential mode that prevented the
transport threads from creating the event processing thread. Transport threads now force
embedded mode.</p>
</li>

<li>
<p>Fixed a problem that prevented non-blocking sends from returning EWOULDBLOCK when
either the rate limiter was met or the inflight messages met the flight size.</p>
</li>

<li>
<p>Corrected a UM Gateway issue that caused the fatal assertion, <tt
class="LITERAL">FATAL: failed assertion [wt-&#62;topic!=NULL] at line 4444 in
../../../../src/gateway/tnwgendpoint.c</tt>.</p>
</li>

<li>
<p>Fixed a problem on Solaris i386 that caused TCP sends to always be blocking sends.</p>
</li>

<li>
<p>Corrected misspellings on the UM Gateway peer portal Web Monitor page.</p>
</li>

<li>
<p>Corrected several UM Gateway Web Monitor statistics that were being updated
incorrectly, resulting in values which were too large. The statistics involved are:</p>

<p>On the main page:</p>

<ul>
<li>
<p>Unknown transport fragment bytes received</p>
</li>
</ul>

<p>Endpoint sending:</p>

<ul>
<li>
<p>Transport topic bytes dropped due to no source</p>
</li>

<li>
<p>Duplicate transport topic bytes dropped</p>
</li>
</ul>

<p>Endpoint receiving:</p>

<ul>
<li>
<p>Transport topic bytes received from an unknown source</p>
</li>

<li>
<p>Transport topic request bytes received with no forwarding info</p>
</li>

<li>
<p>Immediate topic bytes received for an an unknown topic</p>
</li>

<li>
<p>Immediate topic bytes received</p>
</li>

<li>
<p>Transport topic bytes received</p>
</li>

<li>
<p>Immediate topicless bytes received</p>
</li>

<li>
<p>Unicast data bytes received</p>
</li>
</ul>
</li>

<li>
<p>Fixed a seg fault that could occur when canceling a recurring timer from within the
callback of that recurring timer.</p>
</li>

<li>
<p>Added the ability to forward (flood) Multicast Immediate Messaging (MIM) traffic from
a UM Gateway portal. You enable this feature by configuring the portal with the <tt
class="LITERAL">&lt;flood-mim/&#62;</tt> element in the UM Gateway configuration
file.</p>
</li>

<li>
<p>Fixed a problem in the UM Gateway that prevented topic Multicast Immediate Messaging
(MIM) messages for which no receiver exists at the endpoint portal from updating the
endpoint's MIM statistics. The endpoint now accurately reports the number of topic MIM
messages that have been dropped due to no receiver for the topic.</p>
</li>

<li>
<p>Corrected a problem with the Multi-Transport Threads feature that consisted of the
control block managing the thread pool per context never being freed. It is now freed
upon context deletion.</p>
</li>

<li>
<p>Corrected two small memory leaks in the UM Gateway.</p>
</li>

<li>
<p>Corrected a problem with Multicast Immediate Messaging (MIM) that resulted in the
callback specified by <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTIMMEDIATEMESSAGERECEIVERFUNCTION"
 target="doccontent"><tt class="LITERAL">immediate_message_receiver_function</tt></a> not to be
called if a wildcard receiver existed in the context.</p>
</li>

<li>
<p>Removed the statistics, <tt class="LITERAL">Transport topic loss/loss burst events
received</tt> and <tt class="LITERAL">Immediate loss events received</tt> from the UM
Gateway Web Monitor for Endpoint Portals. Since the UM Gateway uses arrival order
delivery, no loss events are ever delivered, so these statistics would always be
zero.</p>
</li>

<li>
<p>An issue was corrected in the UM Gateway which could lead to the non-fatal assert, <tt
class="LITERAL">WARNING: failed assertion [result!=0] at line 416
in../../../../src/lib/lbm/lbmrxsctlr.c</tt>. This could also lead to another fatal
assert, <tt class="LITERAL">FATAL: failed assertion [info-&#62;sqn==ctlr-&#62;trail_sqn]
at line 249 in../../../../src/lib/lbm/lbmrxsctlr.c</tt></p>
</li>

<li>
<p>Fixed a problem that could cause some of multiple threads calling <code
class="FUNCTION">lbm_send_response()</code> to hang indefinitely.</p>
</li>

<li>
<p>Corrected numerous problems with the stability and reliability of the UM Gateway.</p>
</li>

<li>
<p>Fixed a problem that could sometimes cause <code
class="FUNCTION">lbm_context_topic_resolution_request()</code> to incorrectly return
failure when it had actually succeeded.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.2-KNOWNISSUES" name="LBM4.2-KNOWNISSUES">27.1.4. Known
Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. Informatica
is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">LBM</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">LBM</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. Informatica is
investigating this problem.</p>
</li>

<li>
<p>A requesting application using a UM Gateway may not receive the expected number of
responses. The problem occurs if the responses exceed the maximum datagram size, are
fragmented and the gateway must forward simultaneous fragmented responses. In this case
the fragments may become intermingled and result in a response not being delivered as
expected. The requesting application receives a warning similar to: <tt
class="LITERAL">WARNING: failed assertion [offset==0] at line 1627 in
../../../../src/lib/lbm/lbmqr.c</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support queuing at this time, only streaming and
persistence. This will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>When using the UM Gateway in a four gateway "full-mesh" configuration (i.e., all
gateways connected) the following instabilities have been observed.</p>

<ul>
<li>
<p>Requesting applications can receive multiple or unending responses.</p>
</li>

<li>
<p>Restarting a single gateway has resulted in the crash of other gateways.</p>
</li>

<li>
<p>Running the same set of tests simultaneously in 2 opposite directions over a set of
gateways causes fatal asserts in the UM Gateways. Although this is not a typical user
configuration, more complex gateway configurations could simulate this effect. The UM
Gateway is designed to successfully forward the same set of topic messages sent both ways
across a set of gateways.</p>
</li>
</ul>

<p>These behaviors have not been seen in other, more typical gateway configurations.
Informatica is investigating this problem.</p>
</li>

<li>
<p>Under certain extreme conditions manufactured by configuring atypically low timeout
settings, the UM Gateway has been observed to terminate with various fatal assertions. We
believe this to be the result of a race condition exploited by the unusually low timer
settings. This issue has not been seen with less aggressive or default timer settings.
Informatica continues to investigate this problem.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.0-CHANGES-2" name="LBM4.0-CHANGES-2">27.1.5. LBM 4.0
Changes</a></h4>

<p>The following changes were implemented in <b class="APPLICATION">LBM</b> Release 4.0
but omitted from the <b class="APPLICATION">LBM</b> 4.0 <a
href="#LBM4.0-UPDATES"><i>Updated Features</i></a> section. They have also been added to
that section.</p>

<ul>
<li>
<p>Added ability to set a <b class="APPLICATION">LBM</b> Configuration Option interface
by name. When setting by name the configuration option's value must be wrapped in
quotes.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.2" name="UME3.2">27.2. UME 3.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.2-NEW" name="UME3.2-NEW">27.2.1. New Features</a></h4>

<ul>
<li>
<p>Added new source scope configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEUSEEXTENDEDRECLAIMNOTIFICATIONS"
 target="doccontent"><tt class="LITERAL">use_extended_reclaim_notifications</tt></a> that
allows your application to receive the new, expanded message reclaim notification or the
standard notification. The new notification or source event,
LBM_SRC_EVENT_UME_MESSAGE_RECLAIMED_EX, contains a new field,
LBM_SRC_EVENT_UME_MESSAGE_RECLAIMED_EX_FLAG_FORCED that <b class="APPLICATION">UME</b>
sets if the reclamation is a forced reclaim.</p>
</li>

<li>
<p>Added new configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#CONTEXTUMESESSIONID"
target="doccontent"><tt class="LITERAL">ume_session_id</tt></a> that specifies a Session ID for
a source, receiver or a context. A Session ID is a 64-bit value that uniquely identifies
any set of sources with unique topics and receivers with unique topics. A single Session
ID allows UME stores to correctly identify all the sources and receivers for a particular
application. See also <a href="../UME/designing-persistent-applications.html#SESSION-IDS"
target="doccontent">Managing RegIDs with Session IDs</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2-FIXES" name="UME3.2-FIXES">27.2.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that could cause a fatal assert in a <b class="APPLICATION">UME</b>
store in a quorum/consensus configuration that uses a low <tt
class="LITERAL">source-activity-timeout</tt> setting when a source is rapidly added and
then deleted.</p>
</li>

<li>
<p>Fixed an issue with memory stores that could cause messages received by a store via
late join to be discarded when the source starts.</p>
</li>

<li>
<p>Fixed a problem that allowed <b class="APPLICATION">UME</b> stores with <tt
class="LITERAL">allow-proxy-source</tt> set to 0 (Disable) to participate in proxy source
elections.</p>
</li>

<li>
<p>Fixed a problem that causes <b class="APPLICATION">UME</b> receivers to report
unrecoverable loss during recovery for messages that were unavailable at some stores, but
still available at others.</p>
</li>

<li>
<p>Corrected an issue where <b class="APPLICATION">UME</b> PREG error responses were not
being forwarded through the gateway.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.2-KNOWNISSUES" name="UME3.2-KNOWNISSUES">27.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.1" name="UMQ2.1">27.3. UMQ 2.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.1-NEW" name="UMQ2.1-NEW">27.3.1. New Features</a></h4>

<ul>
<li>
<p>Implemented Indexed Queuing which allows sources to send messages with an index (an
unsigned 64-bit integer or a string up to 216 characters in length). The Queue assigns
all messages sent with a particular index to an individual receiver in each Application
Set. You can set policies for index assignment in the Queue's umestored XML configuration
file. See <a href="../UME/umeconcepts.html#INDEXED-QUEUING" target="doccontent">Indexed
Queuing</a>.</p>
</li>

<li>
<p>Implemented a Dead Letter Queue feature to isolate unconsumed messages which prevents
these messages from causing application or queuing system problems. See <a
href="../UME/umeconcepts.html#DEAD-LETTER-QUEUE" target="doccontent">Dead Letter Queue</a>.</p>
</li>

<li>
<p>Added the ability to set a message's total lifetime for both <b
class="APPLICATION">UMQ</b> and ULB sources. See <a
href="../UME/umeconcepts.html#MESSAGE-LIFETIMES" target="doccontent">Message Lifetimes</a>.</p>
</li>

<li>
<p>Added <code class="FUNCTION">lbm_msg_umq_reassign()</code> in the <a
href="../API/index.html" target="doccontent">C API</a> to allow a <b
class="APPLICATION">UMQ</b> or ULB receiver to either reassign or discard a message.
Corresponding methods have been added in the <a href="../JavaAPI/html/index.html"
target="doccontent">Java API</a> and the <a href="../DotNetAPI/doc/Index.html"
target="doccontent">.NET API</a>.</p>
</li>

<li>
<p>Added two new receiver configuration options, <a
href="../Config/ultramessagingqueuingoptions.html#RECEIVERUMQULBSOURCECHECKINTERVAL"
target="doccontent"><tt class="LITERAL">umq_ulb_source_check_interval</tt></a> and <a
href="../Config/ultramessagingqueuingoptions.html#RECEIVERUMQULBSOURCEACTIVITYTIMEOUT"
target="doccontent"><tt class="LITERAL">umq_ulb_source_activity_timeout</tt></a> to allow a ULB
receiver to proactively attempt re-registration with a ULB source if the receiver has not
seen any activity (including keepalives) from that source in a specified amount of time,
but the source's transport session is still alive and valid.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ2.1-FIXES" name="UMQ2.1-FIXES">27.3.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that caused a Queue using Serial Queue Dissemination (SQD) to
incorrectly flag certain messages sent to receivers as IMMEDIATE.</p>
</li>

<li>
<p>Fixed a problem that could cause message data corruption when a Queue received large,
fragmented responses or late join messages with application header data.</p>
</li>

<li>
<p>Fixed a problem that could prevent a receiver from requesting the retransmission of
assigned messages from the Queue.</p>
</li>

<li>
<p>Fixed a potential bus error on Solaris SPARC platforms that could occur upon the
restart of a Queue's <tt class="LITERAL">umestored</tt> daemon.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.1.3-UME3.1.3-UMQ2.0.1"
name="SECLBM4.1.3-UME3.1.3-UMQ2.0.1">28. Release LBM 4.1.3 / UME 3.1.3 / UMQ 2.0.1 -
November 2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.1.3" name="LBM4.1.3">28.1. LBM 4.1.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.1.3-FIXES" name="LBM4.1.3-FIXES">28.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem in the UM Gateway that prevented proper Request/Response
behavior.</p>
</li>

<li>
<p>Modified the example request programs (<tt class="LITERAL">lbmreq</tt>, <tt
class="LITERAL">lbmmreq</tt>, and <tt class="LITERAL">lbmireq</tt>) to determine the
request port in a more consistent manner.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.1.3-KNOWNISSUES" name="LBM4.1.3-KNOWNISSUES">28.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. 29West is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">LBM</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">LBM</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. 29West is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.1.3" name="UME3.1.3">28.2. UME 3.1.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.1.3-FIXES" name="UME3.1.3-FIXES">28.2.1. Bug
Fixes</a></h4>

<p>No <b class="APPLICATION">UME</b> specific problems were identified.</p>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1.3-KNOWNISSUES" name="UME3.1.3-KNOWNISSUES">28.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.0.1" name="UMQ2.0.1">28.3. UMQ 2.0</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.0.1-FIXES" name="UMQ2.0.1-FIXES">28.3.1. Bug
Fixes</a></h4>

<p>No <b class="APPLICATION">UMQ</b> specific problems were identified.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.1.2-UME3.1.2-UMQ2.0"
name="SECLBM4.1.2-UME3.1.2-UMQ2.0">29. Release LBM 4.1.2 / UME 3.1.2 / UMQ 2.0 - November
2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.1.2" name="LBM4.1.2">29.1. LBM 4.1.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.1.2-FIXES" name="LBM4.1.2-FIXES">29.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Changed the <a
href="../Config/unicastresolvernetworkoptions.html#CONTEXTRESOLVERUNICASTINTERFACE"
target="doccontent"><tt class="LITERAL">resolver_unicast_interface</tt></a> option to accept
either multicast-capable or non-multicast interfaces.</p>
</li>

<li>
<p>Corrected a UM Gateway issue that could cause a peer portal to become deaf to a
wildcard pattern, if the peer portal received a wildcard receiver topic query (WC-TQR)
for the pattern before the companion portal was connected.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that prevented topics from being purged when
no receivers existed for them. This was evident in the Web Monitor's Gateway page that
showed more active topics than any of the individual portals.</p>
</li>

<li>
<p>Corrected a problem with <tt class="LITERAL">epoll</tt> initialization that prevented
<tt class="LITERAL">epoll</tt> from being used with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a>.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that created a deadlock if multiple, newly
created sources immediately begin sending to a peer gateway.</p>
</li>

<li>
<p>Corrected a segfault in a UM Gateway peer portal that might occur when a wildcard
receiver has been deleted and the peer portal cancels interest in the deleted wildcard
receiver's topic pattern.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.1.2-KNOWNISSUES" name="LBM4.1.2-KNOWNISSUES">29.1.2.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. 29West is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">LBM</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">LBM</b> may leave a monitoring thread running after
context deletion. This situation produces the following error: <tt class="LITERAL">VMA
ERROR : epoll_wait_call:36:epoll_wait_call() epfd 48 not found</tt>. 29West is
investigating this problem.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.0-CHANGES" name="LBM4.0-CHANGES">29.1.3. LBM 4.0
Changes</a></h4>

<p>The following changes were implemented in <b class="APPLICATION">LBM</b> Release 4.0
but omitted from the <b class="APPLICATION">LBM</b> 4.0 <a
href="#LBM4.0-UPDATES"><i>Updated Features</i></a> section. They have also been added to
that section.</p>

<ul>
<li>
<p>Blocking sends from within a context-thread callback are no longer permitted and now
return an LBM_EINVAL error. This restriction eliminates a possible deadlock. Non-blocking
sends from a context-thread callback are still permitted, and any type of send is
permitted outside a context-thread callback.</p>
</li>

<li>
<p>Some API calls that were formerly never safe to call from within a context-thread
callback (due to a deadlock condition) are now always safe to call from within a
context-thread callback. These API calls include:</p>

<ul>
<li>
<p><tt class="LITERAL">lbm_request_delete()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_request_delete_ex()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_response_delete()</tt></p>
</li>
</ul>

<p>Additionally, the following send-related API calls are now safe to call from within a
context-thread callback provided you set the LBM_SRC_NONBLOCK flag.</p>

<ul>
<li>
<p><tt class="LITERAL">lbm_multicast_immediate_message()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_multicast_immediate_request()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_unicast_immediate_message()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_unicast_immediate_request()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_send_response()</tt></p>
</li>
</ul>
</li>

<li>
<p>Added ability to set a <b class="APPLICATION">LBM</b> Configuration Option interface
by name. When setting by name the configuration option's value must be wrapped in
quotes.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.1.2" name="UME3.1.2">29.2. UME 3.1.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.1.2-NEW" name="UME3.1.2-NEW">29.2.1. New
Features</a></h4>

<ul>
<li>
<p>Added the following <b class="APPLICATION">UME</b> configuration options.</p>

<ul>
<li>
<p><a href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEACTIVITYTIMEOUT"
target="doccontent"><tt class="LITERAL">(source) ume_activity_timeout</tt></a></p>
</li>

<li>
<p><a href="../Config/ultramessagingpersistenceoptions.html#RECEIVERUMEACTIVITYTIMEOUT"
target="doccontent"><tt class="LITERAL">(receiver) ume_activity_timeout</tt></a></p>
</li>

<li>
<p><a href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMESTATELIFETIME"
target="doccontent"><tt class="LITERAL">(source) ume_state_lifetime</tt></a></p>
</li>

<li>
<p><a href="../Config/ultramessagingpersistenceoptions.html#RECEIVERUMESTATELIFETIME"
target="doccontent"><tt class="LITERAL">(receiver) ume_state_lifetime</tt></a></p>
</li>

<li>
<p>Also added new new topic ume-attributes options, <tt
class="LITERAL">source-state-lifetime</tt> and <tt
class="LITERAL">receiver-state-lifetime</tt>. See <a
href="../UME/umestored-config.html#UMESTORED-TOPIC-OPTIONS" target="doccontent">Options for a
Topic's ume-attributes Element</a>.</p>
</li>
</ul>

<p>The activity and state lifetime timers protect the Reg IDs of inactive sources and
receivers and also controls how long <b class="APPLICATION">UME</b> retains the state and
cache for inactive sources and receivers. These options can operate in conjunction with
the proxy source option or independently. See <a
href="../UME/ume-fault-tolerance.html#ACTIVITY-TIMEOUT-STATE-LIFETIME"
target="doccontent">Activity Timeout and State Lifetime Options</a> for a discussion of these
timers work together and how they work with proxy sources.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1.2-FIXES" name="UME3.1.2-FIXES">29.2.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue that could result in a crash from leakage of a proxy source object in
the store leading to a "double free" of the proxy source object.</p>
</li>

<li>
<p>Fixed a problem that could cause <b class="APPLICATION">UME</b> receivers to crash if
their source goes down and comes back repeatedly with the same reg ID and also comes back
registered to more stores than previously.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1.2-KNOWNISSUES" name="UME3.1.2-KNOWNISSUES">29.2.3.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ2.0" name="UMQ2.0">29.3. UMQ 2.0</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ2.0-NEW" name="UMQ2.0-NEW">29.3.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">JMS Support:</b> Added support for JMS with the <b
class="APPLICATION">Ultra Messaging JMS</b>. See <a
href="../QuickStart/jms-binary-quick-start.html" target="doccontent">Ultra Messaging JMS API
Quick Start</a> for information on running the example JMS client applications. See <a
href="../jms_concepts/index.html" target="doccontent">Ultra Messaging JMS API Guide</a> for
conceptual, operational and configuration information about Ultra Messaging JMS.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ2.0-FIXES" name="UMQ2.0-FIXES">29.3.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem that could cause a fatal assert if a queue received a MIM message
not meant to be queued on a topic that exists in the queue due to other messages that
were meant to be enqueued.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECUME3.0.2" name="SECUME3.0.2">30. Release UME 3.0.2 -
November 2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UME3.0.2" name="UME3.0.2">30.1. UME 3.0.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.0.2-FIXES" name="UME3.0.2-FIXES">30.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that could cause <b class="APPLICATION">UME</b> receivers to crash if
their source goes down and comes back repeatedly with the same reg ID and also comes back
registered to more stores than previously.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.1.1-UME3.1.1-UMQ1.1.1"
name="SECLBM4.1.1-UME3.1.1-UMQ1.1.1">31. Release LBM 4.1.1 / UME 3.1.1 / UMQ 1.1.1 -
October 2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.1.1" name="LBM4.1.1">31.1. LBM 4.1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.1.1-UPDATES" name="LBM4.1.1-UPDATES">31.1.1. Updated
Features</a></h4>

<ul>
<li>
<p>Improved the efficiency of Late Join retransmissions with the addition of a timer for
every request set to the same value as the <a
href="../Config/latejoinoptions.html#RECEIVERRETRANSMITREQUESTINTERVAL" target="doccontent"><tt
class="LITERAL">retransmit_request_interval</tt></a>. Previously, Late Join re-requested
retransmissions if the retransmission was not received at the expiration of the <tt
class="LITERAL">retransmit_request_interval</tt>. Now Late Join only re-requests a
retransmission when the first request's <tt
class="LITERAL">retransmit_request_interval</tt> expires. This change also applies to
retransmission requests from a <b class="APPLICATION">UME</b> store.</p>
</li>

<li>
<p>The UM Gateway now supports single connection TCP Peer Portals.</p>
</li>

<li>
<p>Added the <tt class="LITERAL">&lt;nodelay/&#62;</tt> element to the Gateway
configuration for peer portals. This sets the TCP_NODELAY option for the peer TCP
connections, disabling Nagle's algorithm. By default, TCP_NODELAY is not set.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.1.1-FIXES" name="LBM4.1.1-FIXES">31.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue that could cause some source events for Hot Failover sources in the
.NET API to not be delivered to the source's source event callback for a brief period of
time after source creation.</p>
</li>

<li>
<p>Corrected a problem with LBT-IPC timers that caused the log warning: <tt
class="LITERAL">THROTTLED MSG: timer scheduled &#60;= MIN_CLOCK_RES_MSEC (2 ms)
[1282330517.878809]: Rescheduling for 3 ms</tt>. This problem occurred if <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> was set to <tt
class="LITERAL">receiver_paced</tt> and the source was slowed by a receiver that could
not keep up to the data stream.</p>
</li>

<li>
<p>Corrected an issue with <tt class="LITERAL">lbmj</tt> library versioning for AIX. The
<b class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> Java API now
runs on AIX.</p>
</li>

<li>
<p>Corrected a race condition with the LBT-RDMA transport that could result in a seg
fault if a receiver was connecting/disconnecting at the same time that the source was
being deleted.</p>
</li>

<li>
<p>Corrected a problem with the LBT-RDMA transport that caused a seg fault if you
increased <a
href="../Config/implicitbatchingoptions.html#SOURCEIMPLICITBATCHINGMINIMUMLENGTH"
target="doccontent"><tt class="LITERAL">implicit_batching_minimum_length</tt></a> from the
default value.</p>
</li>

<li>
<p>Corrected a problem that caused a seg fault when sending messages via the LBT-RDMA
transport that are larger than approximately 3,800 bytes or less if the <a
href="../Config/transportlbt-rdmaoperationoptions.html#CONTEXTTRANSPORTLBTRDMADATAGRAMMAXSIZE"
 target="doccontent"><tt class="LITERAL">transport_lbtrdma_datagram_max_size</tt></a> has been
reduced from the default value.</p>
</li>

<li>
<p>Fixed an issue with automatic monitoring on Apple OSX that caused the process name to
be set to <tt class="LITERAL">unknown</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.1.1-KNOWNISSUES" name="LBM4.1.1-KNOWNISSUES">31.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. 29West is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">LBM</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.1.1" name="UME3.1.1">31.2. UME 3.1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.1.1-NEW" name="UME3.1.1-NEW">31.2.1. New
Features</a></h4>

<ul>
<li>
<p>Added a flight size mechanism that tracks messages in flight from a particular source
and responds when a send would exceed the configured <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEFLIGHTSIZE"
target="doccontent"><tt class="LITERAL">ume_flight_size</tt></a>. You can configure <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEFLIGHTSIZEBEHAVIOR"
target="doccontent"><tt class="LITERAL">ume_flight_size_behavior</tt></a> to either block any
sends that would exceed the flight size or, allow the sends while notifying your
application. For more see, <b class="APPLICATION">UME Flight Size</b> in <a
href="../UME/ume-ops-operational-view.html#UME-OPS-NORMAL-OPERATION" target="doccontent">UME
Normal Operation</a>.</p>
</li>

<li>
<p>Added <tt class="LITERAL">lbm_ume_src_msg_stable()</tt> which can mark a sequence
number as stable. This may trigger a source event notification, if configured to do so
and also adjusts the current number of inflight messages.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1.1-UPDATES" name="UME3.1.1-UPDATES">31.2.2. Updated
Features</a></h4>

<ul>
<li>
<p>Modified the <tt class="LITERAL">receiver-new-registration-rollback</tt> store
option's default to zero (0), which now requests no message recovery for newly registered
receivers. Previously, zero (0) recovered the single latest message. Similarly, a value
of 1 now recovers 1 message, whereas previously a value of 1 recovered 2 messages.</p>

<p><b class="APPLICATION">Configuration Change Required:</b> Reduce this option's value
by 1.</p>

<p><b class="APPLICATION">Application Change Required:</b> If you use <tt
class="LITERAL">lbm_ume_rcv_recovery_info_ex_function_cb()</tt> in any of your
applications, increase the <tt class="LITERAL">low_sequence_number</tt> by one.</p>
</li>

<li>
<p>Added <tt class="LITERAL">all-active</tt> as a valid option for both <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMERETENTIONINTERGROUPSTABILITYBEHAVIOR"
 target="doccontent"><tt class="LITERAL">ume_retention_intergroup_stability_behavior</tt></a>
and <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMERETENTIONINTRAGROUPSTABILITYBEHAVIOR"
 target="doccontent"><tt class="LITERAL">ume_retention_intragroup_stability_behavior</tt></a>.
An active store is defined as a registered store. A group is considered active if it has
at least a quorum of active or registered stores. Intergroup stability requires at least
one stable group.</p>
</li>

<li>
<p><b class="APPLICATION">UME</b> now supports a Quorum/Consensus group size of 1.</p>
</li>

<li>
<p>Added two new store configuration options for separating the configuration of read
async IO callbacks from and write async IO callbacks. See <tt
class="LITERAL">repository-disk-max-write-async-cbs</tt> and <tt
class="LITERAL">repository-disk-max-read-async-cbs</tt> in <a
href="../UME/umestored-config.html#UMESTORED-TOPIC-OPTIONS" target="doccontent">Options for a
Topic's ume-attributes Element</a>.</p>
</li>

<li>
<p>Added the ability to track message stability and/or consumption on a per send basis as
opposed to a per fragment basis by adding additional option values to <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEMESSAGESTABILITYNOTIFICATION"
 target="doccontent"><tt class="LITERAL">ume_message_stability_notification</tt></a> and <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMECONFIRMEDDELIVERYNOTIFICATION"
 target="doccontent"><tt class="LITERAL">ume_confirmed_delivery_notification</tt></a>. Values 0
(zero) and 1 retain existing behavior. Using a value of 2 provides only a single
notification to the source of stability or delivery for an entire message. A value of 3
provides notification of stability or delivery for every fragment or message with the
flag WHOLE_MESSAGE_STABLE or WHOLE_MESSAGE_CONFIRMED set for the last fragment of a
message.</p>
</li>

<li>
<p>Modified <tt class="LITERAL">umestored</tt> to greatly increase the rate at which
stores handle retransmission requests. Retransmissions are now sent on a different
context from the store context thread.</p>
</li>

<li>
<p>Changed the <tt class="LITERAL">IP:port</tt> used to send stability ACKs when using <b
class="APPLICATION">UME</b> across the UM Gateway. <b class="APPLICATION">UME</b> now
uses the <tt class="LITERAL">IP:port</tt> specified in the topic advertisement, rather
than the <tt class="LITERAL">IP:port</tt> specified in the persistent registration. This
change only affects deployments in which</p>

<ol type="1">
<li>
<p>The source and store are on different sides of a gateway.</p>
</li>

<li>
<p>Multiple paths exist between the source and store via multiple parallel gateways.</p>
</li>

<li>
<p>Due to ACL restrictions, the persistent registration and topic data are forwarded on
different gateways.</p>
</li>
</ol>

<br />
<br />
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1.1-FIXES" name="UME3.1.1-FIXES">31.2.3. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that caused a segfault if <tt class="LITERAL">umestored</tt> was
configured to use sequential mode.</p>
</li>

<li>
<p>Corrected a problem that caused proxy source creation to fail in <b
class="APPLICATION">UME</b> stores.</p>
</li>

<li>
<p>Fixed an issue where a persistent registration timer could be scheduled repeatedly on
an error condition, which caused rapid memory growth and CPU usage.</p>
</li>

<li>
<p>Fixed an issue that caused a segfault if a receiver attempted a very large recovery
that completed quickly.</p>
</li>

<li>
<p>Corrected an issue in the Gateway concerning multiple parallel peer portals on the
same gateway which connect to corresponding peer portals on another gateway. Multiple
delivery confirmations could be received for a single message due to problems with how
ACLs on the peer portals operated.</p>
</li>

<li>
<p>Changed the value of <tt class="LITERAL">optlen</tt> to 0 (zero) if no <b
class="APPLICATION">UME</b> store was configured with either a configuration file or
<code class="FUNCTION">lbm_src_topic_attr_str_getopt()</code> and you called <code
class="FUNCTION">lbm_src_topic_attr_str_getopt()</code>. Previously in this case, <tt
class="LITERAL">optlen</tt> was set to -1.</p>
</li>

<li>
<p>Added a new state , UNRESOLVED, for stores configured with only a <tt
class="LITERAL">store-name</tt> and without an IP:port. Previously in this case, <b
class="APPLICATION">UME</b> delivered a LBM_SRC_EVENT_UME_STORE_UNRESPONSIVE event to the
source application. The event text now indicates that the store is UNRESOLVED, rather
than unresponsive.</p>
</li>

<li>
<p>Corrected an issue with <b class="APPLICATION">UME</b> sources referencing stores by
name that have been become unresponsive and have been configured in the Round Robin
fashion. Once the store restarted, re-registration did not occur. This condition only
applies when the source and store reside on opposite sides of a gateway.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1.1-KNOWNISSUES" name="UME3.1.1-KNOWNISSUES">31.2.4.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ1.1.1" name="UMQ1.1.1">31.3. UMQ 1.1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ1.1.1-NEW" name="UMQ1.1.1-NEW">31.3.1. New
Features</a></h4>

<ul>
<li>
<p>Added a flight size mechanism for both <b class="APPLICATION">UMQ</b> and ULB that
tracks messages in flight from a particular source and responds when a send would exceed
the configured flight size. You can configure the <b class="APPLICATION">UMQ</b> flight
size behavior for sources or Multicast Immediate Messaging to either block any sends that
would exceed the flight size or, allow the sends while notifying your application. For
more see, <a href="../UME/ume-ops-operational-view.html#QUEUE-FLIGHT-SIZE"
target="doccontent">UMQ Flight Size</a> and <b class="APPLICATION">Ultra Load Balancing Flight
Size</b> in <a href="../UME/ume-ops-operational-view.html#ULB-OPS" target="doccontent">Ultra
Load Balancing Operations</a>.</p>
</li>

<li>
<p>Added <tt class="LITERAL">lbm_umq_ctx_msg_stable()</tt> which can mark a message ID as
stable. This may trigger a source event notification, if configured to do so and also
adjusts the current number of inflight messages.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.1-UME3.1-UMQ1.1" name="SECLBM4.1-UME3.1-UMQ1.1">32.
Release LBM 4.1 / UME 3.1 / UMQ 1.1 - August 2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.1" name="LBM4.1">32.1. LBM 4.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.1-NEW" name="LBM4.1-NEW">32.1.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">New Transport.</b> Added the LBT-RDMA transport, which is a
Remote Direct Memory Access (RDMA) <b class="APPLICATION">LBM</b> transport that allows
sources to publish topic messages to a shared memory area from which receivers can read
topic messages. LBT-RDMA runs across InfiniBand and 10 Gigabit Ethernet hardware. See <a
href="../Design/lbm-objects.html#TRANSPORT-LBT-RDMA" target="doccontent">LBT-RDMA</a> for more
information.</p>
</li>

<li>
<p>Added the following three new configuration options that cap the total amount of
memory that a transport transmission window uses, which includes data and overhead.</p>

<ul>
<li>
<p><a
href="../Config/transportlbt-rmreliabilityoptions.html#SOURCETRANSPORTLBTRMTRANSMISSIONWINDOWLIMIT"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_transmission_window_limit</tt></a></p>
</li>

<li>
<p><a
href="../Config/transportlbt-rureliabilityoptions.html#SOURCETRANSPORTLBTRUTRANSMISSIONWINDOWLIMIT"
 target="doccontent"><tt class="LITERAL">transport_lbtru_transmission_window_limit</tt></a></p>
</li>

<li>
<p><a
href="../Config/multicastimmediatemessagingreliabilityoptions.html#CONTEXTMIMTRANSMISSIONWINDOWLIMIT"
 target="doccontent"><tt class="LITERAL">mim_transmission_window_limit</tt></a></p>
</li>
</ul>

The default for all three is 0 (zero) which does not impose any limit. <br />
<br />
</li>

<li>
<p><b class="APPLICATION">Accelerated Multicast support.</b> Added another transport
acceleration option to <b class="APPLICATION">LBM</b> with support for Accelerated
Multicast which applies to LBT-RM. You turn this acceleration on with the <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> option. This features requires
InfiniBand or 10 Gigabit Ethernet hardware.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.1-UPDATES" name="LBM4.1-UPDATES">32.1.2. Updated
Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">Redesigned UM Gateway</b> The Gateway has been redesigned to
allow full bidirectional forwarding, multi-hop forwarding, tunnel compression,
encryption, and more. <b class="APPLICATION">This new design requires a configuration
change.</b> For more see <a href="../Gateway/index.html" target="doccontent">the new UM Gateway
user guide</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Multi-Transport Threads</b> <b class="APPLICATION">LBM</b> has
added the ability to distribute data delivery across multiple CPUs by using a receiving
thread pool. Receivers created with the configuration option, <a
href="../Config/majoroptions.html#RECEIVERUSETRANSPORTTHREAD" target="doccontent"><tt
class="LITERAL">use_transport_thread</tt></a> set to <b class="APPLICATION">1</b> use a
thread from the thread pool instead of the context thread. The option, <a
href="../Config/majoroptions.html#CONTEXTRECEIVETHREADPOOLSIZE" target="doccontent"><tt
class="LITERAL">receive_thread_pool_size</tt></a> controls the pool size. See <a
href="../Design//fundamental-concepts.html#MULTITHREADED-TRANSPORTS"
target="doccontent">Multi-Transport Threads</a>.</p>
</li>

<li>
<p>Added a sequential mode for LBT-IPC which is controlled by <a
href="../Config/transportlbt-ipcoperationoptions.html#CONTEXTTRANSPORTLBTIPCRECEIVEROPERATIONALMODE"
 target="doccontent"><tt class="LITERAL">transport_lbtipc_receiver_operational_mode</tt></a>.
This mode requires your application to call <tt
class="LITERAL">lbm_context_process_lbtipc_messages()</tt> to process LBT-IPC messages
instead of <b class="APPLICATION">LBM</b> automatically spawning a thread to do so.</p>
</li>

<li>
<p><b class="APPLICATION">New Monitoring Statistics:</b> Added monitoring statistics for
the new LBT-RDMA transport in the <a
href="../API/structlbm__rcv__transport__stats__lbtrdma__t__stct.html" target="doccontent"><tt
class="LITERAL">lbm_rcv_transport_stats_lbtrdma_t_stct</tt></a> and <a
href="../API/structlbm__src__transport__stats__lbtrdma__t__stct.html" target="doccontent"><tt
class="LITERAL">lbm_src_transport_stats_lbtrdma_t_stct</tt></a> structures. These
statistics are available to the <a href="../API/index.html" target="doccontent">C API</a>, the
<a href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>. The new statistics have
also been added to the <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span></b> <b class="APPLICATION">MIB</b> and the InterMapper probe files. In
addition, all example applications support the statistics.</p>
</li>

<li>
<p>Added the ability to name a context with <code
class="FUNCTION">lbm_context_set_name()</code> and advertise it's existence at the <a
href="../Config/majoroptions.html#CONTEXTRESOLVERCONTEXTADVERTISEMENTINTERVAL"
target="doccontent"><tt class="LITERAL">resolver_context_advertisement_interval</tt></a>. <code
class="FUNCTION">lbm_context_get_name()</code> was also added. This mechanism for naming
and advertising <b class="APPLICATION">LBM</b> contexts facilitates UM Gateway operation
especially for <b class="APPLICATION">UME</b> and <b class="APPLICATION">UMQ</b> .</p>
</li>

<li>
<p>Zero Object Delivery (ZOD) has been implemented for .NET, which allows .NET messaging
receivers to deliver messages to an application with no per-message object creation. For
more information, see <a
href="https://communities.informatica.com/infakb/faq/5/Pages/80233.aspx"
target="doccontent">Zero Object Delivery (ZOD)</a> in the <b class="APPLICATION">29West</b>
Knowledgebase.</p>
</li>

<li>
<p>Zero Incoming Copy (ZIC) has been implemented for .NET, which provides access to
message data directly through a byte pointer returned by the <tt
class="LITERAL">LBMMessage.dataPointer()</tt> method. For more information see <a
href="https://communities.informatica.com/infakb/faq/5/Pages/80279.aspx"
target="doccontent">Zero Incoming Copy (ZIC)</a> in the <b class="APPLICATION">29West</b>
Knowledgebase.</p>
</li>

<li>
<p>TCP-LB has now been enhanced to allow fragmented messages to be delivered as fragments
when you set <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> to zero.</p>
</li>

<li>
<p>Daemons built on 32-bit Linux previously linked with Smartheap 8.1 are now linked with
Smartheap 9.0.1.</p>
</li>

<li>
<p>Added the following five new configuration options that establish independent datagram
size limits for each transport. Deprecated <a
href="../Config/majoroptions.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE" target="doccontent"><tt
class="LITERAL">transport_datagram_max_size</tt></a>.</p>

<ul>
<li>
<p><a
href="../Config/transportlbt-rmoperationoptions.html#CONTEXTTRANSPORTLBTRMDATAGRAMMAXSIZE"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_datagram_max_size</tt></a></p>
</li>

<li>
<p><a
href="../Config/transportlbt-ruoperationoptions.html#CONTEXTTRANSPORTLBTRUDATAGRAMMAXSIZE"
 target="doccontent"><tt class="LITERAL">transport_lbtru_datagram_max_size</tt></a></p>
</li>

<li>
<p><a
href="../Config/transporttcpoperationoptions.html#CONTEXTTRANSPORTTCPDATAGRAMMAXSIZE"
target="doccontent"><tt class="LITERAL">transport_tcp_datagram_max_size</tt></a></p>
</li>

<li>
<p><a
href="../Config/transportlbt-ipcoperationoptions.html#CONTEXTTRANSPORTLBTIPCDATAGRAMMAXSIZE"
 target="doccontent"><tt class="LITERAL">transport_lbtipc_datagram_max_size</tt></a></p>
</li>

<li>
<p><a
href="../Config/transportlbt-rdmaoperationoptions.html#CONTEXTTRANSPORTLBTRDMADATAGRAMMAXSIZE"
 target="doccontent"><tt class="LITERAL">transport_lbtrdma_datagram_max_size</tt></a></p>
</li>
</ul>

The minimum size is 500 bytes for all datagram size options including <a
href="../Config/resolveroperationoptions.html#CONTEXTRESOLVERDATAGRAMMAXSIZE"
target="doccontent"><tt class="LITERAL">resolver_datagram_max_size</tt></a>. <br />
<br />
</li>

<li>
<p>Added the ability to continually report statistics based on a saved search term, such
as <tt class="LITERAL">transport ID</tt> to the example application, <b
class="APPLICATION">lbmmoncache.c</b>. Also updated the example applications, <b
class="APPLICATION">lbmmoncache.c</b> and <b class="APPLICATION">lbmmon.c</b> to accept
the <tt class="LITERAL">-c config</tt> argument. Also added <code
class="FUNCTION">lbm_context_topic_resolution_request()</code> to <b
class="APPLICATION">lbmmoncache.c</b> to help resolve any quiescent topics.</p>
</li>

<li>
<p>Updated event processing to prevent short timers, or a large number of timers expiring
at the same time from starving network processing. Network processing is now interspersed
with timer expirations under such conditions.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.1-FIXES" name="LBM4.1-FIXES">32.1.3. Bug Fixes</a></h4>

<ul>
<li>
<p>Corrected an incompatibility problem between <b class="APPLICATION">LBM</b> 4.0 and
pre-4.0 versions. When running <b class="APPLICATION">LBM</b> 4.0, any pre4.0 receivers
were unable to discover multiple sources of the same topic. 4.0 receivers were able to
discover all sources sending on the same topic. <b class="APPLICATION">LBM</b> 4.1
resolves this problem so all receivers discover all sources sending on the same
topic.</p>
</li>

<li>
<p>Corrected a condition where a particular sequence of <tt
class="LITERAL">lbm_src_topic_alloc</tt>, <tt class="LITERAL">lbm_src_delete</tt>, and
<tt class="LITERAL">lbm_src_create</tt> API calls would result in a fatal assertion.</p>
</li>

<li>
<p>Corrected a condition that caused a seg fault when using LBT-IPC to send large,
fragmented messages (approximately over 65,000 bytes) and <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> was set to 0 (zero).</p>
</li>

<li>
<p>Corrected a problem that caused spurious context source wakeup events to be delivered
for Unicast Immediate Messaging (UIM) when the immediate messaging had never actually
been blocked.</p>
</li>

<li>
<p>Corrected a problem that sometimes resulted in a seg fault if you delete a source
immediately after sending a message. The seg fault occurred when <b
class="APPLICATION">LBM</b> flushed the messages for that source out of the batch.</p>
</li>

<li>
<p>Changed <code class="FUNCTION">lbm_context_topic_resolution_request()</code> to
implement 0 (zero) for the <tt class="LITERAL">duration_sec</tt> parameter which results
in only one request sent.</p>
</li>

<li>
<p>Changed the handling of arrival order and arrival order reassembly to expire records
about lost packets under some conditions. This change rectifies cases where the last set
of lost packets on a stream would not be reported as unrecoverably lost before the loss
disappeared. With arrival order reassembly, unrecoverable loss was rarely reported.</p>
</li>

<li>
<p>Fixed some issues with Java context statistics methods that could result in invalid
memory being accessed.</p>
</li>

<li>
<p>Fixed an issue where calling the <tt
class="LITERAL">LBMContext.getReceiverStatistics()</tt> could cause an access
violation.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.1-KNOWNISSUES" name="LBM4.1-KNOWNISSUES">32.1.4. Known
Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. 29West is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">LBM</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.1" name="UME3.1">32.2. UME 3.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.1-UPDATES" name="UME3.1-UPDATES">32.2.1. Updated
Features</a></h4>

<ul>
<li>
<p>Updated the <tt class="LITERAL">umestored</tt> &lt;interface&#62; attribute of a
&lt;store&#62; or &lt;queue&#62; element to use CIDR notation, i.e., 10.29.3.0/24.</p>
</li>

<li>
<p>Both <b class="APPLICATION">UME</b> and <b class="APPLICATION">UMQ</b> now deliver the
<tt class="LITERAL">Registration Complete</tt> source event every time a quorum is
established instead of only once. More than one event delivery indicates quorum was lost
and re-established.</p>
</li>

<li>
<p>Implemented an internal function to offload all non-critical log messages to a
separate thread to avoid blocking I/O on critical threads inside the <tt
class="LITERAL">umestored</tt> and <tt class="LITERAL">umestoreds</tt> daemons.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1-FIXES" name="UME3.1-FIXES">32.2.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that caused a <b class="APPLICATION">UME</b> source to erroneously
register with one more configured store than needed after a failover when using
quorum/consensus and the number of stores configured in the group is greater than the
configured group size.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.1-KNOWNISSUES" name="UME3.1-KNOWNISSUES">32.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ1.1" name="UMQ1.1">32.3. UMQ 1.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ1.1-NEW" name="UMQ1.1-NEW">32.3.1. New Features</a></h4>

<ul>
<li>
<p>Added a new feature called Ultra Load Balancing (ULB) that provides Once And Only Once
(OAOO) delivery to receiving applications, but without a queue. The lack of a queue or
broker in the message path adds ultra low latency to the load balancing abilities of this
<b class="APPLICATION">UMQ</b> feature. Sources perform message assignment, delivery is
receiver-paced and messages are not persisted. For more, see <a href="../UME/index.html"
target="doccontent">The Ultra Messaging, Queuing Edition User Guide</a>.</p>
</li>

<li>
<p><b class="APPLICATION">UMQ</b> now supports messages with user-supplied, chained
application headers.</p>
</li>

<li>
<p>Added support for user-defined message headers, called <b
class="APPLICATION">application headers</b>, to the C and Java APIs. Application headers
are optional and reside outside the normal message payload.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UMQ1.1-FIXES" name="UMQ1.1-FIXES">32.3.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Corrected a condition that caused the Unicast Topic Resolver (<tt
class="LITERAL">lbmrd</tt>) to segfault when processing <b class="APPLICATION">UMQ</b>
store advertisements.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.0.1" name="SECLBM4.0.1">33. Release LBM 4.0.1 - June
2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.0.1" name="LBM4.0.1">33.1. LBM 4.0.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.0.1-FIXES" name="LBM4.0.1-FIXES">33.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p></p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6.6-UME3.0.1" name="SECLBM3.6.6-UME3.0.1">34. Release
LBM 3.6.6 / UME 3.0.1 - August 2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6.6" name="LBM3.6.6">34.1. LBM 3.6.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.6.6-FIXES" name="LBM3.6.6-FIXES">34.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Updated datagram transports to allocate buffers based on <a
href="../Config/majoroptions.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE" target="doccontent"><tt
class="LITERAL">transport_datagram_max_size</tt></a> instead of the maximum size of 65535
bytes. This reduces the memory footprint of processes when <a
href="../Config/majoroptions.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE" target="doccontent"><tt
class="LITERAL">transport_datagram_max_size</tt></a> is set less than the maximum
(65535), such as the default of 8192. Note that sources and receivers that communicate in
a system should now be configured with identical <a
href="../Config/majoroptions.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE" target="doccontent"><tt
class="LITERAL">transport_datagram_max_size</tt></a> settings.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6.5" name="SECLBM3.6.5">35. Release LBM 3.6.5 - May
2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6.5" name="LBM3.6.5">35.1. LBM 3.6.5</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.6.5-FIXES" name="LBM3.6.5-FIXES">35.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue that caused Adaptive Batching to always send messages immediately
during periods of high volume, instead of the expected behavior of batching messages
during high volume.</p>
</li>

<li>
<p>Fixed an issue that caused unicast immediate messages sent from a Java application to
return a fatal assert.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM4.0" name="SECLBM4.0">36. Release LBM 4.0 - May
2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM4.0" name="LBM4.0">36.1. LBM 4.0</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM4.0-NEW" name="LBM4.0-NEW">36.1.1. New Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">LBM</b> now supports Datagram Bypass Layer (DBL) transport
acceleration in conjunction with DBL-enabled <a href="http://www.myri.com"
target="doccontent"><span class="TRADEMARK">Myricom</span>&reg;</a> 10-Gigabit Ethernet NICs
for Linux and <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span>. DBL is a kernel-bypass technology that accelerates
sending and receiving UDP traffic. See <a
href="../Config/transportaccelerationoptions.html" target="doccontent">Transport Acceleration
Options</a> for more information. <b class="APPLICATION">Note:</b> The initial valid
version of the <span class="TRADEMARK">Myricom</span> DBL shared library is Version
0.4.8. Do not download any version prior to this version.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.0-UPDATES" name="LBM4.0-UPDATES">36.1.2. Updated
Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">29West</b> topic resolution has been enhanced to provide more
flexibility. Three phases have been implemented.</p>

<ul>
<li>
<p>Initial Phase - Period that allows you to resolve a topic aggressively. Can be used to
resolve all known topics before message sending begins. This phase can be configured to
run differently from the defaults or completely disabled.</p>
</li>

<li>
<p>Sustaining Phase - Period that allows new receivers to resolve a topic after the
Initial Phase. This phase is most like the existing topic resolution and can also be the
primary period of topic resolution if you disable the Initial Phase. It can also be
configured to run differently from the defaults or completely disabled.</p>
</li>

<li>
<p>Quiescent Phase - The "steady state" period during which a topic is resolved and <b
class="APPLICATION">LBM</b> uses no system resources for topic resolution.</p>
</li>
</ul>

See <a href="../Design/architecture.html#TOPIC-RESOLUTION" target="doccontent">Topic
Resolution</a> for more information. <br />
<br />
</li>

<li>
<p>Two changes have been made to the LBT-IPC transport.</p>

<ul>
<li>
<p>Receiver pacing has been added to the LBT-IPC transport. When the IPC shared memory
area is full, sources either block or return an error (EWOULDBLOCK). You configure source
or receiver pacing with <a
href="../Config/transportlbt-ipcoperationoptions.html#RECEIVERTRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a>.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now monitors receiver "health". If a receiver goes
away, the source receives a disconnect event the next time the sending application sends
a message. As a result, the LBT-IPC Shared Memory Layout now has a lock-free design and
the configuration options, <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCCLIENTACTIVITYTIMEOUT"
 target="doccontent"><tt class="LITERAL">transport_lbtipc_client_activity_timeout</tt></a> and
<a
href="../Config/transportlbt-ipcoperationoptions.html#RECEIVERTRANSPORTLBTIPCACKNOWLEDGEMENTINTERVAL"
 target="doccontent"><tt class="LITERAL">transport_lbtipc_acknowledgement_interval</tt></a>
have been deprecated.</p>
</li>
</ul>

See <a href="../Design/lbm-objects.html#TRANSPORT-LBT-IPC" target="doccontent">Transport
LBT-IPC</a> for more information. <br />
<br />
</li>

<li>
<p>In the <b class="APPLICATION">C API</b>, the previously deprecated functions have been
removed.</p>

<pre class="SCREEN">
lbm_context_attr_init()
lbm_event_queue_attr_init()
lbm_rcv_topic_attr_init()
lbm_src_topic_attr_init()
lbm_wildcard_rcv_attr_init()
lbm_context_attr_cleanup()
lbm_event_queue_attr_cleanup()
lbm_rcv_topic_attr_cleanup()
lbm_src_topic_attr_cleanup()
lbm_wildcard_topic_attr_cleanup()
                    
</pre>

<br />
<br />
</li>

<li>
<p>In the <b class="APPLICATION">Java API</b>, the previously deprecated JAVA APIs have
been removed.</p>

<pre class="SCREEN">
LBMSource:
LBMSource(LBMContext lbmctx, LBMTopic lbmtopic, LBMSourceCallback cb, Object cbArg)
LBMSource(LBMContext lbmctx, LBMTopic lbmtopic, LBMSourceCallback cb, Object cbArg, 
             LBMEventQueue lbmevq)
addSourceCallback(LBMSourceCallback cb)
addSourceCallback(LBMSourceCallback cb, Object cbArg)
removeSourceCallback(LBMSourceCallback cb)
removeSourceCallback(LBMSourceCallback cb, Object cbArg)
onSourceEvent(int event, byte [] eventData)
send(byte [] data, int dataLength, LBMResponseCallback cb, LBMEventQueue lbmevq, int flags)
send(byte [] data, int dataLength, LBMResponseCallback cb, int flags)

LBMContext:
setCallback(LBMImmediateMessageCallback cb, Object cbArg)
setCallback(LBMImmediateMessageCallback cb, Object cbArg, LBMEventQueue lbmevq)
createSource(LBMTopic lbmtopic, LBMSourceCallback cb, Object cbArg)
createSource(LBMTopic lbmtopic, LBMSourceCallback cb, Object cbArg, LBMEventQueue lbmevq)

LBMContextAttributes:
setSourceNotifyCallback(LBMSourceNotification cb, Object cbArg)

LBMEventQueue:
size()

LBMSourceCallback: (entire interface)
                    
</pre>

The previously deprecated JAVA APIs have been undeprecated. 

<pre class="SCREEN">
LBMEventQueue:
LBMEventQueue(LBMEventQueueCallback cb, Object cbArg)
LBMEventQueue(LBMEventQueueAttributes lbmevqattr, LBMEventQueueCallback cb, Object cbArg)
LBMContext:
send(String target, String topic, byte [] data, int dataLength, LBMResponseCallback cb, 
      Object cbArg, LBMEventQueue lbmevq, int flags)
send(String target, String topic, byte [] data, int dataLength, LBMResponseCallback cb, 
      Object cbArg, int flags)
send(String topic, byte [] data, int dataLength, LBMResponseCallback cb, Object cbArg, 
      LBMEventQueue lbmevq, int flags)
send(String topic, byte [] data, int dataLength, LBMResponseCallback cb, Object cbArg, int flags)
createReceiver(LBMTopic lbmtopic, LBMReceiverCallback cb, Object cbArg)
createReceiver(LBMTopic lbmtopic, LBMReceiverCallback cb, Object cbArg, LBMEventQueue lbmevq)
                    
</pre>

The following JAVA APIs have been deprecated. A null pointer check has also been added to
<code class="FUNCTION">LBMEventQueue.addMonitor()</code>. 

<pre class="SCREEN">
LBMEventQueue.propertySize()
LBMContext:
createReceiver(LBMTopic lbmtopic)
createReceiver(LBMTopic lbmtopic, LBMEventQueue lbmevq)
createHotFailoverReceiver(LBMTopic lbmtopic, LBMEventQueue lbmevq)
createHotFailoverReceiver(LBMTopic lbmtopic)
                    
</pre>

The following JAVA APIs have been changed from public to protected. 

<pre class="SCREEN">
LBMReceiver(LBMContext lbmctx, LBMTopic lbmtopic)
LBMReceiver(LBMContext lbmctx, LBMTopic lbmtopic, LBMEventQueue lbmevq)
LBMReceiverBase(LBMContext lbmctx, LBMReceiverAttributes lbmrcvattr, LBMEventQueue lbmevq)
LBMReceiverBase(LBMContext lbmctx, LBMReceiverAttributes lbmrcvattr)
LBMHotFailoverReceiver(LBMContext lbmctx, LBMTopic lbmtopic)
LBMHotFailoverReceiver(LBMContext lbmctx, LBMTopic lbmtopic, LBMEventQueue lbmevq)
                    
</pre>

<br />
<br />
</li>

<li>
<p>In the <b class="APPLICATION">.NET API</b>, the previously deprecated .NET APIs have
been removed.</p>

<pre class="SCREEN">
LBMSource:
addSourceCallback(LBMSourceCallback cb)
addSourceCallback(LBMSourceCallback cb, object cbArg)
removeSourceCallback(LBMSourceCallback cb)
removeSourceCallback(LBMSourceCallback cb, object cbArg)
LBMSource(LBMContext lbmctx, LBMTopic lbmtopic, LBMSourceCallback cb, object cbArg)
LBMSource(LBMContext lbmctx, LBMTopic lbmtopic, LBMSourceCallback cb, object cbArg, 
             LBMEventQueue lbmevq)
delegate void LBMSourceCallback(object cbArg, int evtype, byte[] eventData)

LBMContext:
createSource(LBMTopic lbmtopic, LBMSourceCallback cb, object cbArg)
createSource(LBMTopic lbmtopic, LBMSourceCallback cb, object cbArg, LBMEventQueue lbmevq)

LBMContextAttributes:
setSourceNotifyCallback(LBMSourceNotification cb, object cbArg)
                    
</pre>

The following .NET APIs have been deprecated. 

<pre class="SCREEN">
LBMContext:
createReceiver(LBMTopic lbmtopic)
createReceiver(LBMTopic lbmtopic, LBMEventQueue lbmevq)
createHotFailoverReceiver(LBMTopic lbmtopic)
createHotFailoverReceiver(LBMTopic lbmtopic, LBMEventQueue lbmevq)
                    
</pre>

The following .NET APIs have been changed from public to protected. 

<pre class="SCREEN">
LBMReceiver(LBMContext lbmctx, LBMTopic lbmtopic)
LBMReceiver(LBMContext lbmctx, LBMTopic lbmtopic, LBMEventQueue lbmevq)
LBMHotFailoverReceiver(LBMContext lbmctx, LBMTopic lbmtopic)
LBMHotFailoverReceiver(LBMContext lbmctx, LBMTopic lbmtopic, LBMEventQueue lbmevq)
                       
</pre>

<br />
<br />
</li>

<li>
<p>Added <tt class="LITERAL">const</tt> qualifier to <tt class="LITERAL">optval</tt>
parameters of all <tt class="LITERAL">lbm_*_attr_setopt()</tt> API functions. Added <tt
class="LITERAL">const</tt> qualifier to attributes pointer parameters of functions used
to create <b class="APPLICATION">LBM</b> objects such as <tt
class="LITERAL">lbm_context_create()</tt>, <tt class="LITERAL">lbm_src_create()</tt>, <tt
class="LITERAL">lbm_rcv_create()</tt>, etc.</p>
</li>

<li>
<p><b class="APPLICATION">Configuration Change Required for LBM 3.5.3 / UME 2.2.4 or
earlier:</b> Added the Configuration Option, <a
href="../Config/resolveroperationoptions.html#CONTEXTDISABLEEXTENDEDTOPICRESOLUTIONMESSAGEOPTIONS"
 target="doccontent"><tt
class="LITERAL">disable_extended_topic_resolution_message_options</tt></a>, for backward
compatibility. If you use <b class="APPLICATION">LBM</b> 3.5.3 / <b
class="APPLICATION">UME</b> 2.2.4 or less, you should set this option to "1" to disable
the internal topic resolution message options. Not disabling these message options
produces warnings and deaf receivers. No action is required for <b
class="APPLICATION">LBM</b> 3.6 / <b class="APPLICATION">UME</b> 3.0 and later.</p>
</li>

<li>
<p>Added the Configuration Options, <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTMIMDELIVERYCONTROLACTIVITYCHECKINTERVAL"
 target="doccontent"><tt class="LITERAL">mim_delivery_control_activity_check_interval</tt></a>
and <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTMIMDELIVERYCONTROLACTIVITYTIMEOUT"
 target="doccontent"><tt class="LITERAL">mim_delivery_control_activity_timeout</tt></a> to
check for duplicate MIM messages forwarded through multiple Gateways.</p>
</li>

<li>
<p>Added a new statistic in <a
href="../API/structlbm__rcv__transport__stats__lbtrm__t__stct.html" target="doccontent"><tt
class="LITERAL">lbm_rcv_transport_stats_lbtrm_t</tt></a> structure for datagrams received
out of order. The new statistic is available to the <a href="../API/index.html"
target="doccontent">C API</a>, the <a href="../JavaAPI/html/index.html" target="doccontent">Java
API</a> and the <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>. The
statistic has also been added to the <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span></b> <b class="APPLICATION">MIB</b> and the InterMapper probe files. In
addition, all example applications support the statistic.</p>
</li>

<li>
<p>Blocking sends from within a context-thread callback are no longer permitted and now
return an LBM_EINVAL error. This restriction eliminates a possible deadlock. Non-blocking
sends from a context-thread callback are still permitted, and any type of send is
permitted outside a context-thread callback.</p>
</li>

<li>
<p>Some API calls that were formerly never safe to call from within a context-thread
callback (due to a deadlock condition) are now always safe to call from within a
context-thread callback. These API calls include:</p>

<ul>
<li>
<p><tt class="LITERAL">lbm_request_delete()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_request_delete_ex()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_response_delete()</tt></p>
</li>
</ul>

<p>Additionally, the following send-related API calls are now safe to call from within a
context-thread callback provided you set the LBM_SRC_NONBLOCK flag.</p>

<ul>
<li>
<p><tt class="LITERAL">lbm_multicast_immediate_message()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_multicast_immediate_request()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_unicast_immediate_message()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_unicast_immediate_request()</tt></p>
</li>

<li>
<p><tt class="LITERAL">lbm_send_response()</tt></p>
</li>
</ul>
</li>

<li>
<p>Added ability to set a <b class="APPLICATION">LBM</b> Configuration Option interface
by name. When setting by name the configuration option's value must be wrapped in
quotes.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.0-FIXES" name="LBM4.0-FIXES">36.1.3. Bug Fixes</a></h4>

<ul>
<li>
<p>Corrected the installation of 64 bit <b class="APPLICATION">LBM</b> packages. <b
class="APPLICATION">LBM</b> now installs into <tt class="LITERAL">C:\Program Files</tt>
instead of <tt class="LITERAL">C:\Program Files (x86)</tt>.</p>
</li>

<li>
<p>All include files now reference other include files using <tt
class="LITERAL">lbm/...</tt>. This allows your application Makefiles to specify just the
parent directory, e.g. <tt class="LITERAL">/usr/include</tt>. You can copy the <tt
class="LITERAL">include/lbm</tt> directory as a whole to your common or system include
directory.</p>
</li>

<li>
<p>Added a warning "Data received but no callback registered" when data is received and
no callbacks are registered in the Java and .NET APIs.</p>
</li>

<li>
<p>Fixed a bug that occurred when using <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> IO Completion Ports that could cause a context's <tt
class="LITERAL">request_tcp_port</tt> to become permanently unresponsive to incoming TCP
connection requests. This condition manifests itself in many ways, such as an inability
to participate in <b class="APPLICATION">LBM</b> Request/Response, Late Join, or an
inability to receive Unicast Immediate Messages. This condition occurs if the listening
TCP socket created by <b class="APPLICATION">LBM</b> (e.g. by multiple incoming responses
or UIMs) receives multiple TCP connection requests. See also <a href="#UME2.2.3"><i>UME
2.2.3</i></a>.</p>
</li>

<li>
<p>Changed type of <a href="../Config/eventqueueoptions.html#EVENTQUEUEQUEUESIZEWARNING"
target="doccontent"><tt class="LITERAL">queue_size_warning</tt></a> from <tt
class="LITERAL">unsigned long</tt> to <tt class="LITERAL">size_t</tt>.</p>
</li>

<li>
<p>Fixed an issue where uninitialized fields in an <tt class="LITERAL">lbm_msg_t</tt>
passed a bad pointer to application code. This could sometimes result in exceptions in
.NET and Java. The fields in question were only uninitialized in unrecoverable loss
messages larger than the <a
href="../Config/eventqueueoptions.html#EVENTQUEUEQUEUESIZEWARNING" target="doccontent"><tt
class="LITERAL">transport_datagram_max_size</tt></a> and delivered from hot failover
receivers or immediate messages. This issue was introduced in <b
class="APPLICATION">LBM</b> 3.6.</p>
</li>

<li>
<p>Added the option, <a
href="../Config/resolveroperationoptions.html#CONTEXTRESOLVERUNICASTFORCEALIVE"
target="doccontent"><tt class="LITERAL">resolver_unicast_force_alive</tt></a>, which allows an
LBM Gateway to begin sending keepalive messages to a Unicast Topic Resolution daemon (<tt
class="LITERAL">lbmrd</tt>). The <tt class="LITERAL">lbmrd</tt> can then begin sending
topic resolution traffic to the LBM Gateway.</p>
</li>

<li>
<p>Fixed an issue that caused unicast immediate messages sent from a Java application to
return a fatal assert.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM4.0-KNOWNISSUES" name="LBM4.0-KNOWNISSUES">36.1.4. Known
Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>When using LBT-IPC, a seg fault can occur when sending messages larger than 65,535
bytes when <a href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY"
target="doccontent"><tt class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero). The
seg fault occurs when fragments are lost. Setting <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt> avoids the seg fault by eliminating loss. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6.3-UME3.0.1-UMQ1.0"
name="SECLBM3.6.3-UME3.0.1-UMQ1.0">37. Release LBM 3.6.3 / UME 3.0.1 / UMQ 1.0 - April
2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6.3" name="LBM3.6.3">37.1. LBM 3.6.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.6.3-FIXES" name="LBM3.6.3-FIXES">37.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue that resulted in <b class="APPLICATION">LBM</b> sending additional
topic queries and delivering erroneous NO_SOURCE_NOTIFICATION if an application created
multiple receivers on a single topic in a short period of time.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.0.1" name="UME3.0.1">37.2. UME 3.0.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.0.1-FIXES" name="UME3.0.1-FIXES">37.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected the installation of 64 bit <b class="APPLICATION">UME</b> packages. <b
class="APPLICATION">UME</b> now installs into <tt class="LITERAL">C:\Program Files</tt>
instead of <tt class="LITERAL">C:\Program Files (x86)</tt>.</p>
</li>

<li>
<p>Fixed an issue that prevented the creation of proxy sources when using multiple store
groups. This issue was indicated by the error message, <tt class="LITERAL">[ERROR] store
"&lt;store name&#62;" topic "&lt;topic name&#62;" Proxy creation failed to set
ume_store_group, optlen incorrect size</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.0.1-KNOWNISSUES" name="UME3.0.1-KNOWNISSUES">37.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UMQ1.0" name="UMQ1.0">37.3. UMQ 1.0</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UMQ1.0-KNOWNISSUES" name="UMQ1.0-KNOWNISSUES">37.3.1. Known
Issues</a></h4>

<p>Release 1.0 of <b class="APPLICATION">UMQ</b> has no known issues.</p>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6.2-UME3.0" name="SECLBM3.6.2-UME3.0">38. Release LBM
3.6.2 / UME 3.0 - February 2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6.2" name="LBM3.6.2">38.1. LBM 3.6.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.6.2-FIXES" name="LBM3.6.2-FIXES">38.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem in Java and .NET that produced an exception when uninitialized fields
in an <tt class="LITERAL">lbm_msg_t</tt> caused a bad pointer to be passed to your
application code. The fields in question were only uninitialized in messages of
unrecoverable loss that were delivered from hot failover receivers or immediate messages
larger than the <a href="../Config/config.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE"
target="doccontent"><tt class="LITERAL">transport_datagram_max_size</tt></a> setting. This
issue was introduced in LBM 3.6.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.0" name="UME3.0">38.2. UME 3.0</a></h3>

<p>See also <a href="#LBM3.6.1"><i>LBM 3.6.1</i></a>.</p>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.0-NEW" name="UME3.0-NEW">38.2.1. New Features</a></h4>

<ul>
<li>
<p>Added the <b class="APPLICATION">Proxy Source</b> feature that allows you to configure
stores to automatically assume sending activity for a source or sources that cease
operation. After the source returns, the store automatically stops acting as a proxy
source. The main benefit of a Proxy Source is the continuation of source's topic
advertisements which contain store information used by new receivers. Without the store
Reg ID, address and TCP port contained in the source's Topic Information Records (TIR),
new receivers cannot register with the store or request retransmissions. Proxy Source
requires a Quorum/Consensus store configuration. See <a
href="../UME/ume-fault-tolerance.html#PROXYSOURCES" target="doccontent">Proxy Sources</a> for
more information.</p>
</li>

<li>
<p>Added large file support to the UME store on 32-bit and 64-bit Windows, and 64-bit
Linux and Solaris platforms. The maximum size of individual disk cache files (controlled
by the "repository-disk-file-size-limit" store configuration option) can now exceed
4GB.</p>
</li>

<li>
<p>To reduce disk fragmentation, the UME store can now optionally pre-allocate disk cache
files at source registration time. To enable disk file pre-allocation, set the new <tt
class="LITERAL">repository-disk-file-preallocate</tt> store configuration option. See <a
href="../UME/umestored-config.html" target="doccontent">Configuration Reference for
Umestored</a> for more information.</p>
</li>

<li>
<p>Added the ability to batch stability acknowledgments sent to sources from the UME
store. In some cases -- especially with a memory store -- this feature can increase
overall throughput, at the cost of a small delay between the time a message is actually
stable at the store and the time the source is informed of message stability. Stability
ACK batching behavior can be controlled via two new UME store topic configuration
options, <tt class="LITERAL">stability-ack-minimum-number</tt> and <tt
class="LITERAL">stability-ack-interval</tt>. Please see <a
href="../UME/umestored-config.html" target="doccontent">Configuration Reference for
Umestored</a> for a description of the new options.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.0-FIXES" name="UME3.0-FIXES">38.2.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Improved the ability of a Store in a Quorum/Consensus group to handle large amounts of
loss. Previously, if a Store suspended operation and a source continued sending while the
Store was down, the Store would perpetually handle loss after resuming operation with a
high CPU consumption. The Store now processes loss messages more efficiently.</p>
</li>

<li>
<p>Fixed a bug that could cause a UME store to consume a lot of CPU at startup during a
period of initially heavy loss.</p>
</li>

<li>
<p>Fixed a bug that could cause a UME store to crash at startup if using a configuration
file containing unknown options.</p>
</li>

<li>
<p>Fixed handling of "connection timedout" socket errors for Linux to <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> TCP
connections. These errors occurred on a Linux <tt class="LITERAL">umestored</tt> process
after a <span class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span>
<b class="APPLICATION">UME</b> source or receiver was terminated.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.0-KNOWNISSUES" name="UME3.0-KNOWNISSUES">38.2.3. Known
Issues</a></h4>

<ul>
<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UME</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. 29West is working
on a solution to this problem.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6.1" name="SECLBM3.6.1">39. Release LBM 3.6.1 -
February 2010</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6.1" name="LBM3.6.1">39.1. LBM 3.6.1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.6.1-NEW" name="LBM3.6.1-NEW">39.1.1. New
Features</a></h4>

<ul>
<li>
<p>Changed the naming of <tt class="LITERAL">lbmmon</tt> statistics to refer to datagrams
rather than messages. For example, the LBT-RM transport receiver statistic for <b
class="APPLICATION">bytes received</b> is now labeled, <b class="APPLICATION">datagram
bytes received</b> because the statistic includes datagram overhead bytes in addition to
application message bytes.</p>
</li>

<li>
<p>Implemented backward compatibility for LBMMON statistics packets for <b
class="APPLICATION">LBM</b> Version 3.6.1 and later by enhancing LBMMON internal message
processing. Backward statistics compatibility does not apply to prior <b
class="APPLICATION">LBM</b> versions.</p>
</li>

<li>
<p>Added support for multiple outstanding asynchronous AcceptEx calls when using <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> IO completion
ports. This allows multiple incoming connections to be serviced more quickly when using
completion ports. The number of outstanding AcceptEx calls can be controlled by the <a
href="../Config/transporttcpoperationoptions.html#SOURCETRANSPORTTCPLISTENBACKLOG"
target="doccontent"><tt class="LITERAL">transport_tcp_listen_backlog</tt></a> and <a
href="../Config/requestoperationoptions.html#CONTEXTREQUESTTCPLISTENBACKLOG"
target="doccontent"><tt class="LITERAL">request_tcp_listen_backlog</tt></a> configuration
options.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now logs the originating IP and port number of all
non-LBM packets received.</p>
</li>

<li>
<p>Changed the previously internal message <tt class="LITERAL">timestamp</tt> field to a
public field in the <a href="../API/structlbm__msg__t__stct.html" target="doccontent"><tt
class="LITERAL">lbm_msg_t</tt></a> structure. Also added the <tt
class="LITERAL">timestampSeconds()</tt> and <tt
class="LITERAL">timestampMicroseconds()</tt> methods to .NET and Java LBMMessage
classes.</p>
</li>

<li>
<p>Added the following methods to the Java API and the .NET API.</p>

<ul>
<li>
<p><tt class="LITERAL">LBMContext sendc(char [] target, char [] topicname, byte [] data,
int datalen, int flags)</tt> for sending unicast immediate messages where both <tt
class="LITERAL">target</tt> and <tt class="LITERAL">topicname</tt> are character
arrays.</p>
</li>

<li>
<p><tt class="LITERAL">LBMContext sendc(char [] topicname, byte data, int datalen, int
flags)</tt> for sending multicast immediate messages where the <tt
class="LITERAL">topicname</tt> is a character array.</p>
</li>

<li>
<p><tt class="LITERAL">LBMContext sendTopicless(byte [] data, int datalen, int
flags)</tt> for sending topicless multicast immediate messages.</p>
</li>

<li>
<p><tt class="LITERAL">LBMContext sendTopicless(String target, byte [] data, int datalen,
int flags)</tt> for sending topicless unicast messages using a string as the target.</p>
</li>

<li>
<p><tt class="LITERAL">LBMContext sendTopicless(char [] target, byte [] data, int
datalen, int flags)</tt> for sending topicless unicast messages using a <tt
class="LITERAL">char []</tt> as the target.</p>
</li>

<li>
<p><tt class="LITERAL">LBMMessage char [] sourceAsCharArray()</tt> for returning the
source of a message as a character array.</p>
</li>

<li>
<p><tt class="LITERAL">LBMMessage char [] topicNameAsCharArray()</tt> for returning the
<tt class="LITERAL">topicname</tt> of a message as a character array.</p>
</li>

<li>
<p><tt class="LITERAL">LBMMessage char [] originalSourceAsCharArray()</tt> for returning
the original source (if message was from LBM Gateway) as a character array.</p>
</li>
</ul>

<br />
<br />
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6.1-FIXES" name="LBM3.6.1-FIXES">39.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with fragmented MIM messages sent to a topic and received by a
receiver configured for Arrival Order ( <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTMIMORDEREDDELIVERY"
 target="doccontent"><tt class="LITERAL">mim_ordered_delivery</tt></a> = 0). The MIM message
fragments were not properly delivered to the topic receiver.</p>
</li>

<li>
<p>Clarification: In the <tt class="LITERAL">toString</tt> method for the Java and .Net
<tt class="LITERAL">LBMSDMRawTimestamp</tt> object, the value returned by <tt
class="LITERAL">LBMSDMRawTimestamp</tt> is not intended to be a floating point
representation of the time. The value is simply formatted as <tt
class="LITERAL">seconds.microseconds</tt>.</p>
</li>

<li>
<p>Added support on HP-UX for the EAGAIN error during message sends by treating it as an
EWOULDBLOCK.</p>
</li>

<li>
<p>Corrected a problem with the LBM Gateway that caused the LBM Gateway to assert after
receiving a <tt class="LITERAL">topic leave message</tt> from a receiver shutting down
normally. Now the LBM Gateway does not assert or deadlock on normal receiver
shutdowns.</p>
</li>

<li>
<p>Corrected a problem with how the length passed to <tt
class="LITERAL">lbm_transport_source_parse()</tt> and <tt
class="LITERAL">lbm_transport_source_format()</tt> was interpreted. The incorrect
interpretation caused these functions to return an error.</p>
</li>

<li>
<p>Corrected an output labeling problem with <tt class="LITERAL">lbmmon.cs</tt> and <tt
class="LITERAL">lbmmon.java</tt>. LBT-RM receiver datagram statistics were displayed as
LBT-RU statistics.</p>
</li>

<li>
<p>Corrected errors in the <tt class="LITERAL">source string</tt> of the <a
href="../API/structlbm__src__transport__stats__lbtru__t__stct.html" target="doccontent"><tt
class="LITERAL">lbm_src_transport_stats_lbtru_t</tt></a> structure. Statistics were
reported correctly, but the source was not properly identified. This error has also been
observed and corrected for Immediate Messaging source statistics.</p>
</li>

<li>
<p>Corrected a problem with the LBMMON API the resulted in several fields in the LBT-RM
and LBT-RU receiver statistics to be handled improperly.</p>
</li>

<li>
<p>The <a href="../API/lbmaux_8h.html" target="doccontent"><tt class="LITERAL">lbmaux library
APIs</tt></a> for loading attributes directly from <b class="APPLICATION">29West</b>
Configuration Files was updated to use common code with the <b
class="APPLICATION">LBM</b> library. This resolves a problem where some configuration
options were not parsed correctly in <a href="../API/lbmaux_8h.html" target="doccontent"><tt
class="LITERAL">lbmaux library APIs</tt></a> but parsed correctly in <b
class="APPLICATION">LBM</b>.</p>
</li>

<li>
<p>Fixed a potential deadlock when context creation fails for an embedded mode context
using <span class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span>
Completion Ports.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6.1-KNOWNISSUES" name="LBM3.6.1-KNOWNISSUES">39.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>Shutting down a source-side LBM Gateway with Control-C can cause the Gateway to become
dead locked. <b class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>If a source LBM Gateway was shutdown and then the receiving Gateway was shutdown as
quickly as possible while still carrying traffic, a fatal assert occurs. (<tt
class="LITERAL">MUL_FATAL_ASSERT(Table!=NULL);</tt>) <b class="APPLICATION">29West</b> is
investigating this issue.</p>
</li>

<li>
<p>With <b class="APPLICATION">LBM</b> 3.6 we have seen increased memory utilization in
varying degrees across all platforms. This increase can be mitigated by the use of
SmartHeap. <b class="APPLICATION">29West</b> is working to decrease this memory
utilization.</p>
</li>

<li>
<p>When turning on Automatic Monitoring, be sure that your application does not have any
existing <tt class="LITERAL">lbmmon</tt> monitoring capability active. Using both
Automatic Monitoring and <tt class="LITERAL">lbmmon</tt> functions results in confusion
with internal monitoring fields and pointers. This issue will be addressed in a future
release.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6-UME2.3" name="SECLBM3.6-UME2.3">40. Release LBM 3.6
- December 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6" name="LBM3.6">40.1. LBM 3.6</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.6-NEW" name="LBM3.6-NEW">40.1.1. New Features</a></h4>

<ul>
<li>
<p>Implemented arrival order reassembly when message fragments are received out of
order.</p>
</li>

<li>
<p>Added support for wildcard receivers to the LBM Gateway. See the LBM Gateway
documentation for more information.</p>
</li>

<li>
<p>Added the source configuration option, <a
href="../Config/latejoinoptions.html#SOURCERETRANSMITRETENTIONAGETHRESHOLD"
target="doccontent"><tt class="LITERAL">retransmit_retention_age_threshold</tt></a>, to allow
age-based message reclamation from a source's late join retention buffer.</p>
</li>

<li>
<p>Modified the configuration option, <a
href="../Config/transportlbt-rmnetworkoptions.html#SOURCETRANSPORTLBTRMDESTINATIONPORT"
target="doccontent"><tt class="LITERAL">transport_lbtrm_destination_port</tt></a>, to also
determine when <b class="APPLICATION">LBM</b> should create a unique LBT-RM transport
session. Previously, only the LBT-RM Multicast Address as defined by <a
href="../Config/transportlbt-rmnetworkoptions.html#SOURCETRANSPORTLBTRMMULTICASTADDRESS"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address</tt></a> (source), <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMMULTICASTADDRESSHIGH"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>
(context) and/or <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMMULTICASTADDRESSLOW"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a>
(context) was used to determine unique transport sessions.</p>
</li>

<li>
<p>Increased the maximum value for <a
href="../Config/majoroptions.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE" target="doccontent"><tt
class="LITERAL">transport_datagram_max_size</tt></a> to 65535 bytes. This enables large
messages to be fragmented into larger fragments reducing the number of system calls per
message.</p>
</li>

<li>
<p>Added a LBM Gateway log message that indicates if a user requested a Gateway shutdown
(<tt class="LITERAL">[timestamp] Shutdown event detected. Attempting to
shutdown.</tt>).</p>
</li>

<li>
<p>Added version and package information to the Java <b class="APPLICATION">LBM</b> jar
file. Also added an initialization-time warning if the Java <b
class="APPLICATION">LBM</b> jar file and <tt class="LITERAL">lbmj</tt> native library
versions are not compatible.</p>
</li>

<li>
<p>Added the configuration option, <a
href="../Config/resolveroperationoptions.html#CONTEXTRESOLVERDATAGRAMMAXSIZE"
target="doccontent"><tt class="LITERAL">resolver_datagram_max_size</tt></a> to control the
maximum datagram size that can be generated for topic resolution advertisements and
queries.</p>
</li>

<li>
<p>Enabled the <tt class="LITERAL">callback_events</tt> statistics (See <a
href="#LBM3-6EA1-NEW"><i>LBM 3.6ea1 New Features</i></a>) to be understood by a LBMMON
monitor receiver. Also enabled these statistics in all LBMMON example applications, the
<b class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">MIB</b> and the InterMapper probe files.</p>
</li>

<li>
<p>Modified the <b class="APPLICATION">LBM</b> Topic Structure, returned from <tt
class="LITERAL">lbm_rcv_topic_lookup()</tt> or <tt
class="LITERAL">lbm_src_topic_allocate()</tt>, so that it uses less memory.</p>
</li>

<li>
<p>Replaced certain locks on Solaris Sparc with atomic instructions to increase
performance.</p>
</li>

<li>
<p>Added the ability to change a wildcard receiver's attributes using <tt
class="LITERAL">lbm_wildcard_rcv_attr_setopt()</tt>. The <b
class="APPLICATION">29West</b> Configuration Option, <a
href="../Config/wildcardreceiveroptions.html#WILDCARDRECEIVERRESOLVERQUERYMAXINTERVAL"
target="doccontent"><tt class="LITERAL">resolver_query_max_interval</tt></a> can now be set
during operation.</p>
</li>

<li>
<p>Increased the maximum number of LBM message fragments that can be sent in a single
socket send call from 16 to 1024 for Solaris and AIX. This should provide a significant
throughput increase for small message sizes when batching is enabled.</p>
</li>

<li>
<p>Added the source configuration option, <a
href="../Config/transporttcpoperationoptions.html#SOURCETRANSPORTTCPCOALESCETHRESHOLD"
target="doccontent"><tt class="LITERAL">transport_tcp_coalesce_threshold</tt></a> that
configures the maximum number of <b class="APPLICATION">LBM</b> message fragments sent in
a single socket socket send call without coalescing.</p>
</li>

<li>
<p>Added the environment variable, LBM_CONTEXT_DELAY_WARNING_THRESHOLD, which specifies
in milliseconds a context thread delay threshold. If a context thread is delayed for a
time greater than the threshold, <b class="APPLICATION">LBM</b> logs a warning
message.</p>
</li>

<li>
<p>Corrected a race condition that could occur if a source was sending while another
source was joining or leaving the same transport session.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6-FIXES" name="LBM3.6-FIXES">40.1.2. Bug Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that occurred when using LBM_MSG_COMPLETE_BATCH or LBM_MSG_END_BATCH
flag with <tt class="LITERAL">lbm_src_sendv()</tt>. This combination resulted in an error
return (-1) with the error string "Explicit Batch not started".</p>
</li>

<li>
<p>Corrected a problem with high resolution timers used to perform microsecond
measurements which could cause some Event Queue statistics, such as the <tt
class="LITERAL">age_max</tt> statistic to report huge values. This correction results in
a zero being returned instead of a negative value in the event that an ending timestamp
is earlier than a beginning timestamp.</p>
</li>

<li>
<p>Corrected a problem with using TCP_NODELAY that caused a request response to fail. <b
class="APPLICATION">LBM</b> now sets TCP_NODELAY before the TCP connection call.</p>
</li>

<li>
<p>Corrected a problem with Late Join that caused a delay if a source no longer had a
requested message available in its Late Join retention buffer. The delay no longer
occurs.</p>
</li>

<li>
<p>Corrected a problem with <b class="APPLICATION">LBM</b> Spectrum wildcard receivers
that caused them to crash if they were created with a NULL topic attributes object and <a
href="../Config/deliverycontroloptions.html#RECEIVERUNRECOGNIZEDCHANNELBEHAVIOR"
target="doccontent"><tt class="LITERAL">unrecognized_channel_behavior</tt></a> or <a
href="../Config/deliverycontroloptions.html#RECEIVERNULLCHANNELBEHAVIOR"
target="doccontent"><tt class="LITERAL">null_channel_behavior</tt></a> were set to <tt
class="LITERAL">discard</tt> in a <b class="APPLICATION">29West</b> Configuration File.
This was specified as a <a href="#LBM3.6EA2-KNOWNISSUES"><i>LBM 3.6ea2 Known
Issues</i></a>.</p>
</li>

<li>
<p>Corrected a problem with wildcard receivers in Java that prevented them from being
garbage collected. Global references for the internal <tt
class="LITERAL">onReceiverDelete</tt> callback are now released, allowing garbage
collection of the Java wildcard receivers.</p>
</li>

<li>
<p>Corrected a problem with the <tt class="LITERAL">LBMSDMArray*</tt> classes and the <tt
class="LITERAL">LBMSDMFieldIterator</tt> class in both Java and .NET.</p>
</li>

<li>
<p>Fixed an incorrect pointer reference in the internal Java function that creates a
receiver. This was required because topic attributes have been changed to pointers in <b
class="APPLICATION">LBM</b> 3.6.</p>
</li>

<li>
<p>Fixed a memory leak that could occur when creating a receiver using the Java API
without setting per-source callbacks.</p>
</li>

<li>
<p>Corrected a second memory leak that could occur when creating a receiver using the
Java API without specifying receiver attributes.</p>
</li>

<li>
<p>Modified the configuration options <a
href="../Config/transportlbt-rmoperationoptions.html#SOURCETRANSPORTLBTRMCOALESCETHRESHOLD"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_coalesce_threshold</tt></a> and <a
href="../Config/transportlbt-ruoperationoptions.html#SOURCETRANSPORTLBTRUCOALESCETHRESHOLD"
 target="doccontent"><tt class="LITERAL">transport_lbtru_coalesce_threshold</tt></a> so their
maximum values correspond to platform-specific maximums.</p>
</li>

<li>
<p>Adjusted handling of LBT-RM NAK backoff timers to improve performance in heavy loss
scenarios.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6-KNOWNISSUES" name="LBM3.6-KNOWNISSUES">40.1.3. Known
Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>Shutting down a source-side LBM Gateway with Control-C can cause the Gateway to become
dead locked. <b class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>If a source LBM Gateway was shutdown and then the receiving Gateway was shutdown as
quickly as possible while still carrying traffic, a fatal assert occurs. (<tt
class="LITERAL">MUL_FATAL_ASSERT(Table!=NULL);</tt>) <b class="APPLICATION">29West</b> is
investigating this issue.</p>
</li>

<li>
<p>With <b class="APPLICATION">LBM</b> 3.6 we have seen increased memory utilization in
varying degrees across all platforms. This increase can be mitigated by the use of
SmartHeap. <b class="APPLICATION">29West</b> is working to decrease this memory
utilization.</p>
</li>

<li>
<p>When turning on Automatic Monitoring, be sure that your application does not have any
existing <tt class="LITERAL">lbmmon</tt> monitoring capability active. Using both
Automatic Monitoring and <tt class="LITERAL">lbmmon</tt> functions results in confusion
with internal monitoring fields and pointers. This issue will be addressed in a future
release.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="UME2.2.4" name="UME2.2.4">41. Release UME 2.2.4 - November
2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UME2.2.4-FIXES" name="UME2.2.4-FIXES">41.1. Bug Fix</a></h3>

<ul>
<li>
<p>Fixed a very rare bug that could cause a receiver to register with a <b
class="APPLICATION">UME</b> store using an incorrect Reg ID if registration information
changed in the middle of the receiver's registration attempt.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.5.3-UME2.2.3" name="SECLBM3.5.3-UME2.2.3">42. Release
LBM 3.5.3 / UME 2.2.3 - November 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.5.3" name="LBM3.5.3">42.1. LBM 3.5.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.5.3-FIXES" name="LBM3.5.3-FIXES">42.1.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem that prevented a requestor from receiving responses from a
Multicast Immediate Message request if the <a
href="../Config/requestnetworkoptions.html#CONTEXTREQUESTTCPINTERFACE" target="doccontent"><tt
class="LITERAL">request_tcp_interface</tt></a> differs from the <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTADDRESS"
target="doccontent"><tt class="LITERAL">resolver_multicast_address</tt></a>.</p>
</li>

<li>
<p>Fixed a problem in .NET when using SDM Unicode strings that produced an error similar
to, <tt class="LITERAL">Failed: sdm_unicode_src1 Not enough space in buffer to format
(offset 28 length 30 needed 5)</tt>. The <code class="FUNCTION">format()</code> method
has been changed to encode the Unicode string length before it performs the storage
length check.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.2.3" name="UME2.2.3">42.2. UME 2.2.3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME2.2.3-FIXES" name="UME2.2.3-FIXES">42.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem when recovering old messages from a source or <b
class="APPLICATION">UME</b> Store using Late Join or <b class="APPLICATION">UME</b> that
caused the recovery process to either stop delivering messages to the application or
delay delivery for a long period of time. This disruption would occur if loss occurred on
the live stream during the recovery.</p>
</li>

<li>
<p>Corrected a problem with the <b class="APPLICATION">UME</b> Store when using <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> IO Completion
Ports that rendered the Store unresponsive to incoming client registration requests. This
condition could occur if several clients simultaneously attempted to either register with
the Store or initiate keepalive connections.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6EA2-UME3.0EA2" name="SECLBM3.6EA2-UME3.0EA2">43.
Release LBM 3.6.ea2 / UME 3.0ea2 - September 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6EA2" name="LBM3.6EA2">43.1. LBM 3.6ea2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.6EA2-NEW" name="LBM3.6EA2-NEW">43.1.1. New
Features</a></h4>

<ul>
<li>
<p>Added to the LBM Gateway the ability to configure multiple connection sections. This
permits a receive-side Gateway to fail over when a connection to the source-side Gateway
fails</p>
</li>

<li>
<p>Added support for Spectrum to the Java and .NET APIs.</p>
</li>

<li>
<p>Added the <tt class="LITERAL">&lt;daemon&#62;</tt> section to the <tt
class="LITERAL">lbmrd</tt> XML configuration file. Child elements are <tt
class="LITERAL">&lt;port&#62;</tt>, <tt class="LITERAL">&lt;log&#62;</tt>, <tt
class="LITERAL">&lt;activity&#62;</tt>, <tt class="LITERAL">&lt;interface&#62;</tt>, <tt
class="LITERAL">&lt;ttl&#62;</tt> and <tt
class="LITERAL">&lt;resolver_unicast_receiver_socket_buffer&#62;</tt>. This element can
be used to configure the <tt class="LITERAL">lbmrd</tt> receive buffer size.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6EA2-UPDATES" name="LBM3.6EA2-UPDATES">43.1.2. Updated
Features</a></h4>

<ul>
<li>
<p>Improved performance of all <b class="APPLICATION">29West</b> products on <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> by implementing
new build techniques.</p>
</li>

<li>
<p><span class="TRADEMARK">Microsoft</span> has recently provided a security update for
the C runtime library (msvcr80.dll version: 8.0.50727.4053). In order to avoid potential
issues, <b class="APPLICATION">29West</b> recommends installing the latest
redistributable C runtime library. See <a
href="http://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=766a6af7-ec73-40ff-b072-9112bab119c2"
 target="doccontent">http://www.microsoft.com/downloads/details.aspx?displaylang=en&#38;FamilyID=766a6af7-ec73-40ff-b072-9112bab119c2</a>
for further details.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6EA2-FIXES" name="LBM3.6EA2-FIXES">43.1.3. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with Java that could cause a JVM crash if a thread received a
small response message (less than 8192 bytes) followed by a large response message
(greater than 8192 bytes).</p>
</li>

<li>
<p>Updated the .NET version of <tt class="LITERAL">lbmpong</tt> to be consistent with the
C and Java versions by allowing <tt class="LITERAL">lbmpong</tt> to collect data in
verbose mode, ignore messages at the head of the stream and calculate the standard
deviation, minimum, maximum and average.</p>
</li>

<li>
<p>Corrected a problem that occurred if a <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> application using completion ports ( <a
href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a>) in embedded mode ( <a
href="../Config/majoroptions.html#CONTEXTOPERATIONALMODE" target="doccontent"><tt
class="LITERAL">operational_mode</tt></a>) used a separate thread to create an <b
class="APPLICATION">LBM</b> Context and that thread ended before the <b
class="APPLICATION">LBM</b> Context. For sequential mode, the following warning now
appears: <tt class="LITERAL">lbm_context_process_events: Completion ports warning;
Context creation thread has terminated. Some events may be lost</tt>. In this case, <b
class="APPLICATION">29West</b> recommends that you change your application code to keep
the context-creating thread around for the lifetime of the context.</p>
</li>

<li>
<p>Fixed an issue with SDM Unicode strings in .NET. If a Unicode field was the last field
in a packet, the length check produced an assertion because the check was made during the
unicode string encoding rather than before the encoding. The length check now occurs
prior to string encoding.</p>
</li>

<li>
<p>Added the correct channel flags to Spectrum channel messages.</p>
</li>

<li>
<p>Modified .NET to pull the source string from the string cache during the <tt
class="LITERAL">registration_id_ex</tt> callback.</p>
</li>

<li>
<p>Corrected a problem with <b class="APPLICATION">LBM</b> receivers which resulted in
the receivers containing an incorrect source port for TCP sources.</p>
</li>

<li>
<p>Corrected a problem with the creation of a source for a topic which was hashed to the
same value as another source topic. This condition caused an infinite loop and has been
corrected.</p>
</li>

<li>
<p>Corrected a problem with <tt class="LITERAL">lbmrcv.c</tt>. This application deleted
the receiver before calling <code class="FUNCTION">lbmmon_rcv_unmonitor()</code>. If the
monitoring period expired after the delete but before the unmonitor call, the following
assertion appears: <tt class="LITERAL">LOG Level 1: FATAL: failed assertion
[rcv-&#62;rcv!=NULL] at line 1576 in ../../../../src/lib/lbm/lbmrcv.c</tt>. The receiver
delete now occurs after the <code class="FUNCTION">lbmmon_rcv_unmonitor()</code>.</p>
</li>

<li>
<p>Fixed a <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> synchronization problem which resulted in extreme delays
if a source object used multiple threads for blocking sends.</p>
</li>

<li>
<p>Corrected a problem that could cause a JVM crash if a Java application running in
Embedded Mode delivered certain logging callbacks.</p>
</li>

<li>
<p>Fixed a problem with Late Join that occurred when recovering old messages from a
source. If loss occurred on the live stream during recovery, the source would either stop
or delay the delivery of messages to the application and buffer the messages instead,
causing unbounded memory consumption. In addition, any messages that were delivered could
be delivered out of order.</p>
</li>

<li>
<p>Corrected a memory leak that occurred when creating Java <tt
class="LITERAL">LBMContextStatistics</tt> objects.</p>
</li>

<li>
<p>Corrected a problem with the LBT-IPC transport on <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> that caused
multiple processes that were started in rapid succession to send data to the same shared
memory area. This problem produced the following failed assertion at the receiver: <tt
class="LITERAL">MUL_ASSERT((MUL_SQN_GT(sqn, ctlr-&#62;stream_high_sqn)));</tt></p>
</li>

<li>
<p>Increased an internal NAK timer constant for LBT-RM receivers to improve loss handling
in high-loss cases.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6EA2-KNOWNISSUES" name="LBM3.6EA2-KNOWNISSUES">43.1.4.
LBM 3.6ea2 Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. 29West
is investigating this issue.</p>
</li>

<li>
<p>Shutting down a source-side LBM Gateway with Control-C can cause the Gateway to become
dead locked. 29West is investigating this issue.</p>
</li>

<li>
<p>If a source LBM Gateway was shutdown and then the receiving Gateway was shutdown as
quickly as possible while still carrying traffic, a fatal assert occurs. (<tt
class="LITERAL">MUL_FATAL_ASSERT(Table!=NULL);</tt>) 29West is investigating this
issue.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> Spectrum does not operate correctly with wildcard
receivers. The functions <code class="FUNCTION">lbm_wildcard_rcv_subscribe_channel</code>
and <code class="FUNCTION">lbm_wildcard_unsubscribe_channel</code> (as well as <code
class="FUNCTION">LBMWildcardReceiver.subscribeChannel()</code> and <code
class="FUNCTION">LBMWildcardReciever.unsubscribeChannel()</code> in Java and .NET) should
not be called, and the receiver attributes "null_channel_behavior" and
"unrecognized_channel_behavior" should not be used if wildcard receivers are being used.
This issue will be corrected in a later release.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.0EA2" name="UME3.0EA2">43.2. UME 3.0ea2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.0EA2-FIXES" name="UME3.0EA2-FIXES">43.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed an issue in .NET and C where the topic index was not included in the source
string passed to the user in the <b class="APPLICATION">UME</b> registration callbacks
set by <tt class="LITERAL">ume_registration_function</tt> and <tt
class="LITERAL">ume_registration_extended_function</tt>, which are options for <code
class="FUNCTION">lbm_rcv_topic_attr_setopt()</code>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.0EA2-KNOWNISSUES" name="UME3.0EA2-KNOWNISSUES">43.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Queue resiliency is not in place with this release. Multiple Queues with the same name
are not supported with this release. In addition, Queues that fail and restart will not
work with continually functioning sources and receivers.</p>
</li>

<li>
<p>Sources must use either <b class="APPLICATION">UME</b> stores or a <b
class="APPLICATION">UME</b> queue, but not both at the same time. This will be addressed
in a future release.</p>
</li>

<li>
<p>When using a <b class="APPLICATION">UME</b> Queue, receivers should not rely upon the
message sequence number supplied in the <tt class="LITERAL">lbm_msg_t</tt> (or <tt
class="LITERAL">LBMMessage</tt>) object as the sequence numbering may change in future
releases. Applications should utilize the <tt class="LITERAL">Message-ID</tt>
instead.</p>
</li>

<li>
<p>EOS semantics related to Queuing are somewhat complicated depending on the
dissemination model being used. New events may be introduced in future releases to handle
additional "EOS-like" concerns associated with the use of a <b
class="APPLICATION">UME</b> Queue.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.5.2-UME2.2.2" name="SECLBM3.5.2-UME2.2.2">44. Release
LBM 3.5.2 / UME 2.2.2 - August 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.5.2" name="LBM3.5.2">44.1. LBM 3.5.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.5.2-UPDATES" name="LBM3.5.2-UPDATES">44.1.1. Updated
Features</a></h4>

<ul>
<li>
<p>Improved performance of all <b class="APPLICATION">29West</b> products on <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> by implementing
new build techniques.</p>
</li>

<li>
<p><span class="TRADEMARK">Microsoft</span> has recently provided a security update for
the C runtime library (msvcr80.dll version: 8.0.50727.4053). In order to avoid potential
issues, <b class="APPLICATION">29West</b> recommends installing the latest
redistributable C runtime library. See <a
href="http://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=766a6af7-ec73-40ff-b072-9112bab119c2"
 target="doccontent">http://www.microsoft.com/downloads/details.aspx?displaylang=en&#38;FamilyID=766a6af7-ec73-40ff-b072-9112bab119c2</a>
for further details.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5.2-FIXES" name="LBM3.5.2-FIXES">44.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with Java that could cause a JVM crash if a thread received a
small response message (less than 8192 bytes) followed by a large response message
(greater than 8192 bytes).</p>
</li>

<li>
<p>Fixed a problem with Late Join that occurred when recovering old messages from a
source. If loss occurred on the live stream during recovery, the source would either stop
or delay the delivery of messages to the application and buffer the messages instead,
causing unbounded memory consumption. In addition, any messages that were delivered could
be delivered out of order.</p>
</li>

<li>
<p>Corrected a memory leak that occurred when creating Java <tt
class="LITERAL">LBMContextStatistics</tt> objects.</p>
</li>

<li>
<p>Corrected a problem with the LBT-IPC transport on <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> that caused
multiple processes that were started in rapid succession to send data to the same shared
memory area. This problem produced the following failed assertion at the receiver: <tt
class="LITERAL">MUL_ASSERT((MUL_SQN_GT(sqn, ctlr-&#62;stream_high_sqn)));</tt></p>
</li>

<li>
<p>Fixed an issue with SDM Unicode strings in .NET. If a Unicode field was the last field
in a packet, the length check produced an assertion because the check was made during the
unicode string encoding rather than before the encoding. The length check now occurs
prior to string encoding.</p>
</li>

<li>
<p>Increased an internal NAK timer constant for LBT-RM receivers to improve loss handling
in high-loss cases.</p>
</li>

<li>
<p>Added a protective check to prevent a segfault when a source sends with monitoring
enabled and <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTINCOMINGADDRESS"
 target="doccontent"><tt class="LITERAL">resolver_multicast_incoming_address</tt></a> set to
<tt class="LITERAL">0.0.0.0</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5.2-KNOWNISSUES" name="LBM3.5.2-KNOWNISSUES">44.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. 29West
is investigating this issue.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.2.2" name="UME2.2.2">44.2. UME 2.2.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME2.2.2-FIXES" name="UME2.2.2-FIXES">44.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem when recovering messages from a <b class="APPLICATION">UME</b> store
identical to the Late Join problem cited above. If loss occurred on the live stream
during recovery, the <b class="APPLICATION">UME</b> store would stop or delay the
delivery of messages to the application, buffering the messages and causing unbounded
memory consumption. In addition, any messages that were delivered could be delivered out
of order.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.5.1-UME2.2.1" name="SECLBM3.5.1-UME2.2.1">45. Release
LBM 3.5.1 / UME 2.2.1 - July 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.5.1-FIXES" name="LBM3.5.1-FIXES">45.1. Bug Fixes</a></h3>

<ul>
<li>
<p>Corrected a socket leak on the receiving side of LBT-RM transports that was introduced
in <b class="APPLICATION">LBM</b> 3.3. The socket leak prevented <b
class="APPLICATION">LBM</b> from leaving multicast groups when deleting receivers, which
could lead to an unexpected growth of multicast group memberships in a process. This fix
ensures that the O/S leaves the multicast group associated with the socket, when the last
receiver in said group is deleted.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.5-UME2.2" name="SECLBM3.5-UME2.2">46. Release LBM 3.5
/ UME 2.2 - July 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.5" name="LBM3.5">46.1. LBM 3.5</a></h3>

<p>See also <a href="#SECLBM3.5EA3"><i>Release LBM 3.5.ea3 / UME 2.2ea1 - May
2009</i></a> and <a href="#SECLBM3.5EA2"><i>Release LBM 3.5.ea2 - April 2009</i></a>.</p>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5-FIXES" name="LBM3.5-FIXES">46.1.1. Bug Fixes</a></h4>

<ul>
<li>
<p>Corrected a problem with Java and .NET <tt class="LITERAL">lbmmon</tt> example
applications that resulted in the incorrect display of the source application's process
and object IDs.</p>
</li>

<li>
<p>Corrected a problem with Java and .NET <tt class="LITERAL">lbmmsrc</tt> example
applications that caused the following exception when printing IPC statistics: <tt
class="LITERAL">Unhandled Exception: com.latencybusters.lbm.LBMEInvalException: value at
num must be large enough to handle all transport sessions.</tt> This exception was caused
by an incorrect calculation of the number of transport sessions.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now ignores any spaces at the end of numeric attributes
in <b class="APPLICATION">LBM</b> configuration files.</p>
</li>

<li>
<p>Fixed an issue with the wire format for LBM messages where the explicit batching flags
were not being correctly converted to network byte order. This resulted in the
LBM_MSG_FLAG_START_BATCH and LBM_MSG_FLAG_END_BATCH flags not being set correctly if
sending from a big-endian machine to a little-endian machine, or vice versa. LBM now
correctly formats the field in question.</p>

<p>Due to the change in the wire format, mixing <b class="APPLICATION">LBM</b> 3.5 with
earlier versions results in incorrectly set batching flags in most cases. This does not
impact the behavior of explicit batching on the source side, only the message flags on
the receiver side. These flags provide information to the receiving application, and are
not used in message delivery, so applications that do not currently use them can mix <b
class="APPLICATION">LBM</b> versions without impact.</p>
</li>

<li>
<p>Changed the way multiple LBT-IPC processes verify availability of the LBT-IPC
transport during Topic Resolution. If two processes check the transport at nearly the
same time, the second process will experience a 1 second delay. Multiple processes now
verify serially.</p>
</li>

<li>
<p>Fixed a problem with calling <tt class="LITERAL">lbm_src_flush()</tt> from multiple
threads or using <tt class="LITERAL">lbm_src_send()</tt> in combination with <tt
class="LITERAL">lbm_src_flush()</tt> from multiple threads. This problem produced the
following assertion. WARNING: failed assertion [num&#62;0] at line 1382 in
../../../../src/lib/lbm/lbmsock.c. With this correction, using <tt
class="LITERAL">lbm_src_send()</tt> in combination with <tt
class="LITERAL">lbm_src_flush()</tt> from multiple threads does not cause a problem.</p>
</li>

<li>
<p>Corrected a problem with setting <tt class="LITERAL">*_interface</tt> options from
within the <b class="APPLICATION">LBM</b> Configuration File specified by the environment
variable LBM_DEFAULT_CONFIG_FILE. Setting <tt class="LITERAL">*_interface</tt> options in
this manner no longer results in an error.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5-KNOWNISSUES" name="LBM3.5-KNOWNISSUES">46.1.2. Known
Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. 29West
is investigating this issue.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.2" name="UME2.2">46.2. UME 2.2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME2.2-FIXES" name="UME2.2-FIXES">46.2.1. Bug Fixes</a></h4>

<ul>
<li>
<p>Java <b class="APPLICATION">UME</b> receiver applications must now call <tt
class="LITERAL">LBMMessage.dispose()</tt> when the application is completely finished
with the message. Previously, <b class="APPLICATION">UME</b> sent implicit ACKs
immediately on return from the user's callback. If a Java <b class="APPLICATION">UME</b>
receiver application uses implicit ACKs (the default), <b class="APPLICATION">UME</b>
will not send any implicit ACKs unless the application calls <tt
class="LITERAL">LBMMessage.dispose()</tt>.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.6EA1-UME3.0EA1" name="SECLBM3.6EA1-UME3.0EA1">47.
Release LBM 3.6.ea1 / UME 3.0ea1 - July 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6EA1" name="LBM3.6EA1">47.1. LBM 3.6ea1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3-6EA1-NEW" name="LBM3-6EA1-NEW">47.1.1. LBM 3.6ea1 New
Features</a></h4>

<ul>
<li>
<p>Added <b class="APPLICATION">LBM</b> <b class="APPLICATION">Spectrum</b> that allows a
source to send topic messages with channel information. A receiver can subscribe (<code
class="FUNCTION">lbm_rcv_subscribe_channel()</code> <code
class="FUNCTION">lbm_wrcv_subscribe_channel()</code>) to a channel and receive only topic
messages sent to that channel. Each channel can use a different receiver callback, if
desired. Benefits include less topic resolution traffic since LBM advertises only topics,
not channels and in order delivery across channels since all messages are part of the
same topic stream.</p>
</li>

<li>
<p>Added support for <b class="APPLICATION">Adaptive Batching</b>, which attempts to send
messages immediately during periods of low volume and automatically batch messages during
periods of higher volume. You enable Adaptive Batching by setting <a
href="../Config/implicitbatchingoptions.html#SOURCEIMPLICITBATCHINGTYPE"
target="doccontent"><tt class="LITERAL">implicit_batching_type</tt></a> to <tt
class="LITERAL">adaptive</tt>.</p>
</li>

<li>
<p><b class="APPLICATION">New Monitoring Statistics:</b> Added monitoring statistics to
<a href="../API/structlbm__event__queue__stats__t__stct.html" target="doccontent"><tt
class="LITERAL">lbm_event_queue_stats_t</tt></a> structure to reflect a new event type
used internally by <b class="APPLICATION">LBM</b>. The new statistics report on the
number of callback events (<tt class="LITERAL">callback_events</tt>), total callback
events (<tt class="LITERAL">callback_events_tot</tt>) and callback event service times
(<tt class="LITERAL">callback_events_svc_min</tt>, <tt
class="LITERAL">callback_events_svc_mean</tt> and <tt
class="LITERAL">callback_events_svc_max</tt>). These statistics are available to the <a
href="../API/index.html" target="doccontent">C API</a>, the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>. The new statistics have
also been added to the <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span></b> <b class="APPLICATION">MIB</b> and the InterMapper probe files. In
addition, all example applications support the callback statistics.</p>
</li>

<li>
<p>Added the <b class="APPLICATION">Topic Index</b> to the source string ( <a
href="../API/structlbm__transport__source__info__t__stct.html" target="doccontent"><tt
class="LITERAL">lbm_transport_source_info_t</tt></a>). <b class="APPLICATION">LBM</b>
includes the topic index in source strings supplied through message delivery and new
source notification. A receiving application can now identify the source of any message
it receives by parsing the source string. New API functions, <code
class="FUNCTION">lbm_transport_source_parse()</code> and <code
class="FUNCTION">lbm_transport_source_format()</code>, allow you to parse and create
source strings. Inclusion of the Topic Index in the source string is the default. You can
disable this by setting <a
href="../Config/majoroptions.html#CONTEXTSOURCEINCLUDESTOPICINDEX" target="doccontent"><tt
class="LITERAL">source_includes_topic_index</tt></a> to 0 (zero).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6EA1-FIXES" name="LBM3.6EA1-FIXES">47.1.2. Bug
Fixes</a></h4>

<ul>
<li>
<p>Removed the warning assertion, <tt
class="LITERAL">fdm-&#62;select_invalid_entries==0</tt>, that could appear during busy
periods when using the <tt class="LITERAL">select</tt> file descriptor type.</p>
</li>

<li>
<p>Corrected a problem that occurred if a NULL topic object was passed to <code
class="FUNCTION">lbm_hf_src_create</code>. This resulted in a Segfault. <code
class="FUNCTION">lbm_hf_src_create</code> now correctly returns <tt
class="LITERAL">-1</tt>.</p>
</li>

<li>
<p>Changed the default Host ID for <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> from <tt class="LITERAL">0x00000000</tt> to <tt
class="LITERAL">0x7fffffff</tt> to improve host name resolution between an <b
class="APPLICATION">LBM</b> source running on <span class="TRADEMARK">Microsoft</span>
<span class="TRADEMARK">Windows</span> and sending over LBT-IPC to a receiver running on
a Linux/Unix machine. The previous default Host ID could produce the following receiver
error: <tt class="LITERAL">LOG Level 5: LBT-IPC: failed to open shared memory
(2)</tt>.</p>
</li>

<li>
<p>Corrected a problem with Java and .NET <tt class="LITERAL">lbmmon</tt> example
applications that resulted in the incorrect display of the source application's process
and object IDs.</p>
</li>

<li>
<p>Corrected a problem with Java and .NET <tt class="LITERAL">lbmmsrc</tt> example
applications that caused the following exception when printing IPC statistics: <tt
class="LITERAL">Unhandled Exception: com.latencybusters.lbm.LBMEInvalException: value at
num must be large enough to handle all transport sessions.</tt> This exception was caused
by an incorrect calculation of the number of transport sessions. Future versions of <b
class="APPLICATION">LBM</b> will remove the requirement for Java and .NET applications to
specify a number of statistical sets when creating various <b class="APPLICATION">LBM</b>
statistics.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now ignores any spaces at the end of numeric attributes
in <b class="APPLICATION">LBM</b> configuration files.</p>
</li>

<li>
<p>Fixed an issue with the wire format for LBM messages where the explicit batching flags
were not being correctly converted to network byte order. This resulted in the
LBM_MSG_FLAG_START_BATCH and LBM_MSG_FLAG_END_BATCH flags not being set correctly if
sending from a big-endian machine to a little-endian machine, or vice versa. LBM now
correctly formats the field in question.</p>

<p>Due to the change in the wire format, mixing <b class="APPLICATION">LBM</b> 3.5 with
earlier versions results in incorrectly set batching flags in most cases. This does not
impact the behavior of explicit batching on the source side, only the message flags on
the receiver side. These flags provide information to the receiving application, and are
not used in message delivery, so applications that do not currently use them can mix <b
class="APPLICATION">LBM</b> versions without impact.</p>
</li>

<li>
<p>Changed the way multiple LBT-IPC processes verify availability of the LBT-IPC
transport during Topic Resolution. If two processes check the transport at nearly the
same time, the second process will experience a 1 second delay. Multiple processes now
verify serially.</p>
</li>

<li>
<p>Fixed a problem with calling <tt class="LITERAL">lbm_src_flush()</tt> from multiple
threads or using <tt class="LITERAL">lbm_src_send()</tt> in combination with <tt
class="LITERAL">lbm_src_flush()</tt> from multiple threads. This problem produced the
following assertion. WARNING: failed assertion [num&#62;0] at line 1382 in
../../../../src/lib/lbm/lbmsock.c. With this correction, using <tt
class="LITERAL">lbm_src_send()</tt> in combination with <tt
class="LITERAL">lbm_src_flush()</tt> from multiple threads does not cause a problem.</p>
</li>

<li>
<p>Corrected a problem with setting <tt class="LITERAL">*_interface</tt> options from
within the <b class="APPLICATION">LBM</b> Configuration File specified by the environment
variable LBM_DEFAULT_CONFIG_FILE. Setting <tt class="LITERAL">*_interface</tt> options in
this manner no longer results in an error.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.6EA1-KNOWNISSUES" name="LBM3.6EA1-KNOWNISSUES">47.1.3.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. 29West
is investigating this issue.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME3.0EA1" name="UME3.0EA1">47.2. UME 3.0ea1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME3.0EA1-NEW" name="UME3.0EA1-NEW">47.2.1. New
Features</a></h4>

<ul>
<li>
<p>Java <b class="APPLICATION">UME</b> receiver applications must now call <tt
class="LITERAL">LBMMessage.dispose()</tt> when the application is completely finished
with the message. Previously, <b class="APPLICATION">UME</b> sent implicit ACKs
immediately on return from the user's callback. If a Java <b class="APPLICATION">UME</b>
receiver application uses implicit ACKs (the default), <b class="APPLICATION">UME</b>
will not send any implicit ACKs unless the application calls <tt
class="LITERAL">LBMMessage.dispose()</tt>.</p>
</li>

<li>
<p>Added <b class="APPLICATION">Queuing</b> capabilities to <b
class="APPLICATION">UME</b> that allows sources to submit messages asynchronously to a
queue and permits receivers to retrieve messages from a queue in an entirely different
asynchronous manner. <b class="APPLICATION">UME</b> Queuing also supports Once and Only
Once (OAOO) delivery and Application Sets that allow you to load balance processing or
support multiple processing purposes for single topics. See <a href="../UME/index.html"
target="doccontent">Ultra Messaging for the Enterprise</a> for more information.</p>
</li>

<li>
<p>Added support for <b class="APPLICATION">Proxy Sources</b> which allows a <b
class="APPLICATION">UME</b> source to request one of the <b class="APPLICATION">UME</b>
stores act as a proxy in case the source terminates. In this event, advertisements can
continue, existing receivers can continue recovery from a store, and new receivers can
register with the stores and receive any messages they have missed. You enable Proxy
Sources with the source configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMEPROXYSOURCE"
target="doccontent"><tt class="LITERAL">ume_proxy_source</tt></a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="UME3.0EA1-KNOWNISSUES" name="UME3.0EA1-KNOWNISSUES">47.2.2.
Known Issues</a></h4>

<ul>
<li>
<p>Queue resiliency is not in place with this release. Multiple Queues with the same name
are not supported with this release. In addition, Queues that fail and restart will not
work with continually functioning sources and receivers.</p>
</li>

<li>
<p>Sources must use either <b class="APPLICATION">UME</b> stores or a <b
class="APPLICATION">UME</b> queue, but not both at the same time. This will be addressed
in a future release.</p>
</li>

<li>
<p>When using a <b class="APPLICATION">UME</b> Queue, receivers should not rely upon the
message sequence number supplied in the <tt class="LITERAL">lbm_msg_t</tt> (or <tt
class="LITERAL">LBMMessage</tt>) object as the sequence numbering may change in future
releases. Applications should utilize the <tt class="LITERAL">Message-ID</tt>
instead.</p>
</li>

<li>
<p>EOS semantics related to Queuing are somewhat complicated depending on the
dissemination model being used. New events may be introduced in future releases to handle
additional "EOS-like" concerns associated with the use of a <b
class="APPLICATION">UME</b> Queue.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.5EA3" name="SECLBM3.5EA3">48. Release LBM 3.5.ea3 /
UME 2.2ea1 - May 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.5EA3" name="LBM3.5EA3">48.1. LBM 3.5ea3</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.5EA3-NEW" name="LBM3.5EA3-NEW">48.1.1. New
Features</a></h4>

<ul>
<li>
<p><b class="APPLICATION">New Monitoring Statistics:</b> Added monitoring statistics for
the LBT-IPC transport. These statistics are available to the <a href="../API/index.html"
target="doccontent">C API</a>, the <a href="../JavaAPI/html/index.html" target="doccontent">Java
API</a> and the <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>. The new
statistics have also been added to the <b class="APPLICATION"><span
class="TRADEMARK">Ultra Messaging</span></b> <b class="APPLICATION">MIB</b> and the
InterMapper probe files. In addition, all example applications support LBT-IPC transport
statistics.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5EA3-UPDATES" name="LBM3.5EA3-UPDATES">48.1.2. Updated
Features</a></h4>

<ul>
<li>
<p>Changed the internal management of LBT-IPC shared resources. <b
class="APPLICATION">LBM</b> can now support thousands of LBT-IPC transport sessions and
hundreds of receiving contexts.</p>

<p>As a result, <b class="APPLICATION">LBM</b> 3.5ea2 users must clean up old IPC
resources before installing <b class="APPLICATION">LBM</b> 3.5ea3. Perform the following
actions to properly update to <b class="APPLICATION">LBM</b> 3.5ea3.</p>

<ol type="1">
<li>
<p>Use the <tt class="LITERAL"><b class="APPLICATION">lbtipc_resource_manager
-reclaim</b></tt> option to reclaim any orphaned IPC resources.</p>
</li>

<li>
<p>Use the <tt class="LITERAL"><b class="APPLICATION">lbtipc_resource_manager
-delete</b></tt> option to delete the IPC resources database.</p>
</li>

<li>
<p>Install <b class="APPLICATION">LBM</b> 3.5ea3.</p>
</li>
</ol>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5EA3-FIXES" name="LBM3.5EA3-FIXES">48.1.3. Bug
Fixes</a></h4>

<ul>
<li>
<p>Corrected <b class="APPLICATION">LBM</b> socket resource leakage resulting when a
socket did not connect to the sender. The socket delete was not completing.</p>
</li>

<li>
<p>Modified <tt class="LITERAL">lbmmrcv.cs</tt> to only register one immediate callback.
The previous implementation registered one callback for each receiver, which caused a
single immediate message to be callbacked as many times as there were receivers. Since
the callback executes a <tt class="LITERAL">dispose()</tt> on the message, it caused a
core dump after the first callback was made.</p>
</li>

<li>
<p>Corrected a problem with LBT-IPC that caused an infinite loop when subsequent
receivers joined an LBT-IPC transport session after the first receiver joined. The
problem could happen if the subsequent receivers joined the transport as much as 17
minutes later than the first.</p>
</li>

<li>
<p>Corrected a seg fault that occurred when the maximum number of LBT-IPC transport
sessions was exceeded.</p>
</li>

<li>
<p>Corrected a problem with the way an LBT-IPC receiver handles keepalive messages from
an IPC source. This problem caused the following assertion, "WARNING: failed assertion
[(MUL_SQN_GT(sqn, ctlr-&#62;stream_high_sqn))] at line 626 in
../../../../src/lib/lbm/lbmrcvdc.c".</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5EA3-KNOWNISSUES" name="LBM3.5EA3-KNOWNISSUES">48.1.4.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. 29West
is investigating this issue.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.2EA1" name="UME2.2EA1">48.2. UME 2.2ea1</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="UME2.2EA1-FIXES" name="UME2.2EA1-FIXES">48.2.1. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem with the Java and .NET versions of <tt class="LITERAL">umesrc</tt>
that resulted in the STORE flag being issued instead of the STABLE flag when a quorum of
stores is achieved. This problem only occurred when using a Quorum/Consensus UME store
configuration.</p>
</li>

<li>
<p>In the Java API, changed UME confirmed delivery behavior for receivers to be more in
line with C and .NET APIs. The Java API now requires an application to call <tt
class="LITERAL">LBMMessage.dispose()</tt> when it has finished with an LBMMessage object.
Previously this had not been required.</p>
</li>

<li>
<p>In the Java API, fixed a bug which caused <tt
class="LITERAL">LBMMessage.isFragment()</tt> to always return false.</p>
</li>

<li>
<p>In the Java API, fixed several small UME source-side memory leaks that occurred when
using the newly-supported Embedded Mode without an Event Queue. These problems did not
affect Sequential Mode with or without an Event Queue nor Embedded Mode with an Event
Queue.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.5EA2" name="SECLBM3.5EA2">49. Release LBM 3.5.ea2 -
April 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.5EA2" name="LBM3.5EA2">49.1. LBM 3.5ea2</a></h3>

<div class="SECTION">
<h4 class="SECTION"><a id="LBM3.5EA2-NEW" name="LBM3.5EA2-NEW">49.1.1. New
Features</a></h4>

<ul>
<li>
<p>Introduced Interprocess Communication (IPC) LBM transport that allows sources to
publish topic messages to a shared memory area managed as a static ring buffer from which
receivers can read topic messages. For more information, see <a
href="../Design/lbm-objects.html#TRANSPORT-LBT-IPC" target="doccontent">Transport LBT-IPC</a>
in LBM Design Concepts. See also <a
href="../Config/transportlbt-ipcoperationoptions.html" target="doccontent"><tt
class="LITERAL">Transport LBT-IPC Operation Options</tt></a> in the <b
class="APPLICATION">LBM</b> Configuration Guide.</p>
</li>

<li>
<p>Added support for the <tt class="LITERAL">kqueue</tt> <a
href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> on Mac OS X.</p>
</li>

<li>
<p>Added ability to set <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTINCOMINGADDRESS"
 target="doccontent"><tt class="LITERAL">resolver_multicast_incoming_address</tt></a> to <tt
class="LITERAL">0.0.0.0</tt>, eliminating incoming topic resolution traffic, which is
useful for MIM-only contexts.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5EA2-UPDATES" name="LBM3.5EA2-UPDATES">49.1.2. Updated
Features</a></h4>

<ul>
<li>
<p>Significantly improved performance of Java receivers by taking advantage of some newer
features of modern Java virtual machines. Embedded mode is now fully supported in Java
with the same performance as sequential mode.</p>
</li>

<li>
<p>Allowed Intel Core Duo T2600 CPU machines to use high resolution timers instead of
<code class="FUNCTION">gettimeofday</code>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5EA2-DELETE" name="LBM3.5EA2-DELETE">49.1.3. Deleted
Features</a></h4>

<ul>
<li>
<p>Removed the finalizer from <tt class="LITERAL">LBMTimer</tt> Java class; changes in
LBM 3.4 made the finalizer unnecessary.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5EA2-FIXES" name="LBM3.5EA2-FIXES">49.1.4. Bug
Fixes</a></h4>

<ul>
<li>
<p>Fixed a problem that caused the string "unknown" to be returned from a call to <code
class="FUNCTION">lbm_context_attr_str_getopt()</code> for the context attribute <a
href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> if it was set to either <tt
class="LITERAL">epoll</tt> or <tt class="LITERAL">devpoll</tt>, rather than the string
<tt class="LITERAL">epoll</tt> or <tt class="LITERAL">devpoll</tt>, respectively.</p>
</li>

<li>
<p>Fixed a race condition where a .NET source event callback supplied to the <code
class="FUNCTION">LBMSource()</code> or <code
class="FUNCTION">LBMContext.createSource()</code> constructors had a chance of not being
called for an event that occurred before the constructor returned.</p>
</li>

<li>
<p>Fixed a problem that prevented <tt class="LITERAL">lbmmon</tt> from reporting LBM
stats using <tt class="LITERAL">lbmsnmp</tt> or UDP transport on .NET. When the <tt
class="LITERAL">lbmmon src</tt> was created, the LBM transport was used regardless of the
value passed in for the transport parameter.</p>
</li>

<li>
<p>Fixed a display problem that reversed multicast addresses in warnings regarding LBT-RM
transport sessions on little-endian machines. Also removed warnings for <a
href="../Config/transporttcpoperationoptions.html#SOURCETRANSPORTSESSIONMAXIMUMBUFFER"
target="doccontent"><tt class="LITERAL">transport_session_maximum_buffer</tt></a> for LBT-RM
and LBT-RU transports as this option affects TCP transports only.</p>
</li>

<li>
<p>Corrected a problem in LBM that resulted in a Segmentation Fault when using more than
one thread to dispatch an event queue. One or more of the dispatching threads was able to
access information associated with an event after the memory had been freed by another
thread processing another event.</p>
</li>

<li>
<p>Corrected a problem in Java and .NET that could result in a failed assertion when
using more than one thread to dispatch an event queue. One or more of the dispatching
threads was able to access memory that had already been freed as a result of processing
the End of Session (EOS) event on a different thread.</p>
</li>

<li>
<p>Corrected a problem in LBM that resulted in a Segmentation Fault when performing a
delete operation on a source, receiver, or context in parallel with dispatching an event
from an event queue. The dispatching thread was able to access information associated
with an event after the memory had been freed by the delete operation.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now correctly applies the <a
href="../Config/resolveroperationoptions.html#RECEIVERRESOLUTIONNUMBEROFSOURCESQUERYTHRESHOLD"
 target="doccontent"><tt class="LITERAL">resolution_number_of_sources_query_threshold</tt></a>
option to receivers created in a Context that already has a source for the same
topic.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.5EA2-KNOWNISSUES" name="LBM3.5EA2-KNOWNISSUES">49.1.5.
Known Issues</a></h4>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. 29West
is investigating this issue.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.4.1-UME2.1.1" name="SECLBM3.4.1-UME2.1.1">50. Release
LBM 3.4.1 / UME 2.1.1 - February 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.4.1" name="LBM3.4.1">50.1. LBM 3.4.1</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Known Issue:</b> When using Event Queues with the Java API on
Mac OS X kernel 9.4, core dumps have occurred. Mac OS X kernel versions prior to 9.4 have
not produced this behavior. 29West is investigating this issue.</p>
</li>

<li>
<p>Fixed an issue with <tt class="LITERAL">lbm_src_sendv()</tt> that resulted in the
sending of a message twice if you specified an <tt class="LITERAL">iovec</tt> of length
1.</p>
</li>

<li>
<p>Fixed a race condition in the handling of the semaphore associated with an LBM event
queue that would sometimes cause the following harmless, but annoying log message:
"WARNING: failed assertion [ev!=NULL]...".</p>
</li>

<li>
<p>Added version information to LBM Windows DLLs. You can use <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> File Explorer
to view a DLL's version number, description and other information.</p>
</li>

<li>
<p>Changed <tt class="LITERAL">lbmmon_rctl_destroy()</tt> to also destroy the thread
created to receive monitor packets in addition to destroying the monitor receive
controller. Not destroying this thread lead to invalid memory access if monitor packets
were received after the receive controller was destroyed.</p>
</li>

<li>
<p>Added new <b class="APPLICATION">LBM</b> Configuration Option, <a
href="../Config/transportlbt-rmoperationoptions.html#RECEIVERTRANSPORTLBTRMPREACTIVITYTIMEOUT"
 target="doccontent"><code class="PARAMETER">transport_lbtrm_preactivity_timeout</code></a>
which can prevent headloss from pre-LBM 3.3 sources that do not start sending data
messages before the receiver's <a
href="../Config/transportlbt-rmoperationoptions.html#RECEIVERTRANSPORTLBTRMACTIVITYTIMEOUT"
 target="doccontent"><code class="PARAMETER">transport_lbtrm_activity_timeout</code></a>
expires. The preactivity timeout begins when the receiver receives a topic
advertisement.</p>
</li>

<li>
<p>Fixed various Java and .NET SDM <tt class="LITERAL">get_len()</tt> methods to check
for a null field type before attempting to determine the length of the object. Also added
new Java and .NET constructors for array fields that enable non-null arrays to be created
with 0 elements. This matches the behavior of the C API.</p>
</li>

<li>
<p>Fixed a problem that caused an LBM receiver using a TCP transport to segfault when the
<a href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><code class="PARAMETER">delivery_control_loss_check_interval</code></a> was
set to a non-zero value.</p>
</li>

<li>
<p>Changed the .NET example application, <tt class="LITERAL">lbmresp.cs</tt>, so it does
not crash when compiled with optimization on 64-bit machines. The application's
functionality was not changed.</p>
</li>

<li>
<p>Changed .NET to call <tt class="LITERAL">RaiseException</tt> during a Fatal Assert
which allows you to use your own exception handler. Previously, .NET called <tt
class="LITERAL">abort</tt> which would not invoke your exception handler.</p>
</li>

<li>
<p>Added internal support for the AIX call <tt class="LITERAL">read_real_time()</tt> when
timestamping event queue entries. This provides better performance than the default <tt
class="LITERAL">gettimeofday()</tt> and applies to only AIX.</p>
</li>

<li>
<p>Corrected the <tt class="LITERAL">LBM*Attributes.getValue()</tt> calls in .NET to use
a platform-specific <tt class="LITERAL">size_t</tt> type when getting attribute values.
Attribute calls now operate correctly on both 32-bit and 64-bit .NET platforms.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.1.1" name="UME2.1.1">50.2. UME 2.1.1</a></h3>

<ul>
<li>
<p>No <b class="APPLICATION">UME</b> specific problems were found.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.4-UME2.1" name="SECLBM3.4-UME2.1">51. Release LBM 3.4
/ UME 2.1 - February 2009</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.4" name="LBM3.4">51.1. LBM 3.4</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Known Issue:</b> When using Event Queues with the Java API on
Mac OS X kernel 9.4, core dumps have occurred. Mac OS X kernel versions prior to 9.4 have
not produced this behavior. 29West is investigating this issue.</p>
</li>

<li>
<p><b class="APPLICATION">Feature Resumption:</b> String caching for the Java and .NET
APIs has been re-enabled. Rather than creating a new string for the topic and source when
each message is delivered, <b class="APPLICATION">LBM</b> uses a reference to a cached
string that improves performance. In addition, the previously disabled per-source client
object has been reintroduced. The object returned from the per-source creation callback
is now available in the receiver and per-source deletion callbacks.</p>
</li>

<li>
<p>The <b class="APPLICATION">LBM</b> Application Notes section (FAQs, error messages,
articles) of the <b class="APPLICATION">LBM</b>/<b class="APPLICATION">UME</b>
documentation set has been moved into the <a
href="https://communities.informatica.com/infakb/kbexternal/default.aspx"
target="doccontent"><b class="APPLICATION">29West</b> Knowledgebase</a>. We will continue to
add articles answering common support questions, new hardware issues, source code
examples and more to our new Knowledgebase, which has full text search and ways for you
to comment on articles and ask a question of <b class="APPLICATION">29West</b> Support. A
link to the current <b class="APPLICATION">29West</b> <b
class="APPLICATION">Messaging</b> documentation set will soon be added. We welcome your
comments and hope you find the <a
href="https://communities.informatica.com/infakb/kbexternal/default.aspx"
target="doccontent"><b class="APPLICATION">29West</b> Knowledgebase</a> helpful.</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.MONITORING" name="LBM3.4.MONITORING">51.1.1.
Monitoring</a></h4>

<ul>
<li>
<p><b class="APPLICATION">New Monitoring Statistics:</b> Added Context statistics and
Event Queue statistics. Context statistics help you monitor topic resolution activity,
along with the number of unknown messages received and the number of sends and responses
that were blocked or returned EWOULDBLOCK. Context statistics also contain transport
statistics for Multicast Immediate Messaging (MIM) activity and the existing transport
statistics for all of the sources or receivers in a context. Event Queue statistics help
you monitor the number of events currently on the queue, how long it takes to service
them (maximum, minimum and mean service times) and the total number of events for the
monitoring period.</p>

<p>Implementing the new context and Event Queue statistics in an existing <tt
class="LITERAL">lbmmon</tt> statistics receiver application requires the addition of a
callback for each statistic type. All new statistics are available in the <a
href="../API/index.html" target="doccontent">C API</a>, the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>. See also <a
href="../Design/monitoring.html#LBM-API-FUNCTIONS" target="doccontent">LBM API Functions and
Data Structures</a> in LBM Design Concepts. The new statistics have also been added to
the <b class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">MIB</b> and the InterMapper probe files.</p>
</li>

<li>
<p><b class="APPLICATION">Application Change Required:</b> <b class="APPLICATION">LBM</b>
Version 3.4 has broken source and binary compatibility with monitoring applications that
use a monitoring receiver controller. In order for your existing monitoring application
to work with <b class="APPLICATION">LBM</b> Version 3.4, you must change the application
code and re-compile. This change, although troublesome now, allows the addition of more
statistics in the future without any further application change required.</p>

<p>In the <a href="../API/index.html" target="doccontent">C API</a>, the method for specifying
all statistics callbacks has been changed. Note that this change applies <span
class="emphasis"><i class="EMPHASIS">only</i></span> to applications that act as a
receiver of statistics. No changes are required for most applications that use the <tt
class="LITERAL">lbmmon</tt> API to publish statistics. See the <a
href="../API/lbmmon_8h.html" target="doccontent">lbmmon API documentation</a> for information
about the new parameters passed to <tt class="LITERAL">lbmmon_rctl_create()</tt>, as well
as the new API calls (<tt class="LITERAL">lbmmon_rctl_attr_*()</tt>) along with the
structures (<tt class="LITERAL">lbmmon_rctl_attr_t</tt> and <tt
class="LITERAL">lbmmon_*_statistics_func_t</tt>. See also <a
href="../Design/monitoring.html#RECEIVING-MONITORING-DATA" target="doccontent">Receiving
Monitoring Data</a> in LBM Design Concepts for code examples that use the new <tt
class="LITERAL">lbmmon</tt> API calls to create a statistics receiver.</p>

<p>The <a href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a> also require a new way to
specify statistics callbacks for all statistics. However, callbacks for existing
statistics are now deprecated and will continue to work until an undetermined future
release.</p>
</li>

<li>
<p>Added API functions to reset statistics for all functions that retrieve statistics.
For more information, see the <a href="../API/index.html" target="doccontent">C API</a>, the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>.</p>
</li>

<li>
<p>Added a new monitoring function, <tt class="LITERAL">lbmmon_sctl_sample_ex()</tt>.
This is an extension to the existing <tt class="LITERAL">lbmmon_sctl_sample()</tt> call,
but allows an AppID string to be specified. This string overrides the AppID string
specified in any <tt class="LITERAL">lbmmon_*_monitor()</tt> calls for this call only,
and can be used to allow dynamic identification of the statistics message (via the AppID)
to the receiving monitoring application.</p>
</li>

<li>
<p>Added the capability to monitor an <b class="APPLICATION">LBM</b> context
automatically by setting <b class="APPLICATION">LBM</b> <a
href="../Config/automaticmonitoringoptions.html" target="doccontent">Automatic Monitoring
Options</a> in a configuration file or by setting environment variables, which allow you
to automatically monitor all <b class="APPLICATION">LBM</b> contexts. See also <a
href="../Design/monitoring.html#AUTOMONITOR" target="doccontent">Automatic Monitoring</a> in
LBM Design Concepts.</p>
</li>

<li>
<p>Added the number of retransmission bytes sent (<tt class="LITERAL">rx_bytes_sent</tt>)
to the LBT-RM and LBT-RU source statistics. This allows the calculation of a source's
retransmission rate as well as the data rate. This new statistic has also been added to
the <b class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">MIB</b> and the InterMapper probe files. The <b
class="APPLICATION"><span class="TRADEMARK">Ultra Messaging</span></b> <b
class="APPLICATION">MIB</b> has also been restructured to the following order: Index
fields (OIDs .1 through .10), auxiliary fields (OIDs .11 through .20) and the normal
statistics fields beginning with OID .21.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.NEW" name="LBM3.4.NEW">51.1.2. New
Features/Functions</a></h4>

<ul>
<li>
<p>Added new API attribute management functions (<tt
class="LITERAL">lbm_XXX_attr_create()</tt>, <tt
class="LITERAL">lbm_XXX_attr_delete()</tt>, <tt class="LITERAL">lbm_XXX_attr_dup()</tt>,
and <tt class="LITERAL">lbm_XXX_attr_default()</tt>). Now attribute structures can only
be allocated, manipulated, copied or destroyed via the new API functions. The existing
functions, <tt class="LITERAL">lbm_XXX_attr_init()</tt> and <tt
class="LITERAL">lbm_XXX_attr_cleanup()</tt>, still work but have been deprecated. All new
development should be done with the new functions. When the deprecated functions are
removed in a future release, all <tt class="LITERAL">lbm_XXX_attr_t</tt> structures will
become completely opaque, and the individual fields will be removed from <tt
class="LITERAL">lbm.h</tt>.</p>
</li>

<li>
<p>Added a new API function <tt class="LITERAL">lbm_src_flush()</tt>, which allows you to
flush all batched messages from both the implicit and explicit batch buffer. For more
information, see the <a href="../API/index.html" target="doccontent"><b
class="APPLICATION">LBM</b> C API</a>, the <a href="../JavaAPI/html/index.html"
target="doccontent"><b class="APPLICATION">LBM</b> Java API</a> and the <a
href="../DotNetAPI/doc/Index.html" target="doccontent"><b class="APPLICATION">LBM</b> .NET
API</a>.</p>
</li>

<li>
<p>Added context source event callbacks. <b class="APPLICATION">LBM</b> now delivers
source events for any message types that can be sent directly from a context rather than
requiring a separate <tt class="LITERAL">lbm_src_t</tt> (or LBMSource) object. These
message types include multicast immediate messages, unicast immediate messages, requests
and responses. Currently, the only supported context source event is the wakeup source
event type. Also, wakeup source event types for all sources now include a flag field in
the event data to indicate what type of source has woken up.</p>
</li>

<li>
<p>Added new API functions to retrieve current attribute settings for various <b
class="APPLICATION">LBM</b> objects.</p>
</li>

<li>
<p>Added C API functions (<tt class="LITERAL">lbm_*_dump()</tt>) and Java and .NET
methods (<tt class="LITERAL">dumpAttributeList</tt>) that retrieve an <b
class="APPLICATION">LBM</b> object's (context, receiver, Event Queue, etc.) current <b
class="APPLICATION">LBM</b> configuration options.</p>
</li>

<li>
<p>A new C API function, <tt class="LITERAL">lbm_context_delete_ex()</tt>, may be used
with an Event Queue cancel callback to provide the application notification that all
context-level source events have been processed or purged from any Event Queues. It is
similar to the existing <tt class="LITERAL">*_delete_ex()</tt> C API functions.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.SDM" name="LBM3.4.SDM">51.1.3. Self Describing
Messaging</a></h4>

<ul>
<li>
<p>Added <tt class="LITERAL">get_sec()</tt> and <tt class="LITERAL">get_usec()</tt> to
Java and .NET Self Describing Messaging (SDM). Now you can easily get the values for
seconds and microseconds for a timestamp (<tt
class="LITERAL">LBMSDMRawTimestamp.java</tt> and <tt
class="LITERAL">LBMSDMRawTimestamp.cs</tt>).</p>
</li>

<li>
<p>Added the ability to Java and .NET Self Describing Messaging (SDM) to set the size of
the preallocated field array when you create messages with <tt
class="LITERAL">LBMSDMFieldsAttribute.set_field_prealloc()</tt>. In the C API, this
corresponds to the option <tt class="LITERAL">field_array_allocation</tt> used with <tt
class="LITERAL">lbmsdm_msg_attr_str_setopt()</tt>.</p>
</li>

<li>
<p>Corrected a problem in the .NET <tt class="LITERAL">LBMSDMRawDecimal</tt> class that
was misinterpreting the exponent as an unsigned number instead of a signed number when
deserializing a message.</p>
</li>

<li>
<p>Corrected a problem with Java and .NET Self Describing Messaging (SDM) that prevented
the use of strings greater than 32K in length. SDM strings can now be greater than
32K.</p>
</li>

<li>
<p>Corrected a problem with Self Describing Messaging (SDM) that occurred when building
the serialized form of the message. If the initial estimate of the serialized message
length was too small, the output buffer was reallocated. In the cases where the
reallocation caused the memory block to be moved, rather than simply extended, this could
lead to a write to an invalid memory location.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.JAVA" name="LBM3.4.JAVA">51.1.4. Java</a></h4>

<ul>
<li>
<p>Updated JNI to catch exceptions in objects created from JNI. If an exception occurs,
the exception is logged and the current operation is terminated.</p>
</li>

<li>
<p>Corrected a problem with Java timers discovered when using the Java example
application, <tt class="LITERAL">lbmreq</tt> with Event Queues. Now when an <tt
class="LITERAL">LBMTimer</tt> object expires and goes out of scope, it will be finalized
and collected immediately.</p>
</li>

<li>
<p>Fixed a memory corruption problem in the Java API that caused crashes during cleanup
of transport sessions for receivers using LBM Event Queues. This problem only occurred on
32-bit systems.</p>
</li>

<li>
<p>Fixed race conditions with Java LBMTimers that are constructed without appropriate
callbacks being set.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.JAVADOTNET" name="LBM3.4.JAVADOTNET">51.1.5. Java and
.NET</a></h4>

<ul>
<li>
<p>Added additional null checks in the Java and .NET APIs to prevent null pointer
exceptions when handling messages containing empty arrays.</p>
</li>

<li>
<p>Fixed an issue with .NET and Java that caused Hot Failover Receiver statistics to be
empty. Also fixed .NET and Java <tt class="LITERAL">lbmrcv</tt> example programs that
printed incorrect values for messages received (<tt class="LITERAL">msgs_rcved</tt>) when
using the TCP transport and periodic statistics collection.</p>
</li>

<li>
<p>Added <tt class="LITERAL">LBMContextAttributes.setImmediateMessageCallback()</tt>
function in Java and .NET to allow setting a context's topic-less immediate message
callback before context creation. This method is now preferred over the older <tt
class="LITERAL">LBMContext.enableImmediateMessageReceiver()</tt> and <tt
class="LITERAL">LBMContext.addImmediateMessageReceiver()</tt> methods.</p>
</li>

<li>
<p>Updated Java and .NET finalizers to catch unexpected exceptions and dump the
stacktrace of the exception to the standard Java API <tt
class="LITERAL">printStackTrace</tt> (stderr).</p>
</li>

<li>
<p>Updated <tt class="LITERAL">LBMReceiver</tt> constructors in Java and .NET to throw an
LBM.EINVAL exception if they receive an <tt class="LITERAL">LBMTopic</tt> object that has
already been used in the creation of an <tt class="LITERAL">LBMReceiver</tt>. Re-using
<tt class="LITERAL">LBMTopic</tt> objects in this manner has always been unsupported by
<b class="APPLICATION">LBM</b>, but no error was logged previously.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.CONFIG" name="LBM3.4.CONFIG">51.1.6.
Configuration</a></h4>

<ul>
<li>
<p>Process-wide <b class="APPLICATION">LBM</b> configuration option defaults may now be
automatically loaded at startup without code changes by setting the environment variable
<tt class="LITERAL">LBM_DEFAULT_CONFIG_FILE</tt> to the path (or URL) of an <b
class="APPLICATION">LBM</b> configuration file.</p>
</li>

<li>
<p>Added the <a href="../Config/majoroptions.html#CONTEXTSOURCEEVENTFUNCTION"
target="doccontent"><code class="PARAMETER">source_event_function</code></a> context
configuration option as an alternative way to set a context's topic-less immediate
messaging callback. The older method, using the <tt
class="LITERAL">lbm_context_rcv_immediate_msgs</tt> API call, is still supported, but not
recommended for new code.</p>
</li>

<li>
<p>Added warning message to <tt class="LITERAL">rcv_create</tt> functions if the <a
href="../Config/transportlbt-rmoperationoptions.html#RECEIVERTRANSPORTLBTRMACTIVITYTIMEOUT"
 target="doccontent"><code class="PARAMETER">transport_lbtrm_activity_timeout</code></a> is
less than <a
href="../Config/transportlbt-rmreliabilityoptions.html#RECEIVERTRANSPORTLBTRMNAKGENERATIONINTERVAL"
 target="doccontent"><code
class="PARAMETER">transport_lbtrm_nak_generation_interval</code></a>. The warning states
that this condition results in silent data loss if loss occurs within the activity
timeout interval prior to the end of the transport session.</p>
</li>

<li>
<p>Added two new configuration options, <a
href="../Config/transportlbt-rmreliabilityoptions.html#RECEIVERTRANSPORTLBTRMNAKINITIALBACKOFFINTERVAL"
 target="doccontent"><code
class="PARAMETER">transport_lbtrm_nak_initial_backoff_interval</code></a> and <a
href="../Config/multicastimmediatemessagingreliabilityoptions.html#CONTEXTMIMNAKINITIALBACKOFFINTERVAL"
 target="doccontent"><code class="PARAMETER">mim_nak_initial_backoff_interval</code></a>, which
control latency due to loss. The default for both options is 50 milliseconds. A value of
zero for either option turns on immediate NAKs.</p>
</li>

<li>
<p>Added a new Wildcard Receiver option <a
href="../Config/config.html#WILDCARDRECEIVERRECEIVERCREATECALLBACK" target="doccontent"><code
class="PARAMETER">receiver_create_callback</code></a> that allows a callback when a
Wildcard Receiver matches a topic and is about to create an actual receiver for the
topic. This allows, among other things, an application to modify the receiver attributes
to be used in creating the receiver.</p>
</li>

<li>
<p>Removed the explicit setting of <a href="../Config/config.html#CONTEXTREQUESTTCPPORT"
target="doccontent"><code class="PARAMETER">request_tcp_port</code></a> from the C example
application, <tt class="LITERAL">lbmreq</tt>. <tt class="LITERAL">lbmreq</tt> now uses
the <a href="../Config/config.html#CONTEXTREQUESTTCPPORTLOW" target="doccontent"><code
class="PARAMETER">request_tcp_port_low</code></a> and <a
href="../Config/config.html#CONTEXTREQUESTTCPPORTHIGH" target="doccontent"><code
class="PARAMETER">request_tcp_port_high</code></a> range.</p>
</li>

<li>
<p><tt class="LITERAL">lbm_config</tt>, <tt class="LITERAL">LBM.setConfiguration()</tt>
and <tt class="LITERAL">lbmaux</tt> functions can now load configuration files from a URL
using HTTP or FTP. (e.g. lbm_config http://www.example.com/lbm.cfg).</p>
</li>

<li>
<p>Corrected a problem with an LBT-RU source with source-side filtering enabled that
would cause a segfault if the source option <a
href="../Config/transportlbt-ruoperationoptions.html#SOURCETRANSPORTLBTRUCLIENTACTIVITYTIMEOUT"
 target="doccontent"><code class="PARAMETER">transport_lbtru_client_activity_timeout</code></a>
was set to less than 10 seconds, and a timeout was detected after a receiver connect.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.RESP" name="LBM3.4.RESP">51.1.7.
Request/Response</a></h4>

<ul>
<li>
<p>Fixed an error where held responses could trigger a memory read error. "Held
responses" refers to an LBM response or Unicast Immediate Message for which the response
object has been retained after the response has been sent, and subsequently, the
requestor disconnects. The memory read error occurs upon the next response sent with the
response object.</p>
</li>

<li>
<p>Upon expiration of the <tt class="LITERAL">response_tcp_deletion_timeout</tt>, logic
was added to ensure that the response message had been sent. If not, <b
class="APPLICATION">LBM</b> restarts the timer to give additional time for the send to
complete.</p>
</li>

<li>
<p>Corrected a problem on Mac OS X that resulted in a bind failure of the <a
href="../Config/requestnetworkoptions.html#CONTEXTREQUESTTCPINTERFACE"
target="doccontent"><code class="PARAMETER">request_tcp_interface</code></a> or the <a
href="../Config/responseoperationoptions.html#CONTEXTRESPONSETCPINTERFACE"
target="doccontent"><code class="PARAMETER">response_tcp_interface</code></a>. The bind failure
prevented the initialization of the <b class="APPLICATION">LBM</b> context and produced
the message, <tt class="LITERAL">could not find open TCP server port in range</tt>. This
problem was most prevalent in Java applications, but could also occur in C
applications.</p>
</li>

<li>
<p>Corrected a problem with sending responses that returned an LBM_EOP error, <tt
class="LITERAL">response channel disconnected unexpectedly</tt> due to the selection of a
disconnected channel that could also result in the access of freed memory. Now <b
class="APPLICATION">LBM</b> ignores disconnected response channel connection objects to
avoid inadvertently referencing freed memory. This correction forces responses sent to a
disconnected channel (requester) to re-establish the connection, instead of failing with
the LBM_EOP error, <tt class="LITERAL">response channel disconnected
unexpectedly</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h4 class="SECTION"><a id="LBM3.4.GEN" name="LBM3.4.GEN">51.1.8. General</a></h4>

<ul>
<li>
<p>Corrected the condition that prevented the flushing of the message batching buffer
with the <tt class="LITERAL">LBM_MSG_FLUSH</tt> flag after starting a message batch with
the <tt class="LITERAL">LBM_MSG_START_BATCH</tt> flag. The <tt
class="LITERAL">LBM_MSG_FLUSH</tt> flag now flushes the buffer, but <b
class="APPLICATION">LBM</b> continues to batch messages until it receives the <tt
class="LITERAL">LBM_MSG_END_BATCH</tt> flag. Additionally, if <b
class="APPLICATION">LBM</b> receives a <tt class="LITERAL">LBM_MSG_COMPLETE_BATCH</tt>
flag without previously receiving a <tt class="LITERAL">LBM_MSG_START_BATCH</tt> flag, it
does not report an error.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now supports setting the <tt
class="LITERAL">SO_RCVBUF</tt> and <tt class="LITERAL">SO_SNDBUF</tt> on a Stratus VOS
system. If running on a version of VOS that does not support this functionality, <b
class="APPLICATION">LBM</b> logs a warning. You may set these parameters via <b
class="APPLICATION">LBM</b> configuration options ending in <tt
class="LITERAL">socket_buffer</tt>.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now conforms to the POSIX standard when sending a
message on a Stratus VOS system. Previously, VOS 17.x did not function properly with <b
class="APPLICATION">LBM</b>.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now allows the <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTMIMSRCDELETIONTIMEOUT"
 target="doccontent"><code class="PARAMETER">mim_src_deletion_timeout</code></a> option to
increase as needed to ensure the last message has completed. Previously, when sending
large immediate messages, the message could take longer to send than the <a
href="../Config/multicastimmediatemessagingoperationoptions.html#CONTEXTMIMSRCDELETIONTIMEOUT"
 target="doccontent"><code class="PARAMETER">mim_src_deletion_timeout</code></a> default, which
resulted in a failure.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> rate limiter now supports values more than 4
gigabits/sec. Previously, rate limits of more than 4 gigabits per second were not
supported on 32-bit or 64-bit <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span>, and were not supported on other 32-bit platforms. Also,
configuration file parsing for rate limiter settings has been changed to allow larger
(64-bit) values.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now reports an error if you configure Wildcard Receiver
and Event Queue options with non-numeric values. Previously <b
class="APPLICATION">LBM</b> would assign a value of zero without any notification.</p>
</li>

<li>
<p>Reactivated the Linger option (linger for xx seconds before closing context) for the
Java source code example, <tt class="LITERAL">lbmimsg.java</tt>.</p>
</li>

<li>
<p>Corrected how <b class="APPLICATION">LBM</b> Debug enables certain debug levels that
resulted in segmentation faults on Solaris.</p>
</li>

<li>
<p>In a few error cases <b class="APPLICATION">LBM</b> aborts an operation and returns
without unlocking its mutex locks. <b class="APPLICATION">LBM</b> has been updated to
unlock mutex locks before returning from an error.</p>
</li>

<li>
<p>Fixed an issue where a partial message could be delivered after a burst loss
notification. As a result of this change, if any portion of a message is lost, the entire
message is considered lost.</p>
</li>

<li>
<p>Changed the error message produced when a receiver goes down prior to an application
sending a Unicast Immediate Message. Error message now reads, <tt class="LITERAL">LBM
send error: no connection to target while sending unicast immediate message</tt>.</p>
</li>

<li>
<p>Changed TCP-LB to not send partial messages. When using Bounded Latency TCP and
sending large fragmented messages, if <b class="APPLICATION">LBM</b> needs to remove data
from the buffer to make room for new data, <b class="APPLICATION">LBM</b> removes all
fragments of a message so the receiver does not receive any partial messages.</p>
</li>

<li>
<p>Fixed a problem when using LBT-RU on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> in conjunction with the <tt
class="LITERAL">wincompport</tt> <a href="../Config/config.html#CONTEXTFDMANAGEMENTTYPE"
target="doccontent"><code class="PARAMETER">fd_management_type</code></a>. Previously, a single
receiver disconnecting from a topic caused all other receivers for that topic to stop
receiving data.</p>
</li>

<li>
<p>Corrected a problem in the <b class="APPLICATION">LBM</b> Gateway that prevented
messages from being forwarded across the Gateway if you used a non-default value for the
Unicast topic resolution port in tunnel mode.</p>
</li>

<li>
<p>Corrected a problem with TCP transport that occurred when the <a
href="../Config/transporttcpoperationoptions.html#SOURCETRANSPORTTCPMULTIPLERECEIVERBEHAVIOR"
 target="doccontent"><code
class="PARAMETER">transport_tcp_multiple_receiver_behavior</code></a> was set to <tt
class="LITERAL">bounded_latency</tt> or <tt class="LITERAL">source_paced</tt>. The "total
buffered" counter increased when data was added to the buffer but was not properly
decreased when data was removed. Over time, this resulted in the failed assertion <tt
class="LITERAL">[src-&#62;totalbuffered&#62;=len]</tt>. This counter supplies the <tt
class="LITERAL">bytes_buffered</tt> source transport TCP statistic and does not impact
the performance of <b class="APPLICATION">LBM</b>.</p>
</li>

<li>
<p>Corrected a problem with <tt class="LITERAL">lbm_log</tt> that resulted in a system
crash when <tt class="LITERAL">lbm_log</tt> was called multiple times on machines with
multiple interfaces.</p>
</li>

<li>
<p>Fixed a condition on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> that caused a blocking MIM send to return immediately
without sending any data if it followed a non-blocking send which had returned
LBM_EWOULDBLOCK.</p>
</li>

<li>
<p>Corrected a problem with LBT-RU and source-side filtering that caused a deleted and
then re-created receiver to connect to the source but not receive any messages.</p>
</li>

<li>
<p>Fixed a .NET marshalling issue affecting <tt class="LITERAL">LBM.version()</tt>, <tt
class="LITERAL">LBM.errorMessage()</tt> and <tt
class="LITERAL">LBMMonitor.errorMessage()</tt> on some 64-bit systems which resulted in
crashes when calling these functions or if the .NET API attempted to throw an
exception.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.1" name="UME2.1">51.2. UME 2.1</a></h3>

<ul>
<li>
<p><b class="APPLICATION">UME</b> store options, <tt
class="LITERAL">repository-size-threshold</tt> and <tt
class="LITERAL">repository-size-limit</tt> may now be safely set up to 4 gigabytes.</p>
</li>

<li>
<p>The Java and .NET APIs now properly support <b class="APPLICATION">UME</b>
Quorum/Consensus store failover.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="SNMP1.1" name="SNMP1.1">51.3. SNMP Agent 1.1</a></h3>

<ul>
<li>
<p>All new statistics cited above in <a href="#LBM3.4.MONITORING"><i>Monitoring</i></a>
have been added to the <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span></b> <b class="APPLICATION">MIB</b> and the InterMapper probe files.</p>
</li>

<li>
<p><b class="APPLICATION">29West</b> <b class="APPLICATION">Messaging</b> now supports
the optional LBT-RU session ID. This was also added to the <b class="APPLICATION"><span
class="TRADEMARK">Ultra Messaging</span></b> <b class="APPLICATION">MIB</b>.</p>
</li>

<li>
<p>Fixed a problem that prevented <b class="APPLICATION">29West</b> <b
class="APPLICATION">Messaging</b> from starting due to a properly formed XML
configuration file that did not contain the optional &lt;daemon&#62; section. Problem
only appeared on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> 32-bit systems.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.9-UME2.0.7" name="SECLBM3.3.9-UME2.0.7">52. Release
LBM 3.3.9 / UME 2.0.7 - December 2008</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.3.9" name="LBM3.3.9">52.1. LBM 3.3.9</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Known Issue:</b> When using Event Queues with the Java API on
Mac OS X kernel 9.4, core dumps have occurred. Mac OS X kernel versions prior to 9.4 have
not produced this behavior. 29West is investigating this issue.</p>
</li>

<li>
<p><b class="APPLICATION">Feature Resumption:</b> String caching for the Java and .NET
APIs has been re-enabled. Rather than creating a new string for the topic and source when
each message is delivered, <b class="APPLICATION">LBM</b> uses a reference to a cached
string which improves performance. In addition, the previously disabled per-source client
object has been reintroduced. The object returned from the per-source creation callback
is now available in the receiver and per-source deletion callbacks.</p>
</li>

<li>
<p>Added support in Java and .NET for changing the callbacks associated with an <tt
class="LITERAL">LBMRecieverAttributes</tt> object during the
WildcardReceiverCreateCallback.</p>
</li>

<li>
<p>Added performance enhancements to Self Describing Messaging (SDM) which included a new
attribute option, <tt class="LITERAL">integer_fieldname</tt> which allows you to
substitute a non-negative integer for a field name, which enhances field array indexing.
In addition, added a new function, <tt class="LITERAL">lbmsdm_msg_parse_reuse()</tt>,
which allows parsing a message into an existing <tt class="LITERAL">lbmsdm_msg_t</tt>
structure. SDM clears the message before parsing, removing all existing fields from the
message. See the API documentation for more information ( <a href="../API/index.html"
target="doccontent">C API</a>, <a href="../JavaAPI/html/index.html" target="doccontent">Java API</a>
or <a href="../DotNetAPI/doc/Index.html" target="doccontent">.NET API</a>).</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now only supports 64-bit systems on MAC OS X. <b
class="APPLICATION">LBM</b> no longer supports 32-bit MAC OS X systems.</p>
</li>

<li>
<p>Added a log warning for <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> users to advise on possible loss from the combination of
high settings for the rate limiter and low source side buffer settings used with LBT-RM
or LBT-RU.</p>
</li>

<li>
<p>Introduced code to properly avoid allowing callback objects from being garbage
collected prematurely. New code also aids in the implementation of string caching. For
Java and .NET only.</p>
</li>

<li>
<p>Fixed a case where an internal reference count could become negative when using
wildcard receivers. This resulted in the wrong receiver attributes being used in cases
where multiple receivers for the same topic were being used by a wildcard receiver whose
pattern matched the topic in question.</p>
</li>

<li>
<p>Fixed a problem that caused the <tt
class="LITERAL">WildcardReceiverCreateCallback</tt> to not be called in instances where a
previous receiver for that topic already existed.</p>
</li>

<li>
<p>Added a <tt class="LITERAL">WildcardReceiverDeleteCallback</tt>. This callback is
symmetric with the <tt class="LITERAL">WildcardReceiverCreateCallback</tt>, and provides
notification when one of the underlying receivers created by a wildcard receiver is
deleted.</p>
</li>

<li>
<p>Resolved an issue in .NET with a <tt class="LITERAL">NullReferenceException</tt> that
was generated when statistics were received by an <tt
class="LITERAL">LBMMonitorReceiver</tt>. <tt class="LITERAL">LBMStatistics</tt> now
correctly handles the timestamp received from <tt class="LITERAL">lbmmon</tt>.</p>
</li>

<li>
<p><b class="APPLICATION">LBM</b> now prints a warning message every time a source or
receiver joins a transport session that has settings for certain attributes different
from what the source or receiver has configured. As always, the source or receiver must
use the existing transport session's attributes.</p>
</li>

<li>
<p>Resolved an issue with calling <tt class="LITERAL">lbm_rcv_topic_lookup</tt> without a
corresponding <tt class="LITERAL">lbm_rcv_create</tt> that caused a double free upon
context deletion. <b class="APPLICATION">LBM</b> now correctly disposes of the topic upon
context deletion.</p>
</li>

<li>
<p>Fixed a deadlock issue on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> caused by creating attribute objects on multiple threads
simultaneously.</p>
</li>

<li>
<p>Corrected a utility queue removal function (<tt
class="LITERAL">utl_queue_remove_timedwait()</tt>). The function held the queue lock too
long, causing one thread to monopolize the lock, preventing another thread from accessing
the queue. This problem only occurred on <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span>.</p>
</li>

<li>
<p>Reverted the <tt class="LITERAL">LBMTimer.cancel()</tt> method in the Java API to not
take arguments. This corrects an inadvertent change in <b class="APPLICATION">LBM</b>
3.3.7 that required developers to change their applications to call <tt
class="LITERAL">LBMTimer.cancel(false)</tt> instead of <tt
class="LITERAL">LBMTimer.cancel()</tt>.</p>
</li>

<li>
<p>Fixed an issue when using the <span class="emphasis"><i
class="EMPHASIS">devpoll</i></span> <tt class="LITERAL">fd_management_type</tt> on
Solaris which could cause a fatal assertion if the application was interrupted with a
signal.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.0.7" name="UME2.0.7">52.2. UME 2.0.7</a></h3>

<ul>
<li>
<p>Fixed an issue regarding an unexpected interaction between the
WildcardReceiverCreateCallback and the recovery sequence number callback that resulted in
a segfault in Java. This error occurred when using <b class="APPLICATION">UME</b> and
registering for the WildcardReceiverCreateCallback.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.8-UME2.0.6" name="SECLBM3.3.8-UME2.0.6">53. Release
LBM 3.3.8 / UME 2.0.6 - October 2008</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.3.8" name="LBM3.3.8">53.1. LBM 3.3.8</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Known Issue:</b> When using Event Queues with the Java API on
Mac OS X kernel 9.4, core dumps have occurred. Mac OS X kernel versions prior to 9.4 have
not produced this behavior. 29West is investigating this issue.</p>
</li>

<li>
<p><b class="APPLICATION">Feature Suspension:</b> String caching for the Java and .NET
APIs has been temporarily disabled due to unstable operation. In addition, for the
setSourceNotificationCallbacks in Java and .NET (LBMReceiverAttributes), LBM temporarily
ignores the value returned from the source creation callback. Relevant calls to retrieve
this object will return NULL. String caching and full setSourceNotificationCallbacks
functionality will be re-enabled in a later release.</p>
</li>

<li>
<p>Added the <code class="PARAMETER">Source_Paced</code> value to the <a
href="../Config/transporttcpoperationoptions.html#SOURCETRANSPORTTCPMULTIPLERECEIVERBEHAVIOR"
 target="doccontent"><code
class="PARAMETER">transport_tcp_multiple_receiver_behavior</code></a> option. TCP senders
can now send as fast as they can without regard to the speed of the receivers. This may
cause lost messages.</p>
</li>

<li>
<p>Fixed memory corruption problem in Java API which caused crashes during cleanup of
transport sessions on 32-bit systems for receivers using LBM Event Queues.</p>
</li>

<li>
<p>Corrected a fatal assertion ("map!=NULL") on an LBT-RU source caused when using Source
Side Filtering (SSF) that resulted from deleting a receiver which had not completely
connected to the corresponding source.</p>
</li>

<li>
<p>Fixed a race condition in the Java API that occurred when a context is closed that
allowed LBMTimers to be constructed without appropriate callbacks.</p>
</li>

<li>
<p>Fixed a race condition in the .NET API with LBMContext.scheduleTimer() which could
result in callbacks not being executed for very short duration timers because the timers
would expire before their callbacks had been registered. Timer callbacks are now
registered before the timer is actually scheduled.</p>
</li>

<li>
<p>Fixed a race condition in the .NET API which could cause crashes or deadlocks when
calling LBMContext.close().</p>
</li>

<li>
<p>Fixed an issue in the .NET API caused by marshalling data between managed and native
code. Data was being lost after being passed down to native code, which lead to deadlocks
in very rare cases.</p>
</li>

<li>
<p>Fixed a very small memory leak (~40 bytes) when deleting an LBM context on <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span>. A mutex used
for MIM was not being freed.</p>
</li>

<li>
<p>Reverted LBMTimer.cancel() method in Java API to take no arguments. An overload of the
<tt class="LITERAL">cancel()</tt> method which took a boolean argument was inadvertently
added in <b class="APPLICATION">LBM</b> 3.3.7 in place of the original method. This meant
that users of 3.3.7 had to call <tt class="LITERAL">LBMTimer.cancel(false)</tt> instead
of <tt class="LITERAL">LBMTimer.cancel()</tt>.</p>
</li>

<li>
<p>Added <b class="APPLICATION">LBM</b> log warnings when connection disconnects or
connection deletion occurs when data exists in the send queue.</p>
</li>

<li>
<p>Added the new LBM Configuration option, <a
href="../Config/transporttcpoperationoptions.html#RECEIVERTRANSPORTTCPACTIVITYMETHOD"
target="doccontent"><code class="PARAMETER">transport_tcp_activity_method</code></a> to support
the ability for receivers on TCP transports to use TCP keepalive support in the Operating
System for determining transport session liveness.</p>
</li>

<li>
<p>Corrected a problem with the LBM Gateway running on <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> that prevented
traffic from being sent across a filtering gateway.</p>
</li>

<li>
<p>Corrected a problem with Multicast Immediate Messaging (MIM) sends when the rate
limiter is exceeded so that it no longer indefinitely blocks.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.0.6" name="UME2.0.6">53.2. UME 2.0.6</a></h3>

<ul>
<li>
<p>No specific <b class="APPLICATION">UME</b> problems were discovered.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.7-UME2.0.5" name="SECLBM3.3.7-UME2.0.5">54. Release
LBM 3.3.7 / UME 2.0.5 - September 2008</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.3.7" name="LBM3.3.7">54.1. LBM 3.3.7</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Known Issue:</b> When using Event Queues with the Java API on
Mac OS X kernel 9.4, core dumps have occurred. Mac OS X kernel versions prior to 9.4 have
not produced this behavior. 29West is investigating this issue.</p>
</li>

<li>
<p>Removed source IP address from LBT-RU receiver filtering criteria to avoid message
loss caused by messages sent from the wrong interface.</p>
</li>

<li>
<p>Implemented mechanisms to preallocate a given number of SDM fields to improve
efficiency (Java and .NET).</p>
</li>

<li>
<p>Added context <a
href="../Config/requestnetworkoptions.html#CONTEXTREQUESTTCPBINDREQUESTPORT"
target="doccontent"><tt class="LITERAL">request_tcp_bind_request_port</tt></a> configuration
option to allow a context to be created that does not bind the request port. This option
can be used when Request/Response, Late Join, Unicast immediate reception, or <b
class="APPLICATION">UME</b> capabilities are not needed.</p>
</li>

<li>
<p>Fixed problem that prevented source advertisements from being sent after any sort of
advertising socket send error.</p>
</li>

<li>
<p>Allow the receiver <a
href="../Config/resolveroperationoptions.html#RECEIVERRESOLUTIONNUMBEROFSOURCESQUERYTHRESHOLD"
 target="doccontent"><tt class="LITERAL">resolution_number_of_sources_query_threshold</tt></a>
to be set to zero to effectively disable the sending of topic queries from a particular
receiver.</p>
</li>

<li>
<p>Added Java and .NET <tt class="LITERAL">LBMContext.scheduleTimer()</tt> methods that
hold a reference to the LBMTimer object by the LBMContext to ensure that the LBMTimer
object does not get garbage-collected prior to expiration.</p>
</li>

<li>
<p>Provided new application callback function for wildcard receivers that will be called
when the messaging framework discovers a source publishing on a topic matching a
receiver's wildcard pattern. This functionality also supports application logic to
configure attributes specific to the underlying new receiver object for that topic.</p>
</li>

<li>
<p>Removed <tt class="LITERAL">lbmcssdm.dll</tt> dependency on <tt
class="LITERAL">lbmcs.dll</tt>.</p>
</li>

<li>
<p>Created LBMSDM jar containing only SDM classes.</p>
</li>

<li>
<p>Added <tt class="LITERAL">LBMReceiver.receiverCount()</tt> method to return the number
of callbacks registered to a given receiver.</p>
</li>

<li>
<p>Added <tt class="LITERAL">LBMSDMRawTimestamp.get_sec()</tt> and <tt
class="LITERAL">.get_usec</tt> methods to .NET and Java SDM.</p>
</li>

<li>
<p>Fixed looping condition caused by internal recursive use of SDM <tt
class="LITERAL">LBMSDMArrayMessage.get_len()</tt> method.</p>
</li>

<li>
<p>Implemented <tt class="LITERAL">delivery_control_maximum_total_map_entries</tt>
attribute to limit the amount of memory utilized by the receiver delivery controller.
This was left undone by reimplementation of the receiver delivery controller in a prior
release.</p>
</li>

<li>
<p>Fixed <tt class="LITERAL">NullReferenceException</tt> that occurs when .NET <tt
class="LITERAL">LBMMessage.topicName()</tt> or <tt
class="LITERAL">LBMMessage.source()</tt> called in EOS handling code.</p>
</li>

<li>
<p>Fixed /dev/poll usage problem which causes a fatal assertion:
"[fdm-&#62;devpoll_last_result&#62;=0] at line 2121 in
../../../../src/lib/lbm/lbmfds.c"</p>
</li>

<li>
<p>Fixed <tt class="LITERAL">transport_[lbtrm | lbtru]_source_socket_buffer</tt>
implementation to pick-up OS default if OS default is larger (as documented).</p>
</li>

<li>
<p>Fixed problem related to copying of SDM blobs (Java and .NET only).</p>
</li>

<li>
<p>Improved performance of Java and .NET SDM string handling.</p>
</li>

<li>
<p>Implemented additional debug facility to use LBM_DEBUG_ASSERTFILE environment variable
to direct dump of in-core debug data after fatal assertion.</p>
</li>

<li>
<p>Fixed formatting of Uint64 (Java) and float/double (.NET) SDM fields.</p>
</li>

<li>
<p>Fixed cloning of SDM message arrays (Java and .NET only)</p>
</li>

<li>
<p>Fixed <tt class="LITERAL">LBM.SRC_EVENT_WAKEUP</tt> under Java which was previously
not being delivered after an LBMEWouldBlockException.</p>
</li>

<li>
<p>Fixed handling of large numbers of transports sessions to avoid segmentation
fault.</p>
</li>

<li>
<p>Provided additional synchronization to avoid unexpected exception related to the use
of an Event Queue with Java and .NET string caching (problem originated in <b
class="APPLICATION">LBM</b> 3.3.6).</p>
</li>

<li>
<p>Prevented bogus topic query from being emitted from .NET wildcard receivers even when
wildcard topic queries are disabled (problem originated in <b class="APPLICATION">LBM</b>
3.3.6)</p>
</li>

<li>
<p>When registering a file descriptor using epoll, previous releases would fatally assert
with the message: <tt class="LITERAL">fatal assertion (epoll_err==0) line 1034 lbmfds.c
in function lbm_fd_register</tt> whenever an error was returned. This has been changed to
either print a log message when epoll returns EBADF (Tried to register a bad file
descriptor) or ENOENT (Tried to perform an operation on a socket that is already closed).
All other error types will still fatally assert.</p>
</li>

<li>
<p>Fixed two memory leaks that occurred during context deletion. The first leak was 72
bytes and occurred after deleting a context that had been used with an <b
class="APPLICATION">LBM</b> source. The second leak varied in size depending on the
topics cached by the context. It occurred after a receiver was deleted and then the
associated context was deleted before the current <a
href="../Config/resolveroperationoptions.html#CONTEXTRESOLVERQUERYINTERVA"
target="doccontent"><tt class="LITERAL">resolver_query_interval</tt></a> had expired.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="UME2.0.5" name="UME2.0.5">54.2. UME 2.0.5</a></h3>

<ul>
<li>
<p>Added support for <b class="APPLICATION">UME</b> store daemon on Solaris 5.10.</p>
</li>

<li>
<p>Fixed a problem with source re-registration that caused the source to start sending
with the wrong sequence number. This problem occurred when a source had not sent any data
before it re-registered with the store. The source misinterpreted the registration
information it received from the store and did not start sending with sequence number
zero. Receivers would appear deaf during long <a
href="../Config/latejoinoptions.html#RECEIVERRETRANSMITREQUESTGENERATIONINTERVAL"
target="doccontent"><tt class="LITERAL">retransmit request generation intervals</tt></a>
waiting for sequence number zero.</p>
</li>

<li>
<p>Corrected a problem that prevented the Solaris UME store from cleaning up cache and
state files for inactive sources and receivers due to failed TCP keepalive connections
from the Solaris UME store to clients.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.6-UME2.0.4" name="SECLBM3.3.6-UME2.0.4">55. Release
LBM 3.3.6 / UME 2.0.4 - August 2008</a></h2>

<ul>
<li>
<p><b class="APPLICATION">Known Issue:</b> When using Event Queues with the Java API on
Mac OS X kernel 9.4, core dumps have occurred. Mac OS X kernel versions prior to 9.4 have
not produced this behavior. 29West is investigating this issue.</p>
</li>

<li>
<p>Added LBMMessage class source and topic string caching to improve memory utilization
dynamics (.NET and Java).</p>
</li>

<li>
<p>Added new extended Hot Failover send capability in order to receive sequence number
information to C, .NET, and Java APIs.</p>
</li>

<li>
<p>Fixed memory corruption problem related to the use of <tt class="LITERAL">select</tt>
file descriptor management when registering a large number of file descriptors at the
same time.</p>
</li>

<li>
<p>Simplified LBMMessage creation within the Java API layer to avoid holding a reference
to a C layer message for certain message types (e.g., requests).</p>
</li>

<li>
<p>Fixed Java API access violation exception that appeared when performing a send using
an LBMSourceSendExInfo object without setting the client object information.</p>
</li>

<li>
<p>Fixed segfault caused by using <tt class="LITERAL">lbmsdm_msg_clear()</tt>.</p>
</li>

<li>
<p>Fixed <tt class="LITERAL">lbm_fd_cancel</tt> processing of file descriptors managed by
<tt class="LITERAL">epoll</tt> to avoid fatal assertion.</p>
</li>

<li>
<p>Implemented .NET string caching.</p>
</li>

<li>
<p>Implemented .NET data marshalling performance enhancements.</p>
</li>

<li>
<p>Added error messages to <tt class="LITERAL">lbmrd</tt> that indicate certain
configuration file errors.</p>
</li>

<li>
<p>The .NET API now allows the reuse of LBMSourceSendExInfo.</p>
</li>

<li>
<p>Cleaned-up the <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span> build to ensure that the <tt
class="LITERAL">lbm.dll</tt> has dependencies on only one Microsoft runtime DLL to avoid
problems caused by attempting to use different memory heaps.</p>
</li>

<li>
<p>Made the maximum datagram size configurable. See <a
href="../Config/majoroptions.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE" target="doccontent"><tt
class="LITERAL">context transport_datagram_max_size</tt></a>.</p>
</li>

<li>
<p>&#13;</p>
</li>

<li>
<p>Fixed Gateway fatal assertion (<tt
class="LITERAL">[Source-&#62;topic-&#62;source!=NULL] at line 769 in
../../../../src/lbmgwd/lbmgwod.c</tt>) resulting from an attempt to use the outbound side
before it is completely initialized.</p>
</li>

<li>
<p>Prevent premature garbage collection of LBMTimer .NET objects.</p>
</li>

<li>
<p>Fixed problem causing sources to advertise topics in response to a non-matching
wildcard query.</p>
</li>

<li>
<p>Fixed condition causing a fatal assertion (<tt class="LITERAL">[epoll_err==0] at line
1494 in ../../../../src/lib/lbm/lbmfds.c</tt>) when a source is deleted on a non-context
thread.</p>
</li>

<li>
<p>Fixed Java response support for topicless request messages.</p>
</li>

<li>
<p>Made the construction of SDM (Self Describing Messaging) name tree optional to allow
better performance.</p>
</li>

<li>
<p>Fixed SDM deserialization of nested messages.</p>
</li>

<li>
<p>Fixed .NET API structure alignment problem during <b class="APPLICATION">UME</b>
receiver registration that sometimes caused an <tt
class="LITERAL">ArgumentOutOfRangeException</tt>.</p>
</li>

<li>
<p>Receiver registrations are now ignored at the store until a topic resolution
advertisement has been received from the corresponding source. This avoids a window that
causes the receiver to request invalid retransmissions from the store.</p>
</li>

<li>
<p>Fixed receiver's incorrect handling of the retransmission request target for
round-robin store failover that manifests itself when a store fails during recovery of
that receiver.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.5-UME2.0.3" name="SECLBM3.3.5-UME2.0.3">56. Release
LBM 3.3.5 / UME 2.0.3 - June 2008</a></h2>

<ul>
<li>
<p>Fixed an exception caused when using .NET LBMReceiverAttributes.setRegistrationId()
callback on 64-bit <span class="TRADEMARK">Microsoft</span> <span
class="TRADEMARK">Windows</span>.</p>
</li>

<li>
<p>Fixed segfault related to Self Describing Messaging (SDM) that occurred when adding
message fields after calling <tt class="LITERAL">lbmsdm_msg_clear()</tt>.</p>
</li>

<li>
<p>Fixed <span class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span>
build to ensure that memory allocation/deallocation does not occur across DLL
boundaries.</p>
</li>

<li>
<p>Added the configuration option <tt class="LITERAL">context
transport_datagram_max_size</tt> to control the maximum datagram size generated by <b
class="APPLICATION">LBM</b>.</p>
</li>

<li>
<p>Fixed address exception problem caused by the use of <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span> Completion
Ports mapped to 64-bit addressable regions of memory.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.4-UME2.0.2" name="SECLBM3.3.4-UME2.0.2">57. Release
LBM 3.3.4 / UME 2.0.2 - April 2008</a></h2>

<ul>
<li>
<p>Fixed a struct alignment problem affecting only 64-bit .NET <b
class="APPLICATION">UME</b> receivers that could cause a <tt
class="LITERAL">System.ArgumentOutOfRangeException</tt> upon calling the set registration
ID callback.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.3-UME2.0.1" name="SECLBM3.3.3-UME2.0.1">58. Release
LBM 3.3.3 / UME 2.0.1 - April 2008</a></h2>

<ul>
<li>
<p><b class="APPLICATION">Known Issue:</b> Java receivers using ordered delivery and
experiencing excessive loss may run out of memory and fail if an adequate JVM heap size
is not used. For lossy receivers experiencing memory problems, maximum JVM heap size
should be increased.</p>
</li>

<li>
<p>Fixed a memory corruption problem that occurred when registering a large number of
file descriptors and using select as the <tt class="LITERAL">fd_management_type</tt>.</p>
</li>

<li>
<p>Removed the limitation of 64 receivers per source for the <b
class="APPLICATION">UME</b> store daemon.</p>
</li>

<li>
<p>Fixed a problem with the <b class="APPLICATION">LBM</b> timer normalization code that
caused occasional long processing delays for large microsecond parameter values.</p>
</li>

<li>
<p>Added <tt class="LITERAL">lbm_hf_src_send_ex()</tt> function to the C API and
corresponding LBMHotFailoverSource.send() method to the .NET API.</p>
</li>

<li>
<p>Fixed memory corruption problem on Windows UME store daemon caused by an uninitialized
variable.</p>
</li>

<li>
<p>Fixed a problem that prevented TSNI (Topic Sequence Number Information) from being
sent when the context's <tt class="LITERAL">resolver_active_threshold</tt> is set to
0.</p>
</li>

<li>
<p>UME store daemon's web monitor must now be explicitly configured in the store daemon's
XML Configuration File.</p>
</li>

<li>
<p>Added in-memory debug log capability which can be flushed with <tt
class="LITERAL">lbm_debug_dump</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.2-UME2.0.1" name="SECLBM3.3.2-UME2.0.1">59. Release
LBM 3.3.2 / UME 2.0 - March 2008</a></h2>

<ul>
<li>
<p>Changed Java layer to properly log warnings as warnings and not configuration
messages.</p>
</li>

<li>
<p>Changed Java layer to stop erroneously propagating error codes returned from
processEvents to the application.</p>
</li>

<li>
<p>Added the <tt class="LITERAL">retransmit_message_caching_proximity</tt> configuration
option to allow a receiver to control the caching of new messages during a Late Join or
<b class="APPLICATION">UME</b> recovery.</p>
</li>

<li>
<p>Fixed a segmentation fault that could occur if a TCP source is deleted while there is
data on the socket.</p>
</li>

<li>
<p>Corrected the permanent blocking of a sender if one of two receivers disconnected
while the source buffers were full.</p>
</li>

<li>
<p>Default value for the configuration option, <tt
class="LITERAL">transport_tcp_activity_timeout</tt>, was changed to zero. To use the
timer, you must configure the option with a value in milliseconds.</p>
</li>

<li>
<p>The default value for <tt class="LITERAL">mim_ordered_delivery</tt> has been changed
to 1, ordered delivery. Previously, the option defaulted to arrival order.</p>
</li>

<li>
<p>Switched from Soft References to Weak References in Java to clean up request messages
more efficiently.</p>
</li>

<li>
<p>Added support in the <b class="APPLICATION">LBM</b> Gateway for MIM
fragmentation/reassembly.</p>
</li>

<li>
<p>The <b class="APPLICATION">UME</b> source controller now uses the <tt
class="LITERAL">request_tcp_interface</tt> address as a Persistence Registration response
address if it is specified. Otherwise it uses the default multicast interface
address.</p>
</li>

<li>
<p>All system messages generated during system initialization are now routed to the
logging callback function.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3.1-UME2.0" name="SECLBM3.3.1-UME2.0">60. Release LBM
3.3.1 / UME 2.0 - February 2008</a></h2>

<p>See also <a href="#SECLBM3.3-UME2.0"><i>Release LBM 3.3 / UME 2.0 - February
2008</i></a>, <a href="#SECLBM3.3EA3-UME2.0EA2"><i>Release LBM 3.3EA3 / UME 2.0EA2
2008-1-11</i></a>, <a href="#SECLBM3.3EA2-UME2.0EA1"><i>Release LBM 3.3EA2 / UME 2.0EA1
2007-12-19</i></a> and <a href="#SEC3.3EA1"><i>Release LBM 3.3EA1 2007-11-15</i></a>.</p>

<ul>
<li>
<p>Fixed potential concurrent modification exception that may appear when adding certain
callbacks in .NET.</p>
</li>

<li>
<p>Reinstated previously deprecated constructors required for the proper specification of
LBMReceiver callbacks for durable subscribers and <b class="APPLICATION">LBM</b> Late
Joins.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3-UME2.0" name="SECLBM3.3-UME2.0">61. Release LBM 3.3
/ UME 2.0 - February 2008</a></h2>

<p>See also <a href="#SECLBM3.3EA3-UME2.0EA2"><i>Release LBM 3.3EA3 / UME 2.0EA2
2008-1-11</i></a>, <a href="#SECLBM3.3EA2-UME2.0EA1"><i>Release LBM 3.3EA2 / UME 2.0EA1
2007-12-19</i></a> and <a href="#SEC3.3EA1"><i>Release LBM 3.3EA1 2007-11-15</i></a>.</p>

<ul>
<li>
<p>Changed the default configuration settings for all 23 port configuration parameters in
LBM. Each port default was moved by 10,000. For example, mim_destination_port moved from
4401 to 14401. The <b class="APPLICATION">LBM</b> code will use the original locations
with the definition of the "LBM_USE_ORIG_DEFAULT_PORTS" environment variable (value not
pertinent).</p>
</li>

<li>
<p>Implemented Topic Sequence Number Information (TSNI) messages. These will be received
from LBTRM/LBTRU sources that have been idle for more than the <tt
class="LITERAL">transport_topic_sequence_number_info_interval</tt>. Older receivers won't
understand TSNI messages and will display the log message, "LOG Level 5: LBMC cntl
unknown next header 20, ignoring header". This may be safely ignored.</p>
</li>

<li>
<p>Added support for multiple <b class="APPLICATION">LBM</b> transport configuration
parameters to be set through the lbmmon API.</p>
</li>

<li>
<p>Added log message identifying the presence of multiple network interfaces before a
specific resolver interface has been specified.</p>
</li>

<li>
<p>Named all <b class="APPLICATION">LBM</b> data structs to support forward
declaration.</p>
</li>

<li>
<p>Added propagation of Java exceptions incurred during <b class="APPLICATION">LBM</b>
callbacks back to JVM as LBMApplication exceptions.</p>
</li>

<li>
<p>Changed <b class="APPLICATION">LBM</b> and <b class="APPLICATION">UME</b> to ignore
insignificant whitespace in XML-based configuration files.</p>
</li>

<li>
<p>Added file name and line number to memory allocation failure messages.</p>
</li>

<li>
<p>Added better detection of invalid <b class="APPLICATION">LBM</b> configuration
attribute names and values.</p>
</li>

<li>
<p>Changed <b class="APPLICATION">UME</b> to flag instances where a store is not seeing
topic advertisements from a source.</p>
</li>

<li>
<p>Fixed bug in Java and .NET SDM LBMSDMField.sameBaseType() method which always returned
true.</p>
</li>

<li>
<p>Removed the fatal assertion on invalid sequence number checkin <b
class="APPLICATION">UME</b> store that appeared when an unrecoverable loss burst message
is received.</p>
</li>

<li>
<p>Added failover optimization to <b class="APPLICATION">UME</b> store
initialization.</p>
</li>

<li>
<p>Fixed a race condition in the <b class="APPLICATION">UME</b> store with respect to
source deletion and pending AIOs that could cause a crash.</p>
</li>

<li>
<p>Added throttling of unrecoverable loss messages in the <b class="APPLICATION">UME</b>
store log.</p>
</li>
</ul>

<br />
<br />
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3EA3-UME2.0EA2" name="SECLBM3.3EA3-UME2.0EA2">62.
Release LBM 3.3EA3 / UME 2.0EA2 2008-1-11</a></h2>

<ul>
<li>
<p>Added the receiver configuration attribute (transport_lbtru_maximum_connect_attempts)
to enable LBT-RU receivers to detect and clean-up after detection of a dead source.</p>
</li>

<li>
<p>Added Topic Sequence Number Information messages to enable faster detection of loss
for intermittent senders.</p>
</li>

<li>
<p>Added use of shared sockets for LBT-RM receivers listening to different sessions using
the same multicast address and port.</p>
</li>

<li>
<p>Added gather send support to C API (lbm_src_send/lbm_src_send_ex).</p>
</li>

<li>
<p>Added optional session IDs to LBT-RU transports to better distinguish between
different LBT-RU sessions originating from the same source.</p>
</li>

<li>
<p>Changed receiver setup to ignore certain socket errors, preventing the receiver from
being created in an inconsistent state which can cause fatal assertion logic to appear
when the receiver is eventually deleted.</p>
</li>

<li>
<p>Fixed initialization of Java LBMReceiverStatistics and LBMSourceStatistics objects
originating from a monitoring callback.</p>
</li>

<li>
<p>Fixed calculation of LBT-RM source statistics transmission window size.</p>
</li>

<li>
<p>Fixed improper locking in receiver statistics retrieval code that under certain
circumstances could allow an assertion (*num&#62;=ctx-&#38;;num_rcv_demuxs) and/or
subsequent corruption problem.</p>
</li>

<li>
<p>Changed maximum topic name length to 246 bytes to avoid corruption problems with
multicast immediate messages.</p>
</li>

<li>
<p>Corrected reallocation of file descriptor map used in select file descriptor
management to avoid assert (mapentry-&#62;exceptcb!=NULL) and corruption.</p>
</li>

<li>
<p>Added <b class="APPLICATION">UME</b> store configuration attribute
(receiver-new-registration-rollback) to allow the store to better control late join
behavior for new receivers.</p>
</li>

<li>
<p>Increased minimum disk file limit for the <b class="APPLICATION">UME</b> store to
196992 bytes.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SECLBM3.3EA2-UME2.0EA1" name="SECLBM3.3EA2-UME2.0EA1">63.
Release LBM 3.3EA2 / UME 2.0EA1 2007-12-19</a></h2>

<ul>
<li>
<p>Fixed segmentation fault resulting from a previous change to minimize duplicate
recovery messages during a <b class="APPLICATION">UME</b> source restart.</p>
</li>

<li>
<p>Allow <b class="APPLICATION">UME</b> sources to re-register with store using different
topic.</p>
</li>

<li>
<p>Added ability for <b class="APPLICATION">UME</b> receivers to specify the message
sequence number with which to resume reception of data.</p>
</li>

<li>
<p>Added support for explicit <b class="APPLICATION">UME</b> ACKing instead of relying
upon <b class="APPLICATION">UME</b> to automatically ACK messages when they are
disposed.</p>
</li>

<li>
<p>Fixed condition that caused the "[num_rcvs==src_state-&#62;num_rcvs]" warning
assertion in stored/umestate.c</p>
</li>

<li>
<p>Modified <b class="APPLICATION">UME</b> to continue normal processing after catching
EIO error that caused the following warning: "[WARNING]: handle events returned error 5
[umestore_state_new_rcv msync: (5) Input/output error]". <b class="APPLICATION">UME</b>
prints a log message if the store is located on a network file system.</p>
</li>

<li>
<p>Fixed the condition that caused the "[src-&#62;repo!=NULL]" fatal assertion in
stored/umetopic.c during store source deletion.</p>
</li>

<li>
<p>Fixed a condition that prevented the reporting of stability notices to a <b
class="APPLICATION">UME</b> source from a secondary store (after failover).</p>
</li>

<li>
<p>Fixed a condition that prevented the reporting of stability notices after a <b
class="APPLICATION">UME</b> source is restarted.</p>
</li>

<li>
<p>Fixed a condition that prevented a store from performing late join when starting up,
which in turn, caused unrecoverable loss by the store.</p>
</li>

<li>
<p>Corrected logic that caused a segmentation fault during ACK cleanup on a <b
class="APPLICATION">UME</b> receiver.</p>
</li>

<li>
<p>Modified <b class="APPLICATION">UME</b> to set an error condition when a <b
class="APPLICATION">UME</b> source attempts to re-register a pre-existing registration ID
with a different topic.</p>
</li>

<li>
<p>Modified the <b class="APPLICATION">UME</b> store web monitor to avoid static buffer
restrictions based on the on size of response buffer.</p>
</li>

<li>
<p>Added <b class="APPLICATION">UME</b> store keepalives to proactively head-off source
re-registrations due to a seemingly unresponsive store during periods of unrecoverable
loss.</p>
</li>

<li>
<p>Fixed umesrc example code to handle sequence number 0 for reclamation callbacks.</p>
</li>

<li>
<p>Added optional setting for socket binds on Windows to prevent binding of in-use ports
on Windows.</p>
</li>

<li>
<p>Added the source configuration setting, ume_message_stability_notification, to allow
<b class="APPLICATION">UME</b> message stability notifications to be controlled
separately from confirmed delivery notification.</p>
</li>

<li>
<p>Added <b class="APPLICATION">UME</b> configuration options to control how <b
class="APPLICATION">UME</b> sources and receivers select sequence numbers on
start-up.</p>
</li>

<li>
<p>Replaced <b class="APPLICATION">UME</b> store and late join source hash tables with
Alternating Skip Lists to avoid the need to configure table sizes.</p>
</li>

<li>
<p>Added <b class="APPLICATION">UME</b> configuration control to allow store to associate
CRC checksums with stored messages.</p>
</li>

<li>
<p>Fixed lbmsdm.h to support changing a field type.</p>
</li>

<li>
<p>Established better handling of messages to minimize latency when messages are dropped
due to send buffer overflow.</p>
</li>

<li>
<p>Modified <b class="APPLICATION">UME</b> to send ACKs directly to <b
class="APPLICATION">UME</b> sources when the <b class="APPLICATION">UME</b> 2.0 store is
in use.</p>
</li>

<li>
<p>Changed <b class="APPLICATION">UME</b> to persist receiver location information within
<b class="APPLICATION">UME</b> store to avoid deleting quiescent receivers.</p>
</li>

<li>
<p>Fixed <b class="APPLICATION">UME</b> store web monitor to properly update after a
source restarts.</p>
</li>

<li>
<p>Ported the <b class="APPLICATION">UME</b> store daemon to run on <span
class="TRADEMARK">Microsoft</span> <span class="TRADEMARK">Windows</span>.</p>
</li>

<li>
<p>Fixed txw_msgs field in the LBT-RM source statistics set to correctly represent the
number of messages in the transmission window. Also fixed bytes_rcved field in the LBT-RM
and LBT-RU statistics to be consistent with the source statistics (which includes the
header size).</p>
</li>

<li>
<p>Modified LBN to interpret a zero (0) setting of transport_lbtrm_receiver_socket_buffer
to indicate the use of the system default.</p>
</li>

<li>
<p>Improved the efficiency of source deletion.</p>
</li>

<li>
<p>Named all <b class="APPLICATION">LBM</b> external structs to allow pre-declaration of
<b class="APPLICATION">LBM</b> structures.</p>
</li>

<li>
<p>Added Hot Failover configuration setting to allow applications to receive (flagged)
duplicate messages.</p>
</li>

<li>
<p>Added a message field containing a source identifying token that can be set by the
application for each new source and used for more efficient message dispatching.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC1.2.1" name="SEC1.2.1">64. Release LBM 3.2.3 / UME 1.2.1
2007-11-27</a></h2>

<ul>
<li>
<p>Corrected improper locking of the Retransmission Queue which caused the following
assertion in lbtrm_txw_purge_rdata(): [bvec!=NULL] at line 245 in
../../../../src/lib/lbm/lbtrm/lbtrmtxw.c</p>
</li>

<li>
<p>Corrected logic in .NET LBMMessage class to prevent calling underlying C message
deletion function with NULL pointer.</p>
</li>

<li>
<p>Corrected problem with the premature deletion of the socket support in a context
thread that caused the following assertion [1e40:1f98|2140.696]:failed assertion
[lookup_mapentry!=NULL] at line 2330 in lbm\lbmfds.c</p>
</li>

<li>
<p>Corrected problem with sources using Windows completion ports and sending low message
counts over TCP that caused the source to hang and restart after receivers are
stopped.</p>
</li>

<li>
<p>Corrected condition that prevented receivers from getting messages due to TCP
connections closing without proper end of session activity.</p>
</li>

<li>
<p>Fixed logic that prevented a <b class="APPLICATION">UME</b> receiver configured with
late_join set to 1 and ume_store set to 0 from requesting initial retransmissions.</p>
</li>

<li>
<p>Corrected problem with the handling of disallowed topics in the <b
class="APPLICATION">LBM</b> Gateway using filter mode.</p>
</li>

<li>
<p>Fixed problem with <b class="APPLICATION">LBM</b> Gateway monitoring that resulted in
empty application-ID field.</p>
</li>

<li>
<p>Addressed multiple restart issues by changing the initial topic index value to a
random value for TCP, LBT-RM, and LBT-RU. For TCP and LBT-RU, the initial value is random
at context creation. For LBT-RM, each initial transport creation uses a random value.</p>
</li>

<li>
<p>Addressed thread safety issue by synchronizing access to callback lists within the
.NET API.</p>
</li>

<li>
<p>Corrected problems with duplicate sources for the same topic on either side of the <b
class="APPLICATION">LBM</b> Gateway which resulted in inaccurate topic state information
after receivers are stopped. The Gateway will now ignore Leave Topic messages for topics
that do not have a proxy source.</p>
</li>

<li>
<p>Added a notification from lbm_context_delete to the context thread to prevent an
unnecessary 500ms delay when no events are occurring on the context that is being
deleted.</p>
</li>

<li>
<p>Corrected problems with non-blocking TCP connections on Solaris that caused either
message loss or the following assertion: FATAL: failed assertion [dmux!=NULL] at line
1083 in ../../../../src/lib/lbm/lbmrcv.c.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.3EA1" name="SEC3.3EA1">65. Release LBM 3.3EA1
2007-11-15</a></h2>

<ul>
<li>
<p>Corrected improper locking of the Retransmission Queue which caused the following
assertion in lbtrm_txw_purge_rdata(): [bvec!=NULL] at line 245 in
../../../../src/lib/lbm/lbtrm/lbtrmtxw.c</p>
</li>

<li>
<p>Corrected problem with the premature deletion of the socket support in a context
thread that caused the following assertion [1e40:1f98|2140.696]:failed assertion
[lookup_mapentry!=NULL] at line 2330 in lbm\lbmfds.c</p>
</li>

<li>
<p>Corrected problem with sources using Windows completion ports and sending low message
counts over TCP that caused the source to hang and restart after receivers are
stopped.</p>
</li>

<li>
<p>Corrected condition that prevented receivers from getting messages due to TCP
connections closing without proper end of session activity.</p>
</li>

<li>
<p>Ensure that C API functions do set return object pointer until corresponding object
has been completely created.</p>
</li>

<li>
<p>Added debug flag to log a message every time an <b class="APPLICATION">LBM</b> API
function is called.</p>
</li>

<li>
<p>Added the logging of gateway (lbmgwd) configuration data once the configuration has
been processed, but prior to the start of inbound and outbound components.</p>
</li>

<li>
<p>Add generation count to timer IDs to prevent accidental cancellation of a timer that
has already expired.</p>
</li>

<li>
<p>Improve efficiency of timer cancellation to avoid searching for a timer on an event
queue if the timer has not yet expired.</p>
</li>

<li>
<p>Fixed problem with SDM that prevented the re-addition of fields to the name tree by
ensuring the deletion of field entries from the name tree after removal.</p>
</li>

<li>
<p>Added lbm_debug_mask() and lbm_debug_filename() to the <b class="APPLICATION">LBM</b>
API which allows an application to initialize the debug settings that previously could
only be set via environmental variables.</p>
</li>

<li>
<p>Corrected problem with the handling of disallowed topics in the <b
class="APPLICATION">LBM</b> Gateway using filter mode.</p>
</li>

<li>
<p>Fixed problem with <b class="APPLICATION">LBM</b> Gateway monitoring that resulted in
empty application-ID field.</p>
</li>

<li>
<p>Added support for recurring timers with new API function,
lbm_schedule_timer_recurring().</p>
</li>

<li>
<p>Corrected denial of service problems as the result of receiving unusual messages sent
to the topic resolution multicast group.</p>
</li>

<li>
<p>Addressed multiple restart issues by changing the initial topic index value to a
random value for TCP, LBT-RM, and LBT-RU. For TCP and LBT-RU, the initial value is random
at context creation. For LBT-RM, each initial transport creation uses a random value.</p>
</li>

<li>
<p>Addressed thread safety issue by synchronizing access to callback lists within the
.NET API.</p>
</li>

<li>
<p>Corrected problems with duplicate sources for the same topic on either side of the <b
class="APPLICATION">LBM</b> Gateway which resulted in inaccurate topic state information
after receivers are stopped. The Gateway will now ignore Leave Topic messages for topics
that do not have a proxy source.</p>
</li>

<li>
<p>Corrected problem with calls to lbm_errmsg() and lbm_errnum() that produced error
messages consisting of the text "no error". Uninitialized error strings will now display
"no error message set".</p>
</li>

<li>
<p>Added a notification from lbm_context_delete to the context thread to prevent an
unnecessary 500ms delay when no events are occurring on the context that is being
deleted.</p>
</li>

<li>
<p>Added support for Late Join in <b class="APPLICATION">LBM</b> independent of UME.</p>
</li>

<li>
<p>Corrected problems with non-blocking TCP connections on Solaris that caused either
message loss or the following assertion: FATAL: failed assertion [dmux!=NULL] at line
1083 in ../../../../src/lib/lbm/lbmrcv.c.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC1.2.1EA1" name="SEC1.2.1EA1">66. Release UME 1.2.1EA1
2007-10-30</a></h2>

<ul>
<li>
<p>Addressed multiple restart issues by changing the initial topic index value to a
random value for TCP, LBT-RM, and LBT-RU. For TCP and LBT-RU, the initial value is random
at context creation. For LBT-RM, each initial transport creation uses a random value.</p>
</li>

<li>
<p>Improved efficiency of large <b class="APPLICATION">UME</b> recovery windows with a
redesign of the receiver delivery controller.</p>
</li>

<li>
<p>Fixed a condition where sources restart during a long <b class="APPLICATION">UME</b>
recovery with LBT-RM by deleting duplicate Registration IDs from previous transport
sessions before they can be used for new sessions.</p>
</li>

<li>
<p>Modified umestore to set Initial Sequence Numbers only if no topic resolution
information exists which addresses random store failures. Also fixed the display of the
store index for updated stores on the receivers.</p>
</li>

<li>
<p>Turn resolver caching off for <b class="APPLICATION">UME</b> store to stop assertion
caused by maintaining previous transport information. The assertion was:
[MUL_SQN_GTE(sqn,ctlr-&#62;order.expected_sqn)] at line 581 in
../../../src/lib/lbm/lbmrcvdc.c.</p>
</li>

<li>
<p>Added check to print warning when retention_size_limit for Late Join and <b
class="APPLICATION">UME</b> is less than the maximum message size (64KB) and ensure that
at least one message is retained in either place in this situation.</p>
</li>

<li>
<p>Adjust 90% computational logic for checking the size of the repository-size-limit
relative to repository-disk-file-size-limit to avoid false failure indications.</p>
</li>

<li>
<p>Fixed condition where <b class="APPLICATION">UME</b> restarted receivers may ignore
the registration ID callback and use 0 as the requested registration ID.</p>
</li>

<li>
<p>Fixed order of operations in handling re-registrations in store to avoid spurious
"PREG received for unknown source/receiver" warnings.</p>
</li>

<li>
<p>Fixed condition where a retransmission prematurely turns off generation of more
retransmissions, causing <b class="APPLICATION">UME</b> receivers not finished with
retransmissions to experience unrecoverable loss.</p>
</li>

<li>
<p>Changed Hot Failover event processing to pass through important events previously
being ignored (e.g., registration status).</p>
</li>

<li>
<p>Corrected blocked sender recovery logic in umesrc example so that it passes the
callback object needed for proper handling of stability notices.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.2.2" name="SEC3.2.2">67. Release LBM 3.2.2
2007-10-08</a></h2>

<ul>
<li>
<p>Fixed handling of TCP connection refused errors on Solaris in rare circumstances when
TCP sources were deleted before corresponding receivers</p>
</li>

<li>
<p>Corrected logic in context deletion code to avoid unnecessary 500 millisecond
delay</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC1.2" name="SEC1.2">68. Release LBM 3.2.1 / UME 1.2
2007-09-06</a></h2>

<ul>
<li>
<p>Allowed greater than 30 minute <b class="APPLICATION">UME</b> activity timeout for <b
class="APPLICATION">UME</b> stores running on 32-bit machines, in order to prevent the
overflow of a time variable that would cause source and receiver state to be cleaned up
prematurely by the store daemon.</p>
</li>

<li>
<p>Added support for ume_retransmit_request_outstanding_maximum configuration setting, to
control the number of outstanding retransmission requests at any one time.</p>
</li>

<li>
<p>Prevent crash of <b class="APPLICATION">UME</b> store daemon, caused by reception of
web monitor requests greater than 1024 bytes in length.</p>
</li>

<li>
<p>Added support for detecting connection failures on Windows clients, so that sources
and receivers can reconnect properly to restarted <b class="APPLICATION">UME</b>
store.</p>
</li>

<li>
<p>Added work-around to Windows problem that prevents a registration ID of 0 from being
converted into a unique registration ID.</p>
</li>

<li>
<p>Added suppression of logging superfluous <b class="APPLICATION">UME</b> keep alive
messages for unknown <b class="APPLICATION">UME</b> sources and receivers.</p>
</li>

<li>
<p>Added -m (message rate) and -f (unstabilized message backlog) options to umesrc to
enable better rate control for umesrc.</p>
</li>

<li>
<p>Fixed duplicate ACK condition, resulting when <b class="APPLICATION">UME</b> receivers
receive fragmented messages, by properly clearing the umeack information in the
individual fragments before deleting the messages.</p>
</li>

<li>
<p>Fixed EOP exception condition caused by trying to retrieve java
LBMSourceStatistics.</p>
</li>

<li>
<p>Fixed condition that causes Windows to crash when debugging is enabled on 64-bit CPUs
running 32-bit binaries.</p>
</li>

<li>
<p>Fixed condition that prevented C++ example program from compiling.</p>
</li>

<li>
<p>Fixed umesrc -S command line option to accept hostnames that are not fully
qualified.</p>
</li>

<li>
<p>Provided workaround that prevented umestored aborts by adding a check to the
configuration file to not allow the asynchronous store write buffer length to be set to
less than the largest fragment.</p>
</li>

<li>
<p>Added check to umestored config at startup, to make sure that 90% of
repository-disk-file-size-limit is greater than or equal to repository-size-limit, so
that a fatal assert condition is avoided. If the check passes, then startup and normal
operation continue. If it fails, then startup is aborted, the daemon will not start, and
an error is logged.</p>
</li>

<li>
<p>Fixed the LBMWildcardReceiver.close method (Java) so that it deletes the underlying
native wildcard receiver.</p>
</li>

<li>
<p>Fixed SDM condition in which adding a field with the same name as a deleted field
fails. When deleting a field from a message, also delete the field name entry from the
name lookup tree.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.2" name="SEC3.2">69. Release LBM 3.2 2007-08-27</a></h2>

<ul>
<li>
<p>The <b class="APPLICATION">LBM</b> Gateway allows you to configure the use of blocking
or non-blocking sends on the outbound direct side. The default is to use non-blocking
sends. If a send blocks when using non-blocking sends, the message is dropped and the
receiver is notified of loss; the notifying mechanism is the same one that notifies when
a message exceeds the inbound Event Queue size or delay parameters.</p>
</li>

<li>
<p>Avoid an array underflow that occurs when empty lines are encountered in configuration
files.</p>
</li>

<li>
<p>Fixed header parsing to prevent spurious messages, sent to an <b
class="APPLICATION">LBM</b>/<b class="APPLICATION">UME</b> port, from forcing <b
class="APPLICATION">LBM</b>/<b class="APPLICATION">UME</b> into an infinite loop.</p>
</li>

<li>
<p>Fixed problem to prevent crash that occurs when debug logging is enabled on 64-bit
Windows systems running 32-bit binaries.</p>
</li>

<li>
<p>Added support for the response_tcp_interface context configuration attribute to
specify TCP interface for outgoing response connections. Allow non-multicast capable
interfaces (e.g., loopback) to be accepted by request_tcp_interface.</p>
</li>

<li>
<p>Added the number of the failed port to bind-failure log messages.</p>
</li>

<li>
<p>Fixed the condition where a receiver using arrival order delivery always drops the
first message, if it is a fragment.</p>
</li>

<li>
<p>Corrected condition that could cause a fatal assertion (fdm-&#62;poll_fds!=NULL) when
fd_management_type is set to 'poll'.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.2EA2" name="SEC3.2EA2">70. Release LBM 3.2ea2
2007-07-19</a></h2>

<ul>
<li>
<p>A number of internal changes to the <b class="APPLICATION">LBM</b> Gateway to better
handle synchronization between the inbound and outbound sides, as well as reduce memory
utilization.</p>
</li>

<li>
<p>Changes to Windows completion ports to improve send performance. Also fixes potential
heap corruption when receivers are deleted.</p>
</li>

<li>
<p>Added config options <code
class="PARAMETER">transport_lbtrm_source_socket_buffer</code> and <code
class="PARAMETER">transport_lbtru_source_socket_buffer</code>. Set default values to
65536 or OS default, whichever is larger. This has the effect of improving Windows send
performance.</p>
</li>

<li>
<p>Added Windows support to the Gateway.</p>
</li>

<li>
<p>Corrected the implementation of -q with Java and C#.</p>
</li>

<li>
<p>Corrected the statistics omission from usage message on .NET (lbm).</p>
</li>

<li>
<p>Improved Completion Ports (send &#38; receive).</p>
</li>

<li>
<p>Added a -s (statistics) option to the Java version of umercv.</p>
</li>

<li>
<p>Added Gateway to Solaris binary packaging.</p>
</li>

<li>
<p>Fixed cleanup of callback token at JNI.</p>
</li>

<li>
<p>Fixed the condition that crashed LBM, occurring when the same topic is allocated on
separate threads and one thread creates and deletes its receiver before the second thread
creates its receiver.</p>
</li>

<li>
<p>Fixed condition where <b class="APPLICATION">LBM</b> allows corruption if more than
1024 FD's registered.</p>
</li>

<li>
<p>Fixed condition where Gateway prints "topic mgmt packet invalid version" and ceases to
function.</p>
</li>

<li>
<p>Fixed condition where Gateway dumps core in mixed-receiver direct scenario.</p>
</li>

<li>
<p>Fixed failed assertion [sock-&#62;rcv_maxlen==maxlen] in Gateway.</p>
</li>

<li>
<p>Fixed problem so that Gateway explicitly sets the context operational_mode.</p>
</li>

<li>
<p>Fixed a memory leak in the Gateway that occurred when large numbers of receivers were
present.</p>
</li>

<li>
<p>Fixed numerous problems in the Gateway that occurred when large numbers of receivers
were present.</p>
</li>

<li>
<p>Fixed an incorrect error message that could cause the Gateway to crash if debugging
was on.</p>
</li>

<li>
<p>Provided a fix that prevents spurious messages sent to an <b
class="APPLICATION">LBM</b> port from throwing <b class="APPLICATION">LBM</b> into an
infinite loop.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.2EA1" name="SEC3.2EA1">71. Release LBM 3.2ea1
2007-06-15</a></h2>

<ul>
<li>
<p>Added Self-Describing Message C API.</p>
</li>

<li>
<p>Added HyperTopic receiver C API.</p>
</li>

<li>
<p>Added serialized response handle C API functions.</p>
</li>

<li>
<p>Added Gateway support for Solaris.</p>
</li>

<li>
<p>Added a debug flag to log all <b class="APPLICATION">LBM</b> API function calls.</p>
</li>

<li>
<p>Added a configuration debug flag to the Gateway (lbmgwd).</p>
</li>

<li>
<p>Fixed the Java LBMSourceStatistics retrieval process so that it does not throw an EOP
exception.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.1" name="SEC3.1">72. Release LBM 3.1 / UME 1.1
2007-06-05</a></h2>

<ul>
<li>
<p>Fix Java LBMSourceStatistics which was broken in previous release.</p>
</li>

<li>
<p>Fix Java LBMSourceStatistics/LBMReceiverStatistics.refresh() memory leak.</p>
</li>

<li>
<p>Improve handling of initial unrecoverable loss to prevent CPU spiking of <b
class="APPLICATION">UME</b> store on startup.</p>
</li>

<li>
<p>Fix offset calculation when reading in cache to prevent cache corruption on 64-bit
machines.</p>
</li>

<li>
<p>Add StoreID to <b class="APPLICATION">LBM</b> channel protocol to allow source to
recognize keepalives coming from the wrong store, thus masking a "dead" store with which
the source is currently registered.</p>
</li>

<li>
<p>Initialize <b class="APPLICATION">UME</b> store disk_len parameter to avoid fatal
assertion occurring when a retransmission is requested for a message stored on the
disk.</p>
</li>

<li>
<p>Ignore retransmission requests for unrecoverably lost messages.</p>
</li>

<li>
<p>Force topic resolution traffic to be ignored until the <b class="APPLICATION">UME</b>
store is ready to accept connections to avoid potential problems with inconsistent state
resulting in a crash.</p>
</li>

<li>
<p>Fix handling of the lead sequence number by no-cache <b class="APPLICATION">UME</b>
store and for handling of sequence numbers by receivers for late join when a no-cache
store is being used.</p>
</li>

<li>
<p>Corrected a problem caused by fragmented (larger than 64K) response messages in which
some internal fields of the message were not properly set, leading to a potential crash
in certain circumstances.</p>
</li>

<li>
<p>Added check of kernel version to <b class="APPLICATION">UME</b> stored on Linux,
logging a warning if the kernel version is &#60; 2.6.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.1EA1" name="SEC3.1EA1">73. Release LBM 3.1 / UME 1.1ea1
2007-04-20</a></h2>

<ul>
<li>
<p>Fix <b class="APPLICATION">UME</b> store so that it requests the correct sequence
number range from the source (store failover operation).</p>
</li>

<li>
<p>Fix <b class="APPLICATION">UME</b> store daemon to be able to handle retransmission
requests for messages retained on disk.</p>
</li>

<li>
<p>Modify check for minimum size read when reading store cache files to work correctly on
64-bit OS to prevent segfault of <b class="APPLICATION">UME</b> store daemon and loss of
persisted content.</p>
</li>

<li>
<p>Modified setting of lead sequence number when reconnecting to <b
class="APPLICATION">UME</b> store to avoid various bad behaviors, e.g., unchecked store
memory growth, loss of persistence, unreclaimed source memory.</p>
</li>

<li>
<p>Add check to prevent receiver from registering the same ID across multiple registered
sources and change example <b class="APPLICATION">UME</b> receiver to assign its
registration ID as an offset from the corresponding source ID.</p>
</li>

<li>
<p>Reset timer id inside of LBMTimer callback so that subsequent calls to the <code
class="FUNCTION">cancel()</code> method do not inadvertently cancel the wrong timer.</p>
</li>

<li>
<p>Prevent wrong type of LBMTopic object from being passed to LBMSource, LBMReceiver, or
LBMWildcardReceiver constructors.</p>
</li>

<li>
<p>Prevent crash if <code class="FUNCTION">data()</code> method called for the first time
outside of the C# LBMReceiver callback.</p>
</li>

<li>
<p>Add support for ordered delivery and fragmentation/reassembly to MIM.</p>
</li>

<li>
<p>Added serialization of response information.</p>
</li>

<li>
<p>Added Self-Describing Message C API.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.0" name="SEC3.0">74. Release LBM 3.0 / UME 1.0
2007-02-16</a></h2>

<ul>
<li>
<p>Added <code class="PARAMETER">ume_retransmit_request_maximum</code> configuration
option</p>
</li>

<li>
<p>Added <code class="FUNCTION">lbm_src_send_ex()</code> API function</p>
</li>

<li>
<p>Added support for <b class="APPLICATION">LBM</b> Gateway Daemon (lbmgwd) on Linux</p>
</li>

<li>
<p>Modified deletion of unresolved wildcard receivers; deletion will not take place if a
single-topic receiver exists with a topic matching the wildcard receiver's topic
pattern.</p>
</li>

<li>
<p>Added synchronization to LBT-RM and LBT-RU timer function to handle the end of the NAK
ignore interval, to protect against transmission window updates.</p>
</li>

<li>
<p>Added support for LBM_SRC_EVENT_MESSAGE_RECLAIMED source event.</p>
</li>

<li>
<p>Update <code class="FUNCTION">lbm_context_retrieve_src_transport_stats_ex()</code> and
<code class="FUNCTION">lbm_context_retrieve_rcv_transport_stats_ex()</code> to return a
value in *num parameter if the original value was too small making these functions
semantically compatible with <code
class="FUNCTION">lbm_rcv_retrieve_all_transport_stats_ex()</code>.</p>
</li>

<li>
<p>Fix problem with store daemon that would cause it to crash on 64-bit Linux after being
shutdown and restarted.</p>
</li>

<li>
<p>Add Hot Failover support to Java and .NET APIs.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.0EA2" name="SEC3.0EA2">75. Release LBM 3.0ea2 / UME
1.0ea2 2006-11-16</a></h2>

<ul>
<li>
<p>Added <code class="PARAMETER">request_tcp_interface</code> configuration option</p>
</li>

<li>
<p>Added option to enable setting of interface for individual <b
class="APPLICATION">UME</b> stores in store daemon</p>
</li>

<li>
<p><b class="APPLICATION">UME</b> config option <code
class="PARAMETER">ume_retention_unique_acknowledgements</code> renamed <code
class="PARAMETER">ume_retention_unique_confirmations</code></p>
</li>

<li>
<p>Bug fix in <b class="APPLICATION">UME</b> store for recreation of receiver state from
data in disk repositories</p>
</li>

<li>
<p>Added a callback in <b class="APPLICATION">UME</b> sources invoked when forced
reclamation of retained messages occurs</p>
</li>

<li>
<p>Fixed assertion in <b class="APPLICATION">UME</b> store daemon thrown when a <b
class="APPLICATION">UME</b> source using a constant registration ID restarts</p>
</li>

<li>
<p>Bug fix in .NET API LBMTimer <code class="FUNCTION">cancel()</code></p>
</li>

<li>
<p>Bug fix for proper handling of immediate requests with long topic names on Solaris</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC3.0EA1" name="SEC3.0EA1">76. Release LBM 3.0ea1 / UME
1.0ea1 2006-09-29</a></h2>

<ul>
<li>
<p>Added <b class="APPLICATION">UME</b> source and receiver logic to <b
class="APPLICATION">LBM</b> libraries.</p>
</li>

<li>
<p>Added <b class="APPLICATION">UME</b> persistent store.</p>
</li>

<li>
<p>Now allow zero for <code class="PARAMETER">resolver_active_threshold</code> which
disables sources becoming inactive (forces indefinite advertisements).</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC2.3" name="SEC2.3">77. Series 2.3 Releases</a></h2>

<p>Key feature added in the 2.3 series releases:</p>

<ul>
<li>
<p>Statistics monitoring capability added to all APIs</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.3.10" name="REL2.3.10">77.1. Release 2.3.10
2007-01-17</a></h3>

<ul>
<li>
<p>Fix to avoid unnecessary scheduling of the LBT-RU/RM rate controller once the
retransmission rate limit has been reached.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.3.8" name="REL2.3.8">77.2. Release 2.3.8
2006-12-21</a></h3>

<ul>
<li>
<p>Added ABI support for future binary compatibility</p>
</li>

<li>
<p>Bug fix for object deletion in JNI interface routines</p>
</li>

<li>
<p>Bug fix in the setting of application IDs used in <b class="APPLICATION">LBM</b>
statistics monitoring</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.3.7" name="REL2.3.7">77.3. Release 2.3.7
2006-12-14</a></h3>

<ul>
<li>
<p>Added ABI support for future binary compatibility</p>
</li>

<li>
<p>Bug fix for object deletion in JNI interface routines</p>
</li>

<li>
<p>Bug fix in the setting of application IDs used in <b class="APPLICATION">LBM</b>
statistics monitoring</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.3.6EA1" name="REL2.3.6EA1">77.4. Release 2.3.6 EA1
2006-12-01</a></h3>

<ul>
<li>
<p>Bug fix for race condition in LBT-RU/LBT-RM rate controller</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.3.5" name="REL2.3.5">77.5. Release 2.3.5
2006-11-29</a></h3>

<ul>
<li>
<p>Bug fix to prevent session messages from backing up the lead sequence number to a
previous state</p>
</li>

<li>
<p>Bug fix for proper handling of immediate requests with long topic names on Solaris</p>
</li>

<li>
<p>Bug fix in <code class="FUNCTION">lbm_license_str()</code>; the input string is no
longer modified in place.</p>
</li>

<li>
<p>Added <code class="FUNCTION">dispose</code> method to LBMMessage class in the Java
API</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.3.4" name="REL2.3.4">77.6. Release 2.3.4
2006-10-30</a></h3>

<ul>
<li>
<p>Added Event Queue attribute <code
class="PARAMETER">queue_objects_purged_on_close</code> to control whether the Event Queue
is "purged" when various object types (source, receivers, requests, wildcard receivers,
timers) are closed</p>
</li>

<li>
<p>Bug fix of off-by-one check for NAK buffer overflow</p>
</li>

<li>
<p>.NET namespace changed to com.latencybusters.lbm</p>
</li>

<li>
<p>.NET assembly (lbmcs.dll) signed with unique strong name</p>
</li>

<li>
<p>Changed behavior of object-specific getopt functions <code
class="FUNCTION">lbm_src_getopt()/lbm_src_str_getopt()</code>, <code
class="FUNCTION">lbm_rcv_getopt()/lbm_rcv_str_getopt()</code>, and <code
class="FUNCTION">lbm_event_queue_getopt()/lbm_event_queue_str_getopt()</code> to return a
value for all options regardless of whether they are settable via the corresponding
setopt function</p>
</li>

<li>
<p>Added <b class="APPLICATION">LBM</b> version preprocessor definitions</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.3" name="REL2.3">77.7. Release 2.3 2006-08-04</a></h3>

<ul>
<li>
<p>Split liblbmj.so (lbmj.dll) from liblbm.so (lbm.dll)</p>
</li>

<li>
<p>Added statistics monitoring capability to C API</p>
</li>

<li>
<p>Added statistics monitoring capability to Java API</p>
</li>

<li>
<p>Added statistics monitoring capability to .NET API</p>
</li>

<li>
<p>Added <b class="APPLICATION">LBM</b> API functions to enable initialization of an <b
class="APPLICATION">LBM</b> license from a string or file.</p>
</li>

<li>
<p>Changed default value for <code class="PARAMETER">resolver_multicast_ttl</code> from 1
to 16</p>
</li>

<li>
<p>Added a signature to verifiable messages (-V option) generated by example source
programs, and checked for by example receiver programs. This prevents receivers, which
are expecting verifiable messages, from incorrectly flagging every message from a
non-verifiable message source as failing verification.</p>

<p>This change introduces an incompatibility (with regard to example programs using
verifiable messages only) with previous releases. Example programs from earlier releases
will not work with example programs from Release 2.3 (when using verifiable
messages).</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC2.2" name="SEC2.2">78. Series 2.2 Releases</a></h2>

<p>Key features added in the 2.2 series releases:</p>

<ul>
<li>
<p>Microsoft .NET framework support providing APIs for all Visual Studio languages
(including C#, J#, Visual Basic, and Visual C++).</p>
</li>

<li>
<p><a href="../Config/index.html" target="doccontent">LBM Configuration Guide</a> added to
documentation set.</p>
</li>

<li>
<p><tt class="FILENAME">lbmprice.c</tt> added to <a href="../example/index.html"
target="doccontent">examples</a> section. A simulated price source/receiver application
demonstrating new source notification, source/receiver awareness, arrival-order delivery,
differential updates, and hot failover.</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.2.2" name="REL2.2.2">78.1. Release 2.2.2
2006-07-17</a></h3>

<ul>
<li>
<p>Bug fix for the .NET API to handle null callback data argument for source events
(specifically LBM.SRC_LBM_WAKEUP)</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.2.1" name="REL2.2.1">78.2. Release 2.2.1
2006-06-07</a></h3>

<ul>
<li>
<p>Bug fix in lbmmrcv.java.</p>
</li>

<li>
<p>Bug fix in LBT-RU on 64-bit machines.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.2" name="REL2.2">78.3. Release 2.2 2006-05-23</a></h3>

<ul>
<li>
<p>Key features listed above.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC2.1" name="SEC2.1">79. Series 2.1 Releases</a></h2>

<p>Key features added in the 2.1 series releases:</p>

<ul>
<li>
<p>Hot Failover functionality (see API functions <code
class="FUNCTION">lbm_hf_*()</code>).</p>
</li>

<li>
<p>Completion Ports for Windows (see configuration option <code class="PARAMETER">context
fd_management_type</code>).</p>
</li>

<li>
<p>Aggregate Statistics (see API functions <code
class="FUNCTION">lbm_*_retrieve_all_transport_stats()</code>).</p>
</li>

<li>
<p>Additional topic resolution configuration (see options <code class="PARAMETER">context
resolver_maximum_advertisements</code>, <code class="PARAMETER">context
resolver_cache</code> and <code class="PARAMETER">receiver
resolution_number_of_sources_query_threshold</code>).</p>
</li>

<li>
<p>Non-messaging contexts to support timers and I/O synchronization (see API function
<code class="FUNCTION">lbm_context_reactor_only_create()</code>).</p>
</li>

<li>
<p>New API functions to allow access to associated objects (see API functions <code
class="FUNCTION">lbm_context_from_*()</code>, <code
class="FUNCTION">lbm_event_queue_from_*()</code>, and <code
class="FUNCTION">lbm_topic_from_*()</code>).</p>
</li>

<li>
<p>A license key is now required for operation.</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.1.1" name="REL2.1.1">79.1. Release 2.1.1
2006-04-04</a></h3>

<ul>
<li>
<p>Java performance improvements.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.1" name="REL2.1">79.2. Release 2.1 2006-03-17</a></h3>

<ul>
<li>
<p>Key features listed above.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC2.0" name="SEC2.0">80. Series 2.0 Releases</a></h2>

<p>Key features added in the 2.0 series releases:</p>

<ul>
<li>
<p>Added wildcard support.</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0.6EA1" name="REL2.0.6EA1">80.1. Release 2.0.6 EA1
2006-02-16</a></h3>

<ul>
<li>
<p>Added support for 64-bit AIX</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0.5EA2" name="REL2.0.5EA2">80.2. Release 2.0.5 EA2
2006-02-07</a></h3>

<ul>
<li>
<p>Bug fix: thread ID was not being set when lbm_context_process_events() was called</p>
</li>

<li>
<p>Bug fix: lbmpong reported incorrect round-trip times on 64-bit platforms due to a
buffer overflow</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0.5EA1" name="REL2.0.5EA1">80.3. Release 2.0.5 EA1
2006-01-30</a></h3>

<ul>
<li>
<p>Added 64-bit Solaris-10 x86 platform.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0.4" name="REL2.0.4">80.4. Release 2.0.4
2005-01-09</a></h3>

<ul>
<li>
<p>Fixed bug that prevented wildcard receivers from working properly with Event Queues.
The symptom was:</p>

<pre class="SCREEN">
FATAL: failed assertion [msg-&#62;refcnt&#62;=0] ...
</pre>
</li>

<li>
<p>Added Event Queue option to Java lbmwrcv sample application</p>
</li>

<li>
<p>Added liblbmj.a and extracted liblbmj.so.0 for Java support on AIX. This requires J2RE
1.4.2 SR3 or later.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0.3" name="REL2.0.3">80.5. Release 2.0.3
2005-12-14</a></h3>

<ul>
<li>
<p>Fixed Windows bug that occasionally caused the error:</p>

<pre class="SCREEN">
FATAL: failed assertion [mapentry!=NULL] ...
</pre>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0.2" name="REL2.0.2">80.6. Release 2.0.2
2005-12-06</a></h3>

<ul>
<li>
<p>Modified interface scan to find aliased IP addresses on AIX</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0.1EA1" name="REL2.0.1EA1">80.7. Release 2.0.1 EA1
2005-11-14</a></h3>

<p>"Early Access" release.</p>

<ul>
<li>
<p>Added support for RHEL4 on Itanium/ia64</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0" name="REL2.0">80.8. Release 2.0 2005-11-08</a></h3>

<ul>
<li>
<p>Build java.util.Properties semantics into classes implementing configuration
attributes</p>
</li>

<li>
<p>Added <b class="APPLICATION">LBM</b> Start Menu Program Group to Windows
installation</p>
</li>

<li>
<p>Added <tt class="COMMAND">lbmspike</tt> command</p>
</li>

<li>
<p>Clarifications in <tt class="FILENAME">lbm-config.txt</tt> (units given where
appropriate)</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL2.0EA1" name="REL2.0EA1">80.9. Release 2.0 EA1
2005-09-30</a></h3>

<p>"Early Access" release.</p>

<ul>
<li>
<p>Added wildcard support.</p>
</li>

<li>
<p>Extract log4j and java.util.logging references from Java <b
class="APPLICATION">LBM</b> class.</p>
</li>

<li>
<p>Added support for Solaris 10/x86.</p>
</li>

<li>
<p>Added callback that notifies the application when new topics/sources are discovered by
topic resolution (see <code
class="PARAMETER">resolver_source_notification_function</code> in <tt
class="FILENAME">doc/Config/lbm-config.txt</tt> for details).</p>
</li>

<li>
<p><tt class="COMMAND">lbmrd</tt>: added "-i" option and removed "-H" option.</p>
</li>

<li>
<p>Added <tt class="COMMAND">lbmwrcv</tt> example for wildcard usage.</p>
</li>

<li>
<p>Added QuickStart document.</p>
</li>

<li>
<p>Added significant content to Design document.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC1.7" name="SEC1.7">81. Release 1.7 2005-08-23</a></h2>

<ul>
<li>
<p>Add support for Java API using JNI layer</p>
</li>

<li>
<p>Add Source Side Filtering support for TCP transport</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC1.5" name="SEC1.5">82. Series 1.5 Releases</a></h2>

<p>Key features added in the 1.5 series releases:</p>

<ul>
<li>
<p>Added Latency Busters Transport for Reliable Unicast (LBT-RU)</p>
</li>

<li>
<p>Major improvements to example code and documentation</p>
</li>

<li>
<p>Added support for AIX</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.5.1.4" name="REL1.5.1.4">82.1. Release 1.5.1.4
2005-07-11</a></h3>

<ul>
<li>
<p>Minor revisions for AIX</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.5.1.3" name="REL1.5.1.3">82.2. Release 1.5.1.3
2005-07-08</a></h3>

<ul>
<li>
<p>Fixed a bug that broke unicast topic resolution in release 1.5.1.</p>
</li>

<li>
<p>Added support for AIX</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.5.1" name="REL1.5.1">82.3. Release 1.5.1
2005-06-03</a></h3>

<ul>
<li>
<p>Added Latency Busters Transport for Reliable Unicast (LBT-RU)</p>
</li>

<li>
<p>Major improvements to example code:</p>

<ul>
<li>
<p>Added -r flag for easier testing with LBT-RM</p>
</li>

<li>
<p>Added <tt class="COMMAND">lbmresping</tt> for troubleshooting <b
class="APPLICATION">LBM</b> unicast resolver problems</p>
</li>

<li>
<p>Added Makefile (for Windows) and all code needed to compile examples.</p>
</li>

<li>
<p>General cleanup and many comments added</p>
</li>
</ul>
</li>

<li>
<p>Added five new sections to THPM white paper:</p>

<ul>
<li>
<p>Messaging Latency Budget</p>
</li>

<li>
<p>Latency Sources</p>
</li>

<li>
<p>Latency Measurement Overview</p>
</li>

<li>
<p>Measuring CPU Scheduling Latency</p>
</li>

<li>
<p>Measuring CPU Contention Latency</p>
</li>
</ul>
</li>

<li>
<p>Improvements and additions to the FAQ in the Application Notes</p>
</li>

<li>
<p>Added example config files (see <tt class="FILENAME">doc/Config/Examples</tt>) and
moved <tt class="FILENAME">doc/lbm-config.txt</tt> to <tt
class="FILENAME">doc/Config/lbm-config.txt</tt>.</p>
</li>

<li>
<p>Added section to lbm-config that lists the ranges and port usage for TCP/UDP.</p>
</li>

<li>
<p>Changed port ranges for some settings. Changes are:</p>

<div class="INFORMALTABLE"><a id="AEN8339" name="AEN8339"></a>
<table border="1" class="CALSTABLE">
<col />
<col />
<col />
<thead>
<tr>
<th>Ports Used</th>
<th>Old</th>
<th>New</th>
</tr>
</thead>

<tbody>
<tr>
<td>LBT-RM src unicast ports</td>
<td>4390 - 4300</td>
<td>4390 - 4399</td>
</tr>

<tr>
<td>Unicast resolver ports</td>
<td>4401 - 4405</td>
<td>4402 - 4406</td>
</tr>

<tr>
<td>LBT-RM destination port</td>
<td>4380</td>
<td>4400</td>
</tr>

<tr>
<td>TCP transport ports</td>
<td>4380 - 4390</td>
<td>4371 - 4390</td>
</tr>
</tbody>
</table>
</div>
</li>

<li>
<p>Added <code class="PARAMETER">request_tcp_reuseaddr</code> config variable.</p>
</li>

<li>
<p>Fixed an error saving fragment state on platforms that require memory alignment (e.g.
SPARC) that was causing assertion failures with loss.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC1.1" name="SEC1.1">83. Series 1.1 Releases</a></h2>

<p>Key features added in the 1.1 series releases:</p>

<ul>
<li>
<p>Unicast topic resolution</p>
</li>

<li>
<p>Message fragmentation and reassembly</p>
</li>

<li>
<p>Immediate messaging</p>
</li>

<li>
<p>Solaris support</p>
</li>

<li>
<p>Documentation additions and improvements</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.5.2" name="REL1.1.5.2">83.1. Release 1.1.5.2
2005-05-23</a></h3>

<ul>
<li>
<p>Removed check of 0 when setting TTL so that a TTL of 0 can be used for
resolver_multicast_ttl.</p>
</li>

<li>
<p>Fixed an error with creating new receivers when multiple sources are defined already
by the topic. Was leading to assertion failure when cleaning up on receiver deletion.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.5" name="REL1.1.5">83.2. Release 1.1.5
2005-04-05</a></h3>

<ul>
<li>
<p>Added LBM_EVENT_QUEUE_POLL arg to lbm_event_dispatch(). Also added
LBM_EVENT_QUEUE_ENQUEUE_NOTIFICATION monitor function event type. Added
queue_enqueue_notification config option to event queues.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.4.3" name="REL1.1.4.3">83.3. Release 1.1.4.3
2005-03-21</a></h3>

<ul>
<li>
<p>Changed default mim_destination_port to 4401 to avoid the default LBT-RM unicast
source port range.</p>
</li>

<li>
<p>Modified the LBT-RM multicast address range to be 224.10.10.10 to 224.10.10.14.</p>
</li>

<li>
<p>Fixed forwarding of ads via lbmrd so that it fills in fields in the ads that are set
to INADDR_ANY for sources.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.4" name="REL1.1.4">83.4. Release 1.1.4
2005-03-08</a></h3>

<ul>
<li>
<p>Added unicast topic resolution support.</p>
</li>

<li>
<p>Added ability to specify a custom string hash function to use for hash table
manipulation for topics. Added the ability to set the hash table sizes.</p>
</li>

<li>
<p>Added new options:</p>

<ul>
<li>
<p><code class="PARAMETER">resolver_unicast_address</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_unicast_interface</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_unicast_port</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_unicast_port_high</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_unicast_port_low</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_unicast_destination_port</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_unicast_receiver_socket_buffer</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_source_map_tablesz</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_receiver_map_tablesz</code></p>
</li>

<li>
<p><code class="PARAMETER">resolver_string_hash_function</code></p>
</li>
</ul>

<br />
<br />
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.3.1" name="REL1.1.3.1">83.5. Release 1.1.3.1
2005-03-01</a></h3>

<ul>
<li>
<p>Fixed byte ordering issue on destination port for multicast immediate messages.</p>
</li>

<li>
<p>Added ChangeLog, TechPres, and GetStart to Doc package.</p>
</li>

<li>
<p>Moved ReadMe from doc subdirectory to release directory. ReadMe is also now included
in code packages in case they get separated from doc packages.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.3" name="REL1.1.3">83.6. Release 1.1.3
2005-02-28</a></h3>

<ul>
<li>
<p>Added fragmentation/reassembly to handle large messages for senders and responses (not
for immediate messages).</p>
</li>

<li>
<p>Added -V arg to lbmsrc and lbmrcv examples to verify message contents.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.2" name="REL1.1.2">83.7. Release 1.1.2
2005-02-11</a></h3>

<ul>
<li>
<p>Added Solaris support.</p>
</li>

<li>
<p>Separate doc package from binary packages.</p>
</li>

<li>
<p>Doc package contains AppNotes, <b class="APPLICATION">LBM</b> Design, THPM, examples,
and ReadMe.</p>
</li>

<li>
<p>Added <code class="PARAMETER">delivery_control_maximum_burst_loss</code>. Documented
<code class="PARAMETER">delivery_control_loss_tablesz</code> and <code
class="PARAMETER">delivery_control_order_tablesz</code>.</p>
</li>

<li>
<p>Added <tt class="LITERAL">LBM_MSG_UNRECOVERABLE_LOSS_BURST</tt> message type.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.1" name="REL1.1.1">83.8. Release 1.1.1
2005-02-04</a></h3>

<ul>
<li>
<p>Modified storage of topic name in topic structure so that it uses less memory for
small topic names.</p>
</li>

<li>
<p>Added warning to <b class="APPLICATION">LBM</b> API doc for functions that are not
safe to call from context thread callbacks.</p>
</li>

<li>
<p>Added -M I arg to lbmstrm example to have a sender that never stops sending data.
Cleaned up lbmimsg and lbmireq to handle daemon mode operation.</p>
</li>

<li>
<p>Added the usage of ctime_r and localtime_r when available. Fixed error in setting
resolver multicast interface from the setopt() version.</p>
</li>

<li>
<p>Changed default LBT-RM coalesce threshold to 15 to accommodate Solaris iov limitation.
Also, on Solaris, when setting the value, it will not accept a value greater than 15.</p>
</li>

<li>
<p>Added <b class="APPLICATION">LBM</b> daemon support to sending and receiving multicast
immediate messages. Unicast immediate messages go directly to the target bypassing the
daemon.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.1.0.1" name="REL1.1.0.1">83.9. Release 1.1.0.1
2005-01-15</a></h3>

<ul>
<li>
<p>All multicast immediate message config options added.</p>
</li>

<li>
<p>Added basic immediate message support (unicast and multicast).</p>
</li>

<li>
<p>Fixed bug with priorities when TCP sessions dequeue loaded queues.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<hr />
<h2 class="SECTION"><a id="SEC1.0" name="SEC1.0">84. Series 1.0 Releases</a></h2>

<p>Key features in the 1.0 series releases:</p>

<ul>
<li>
<p>"No daemons" direct messaging design</p>
</li>

<li>
<p>Multi-threaded design for high performance/low latency</p>
</li>

<li>
<p>All message routing done in network hardware--not in software</p>
</li>

<li>
<p>Basic messaging API; request/response API</p>
</li>

<li>
<p>Managed Event Queue API; timer API</p>
</li>

<li>
<p>Explicit/Implicit batching of messages</p>
</li>

<li>
<p>Choice of transports: TCP, TCP-LB (latency-bounded TCP), or LBT-RM (latency-bounded
reliable multicast).</p>
</li>

<li>
<p>Automatic/Manual topic to transport mapping</p>
</li>

<li>
<p>Multiple transports per sender</p>
</li>

<li>
<p>Multicast topic resolution</p>
</li>

<li>
<p>Linux/Windows platform support</p>
</li>

<li>
<p>Configuration via API or config file</p>
</li>
</ul>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.0.3" name="REL1.0.3">84.1. Release 1.0.3
2004-12-11</a></h3>

<ul>
<li>
<p>Added latency bounded TCP behavior and <code
class="PARAMETER">transport_tcp_multiple_receiver_behavior</code> option.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.0.2" name="REL1.0.2">84.2. Release 1.0.2
2004-12-06</a></h3>

<ul>
<li>
<p>Fixed stat retrieval on receiver so that it handled multiple sources correctly.</p>
</li>

<li>
<p>Added Windows static library changes. The static <b class="APPLICATION">LBM</b>
library is named lbm_static.lib.</p>
</li>

<li>
<p>Added <code class="PARAMETER">response_tcp_nodelay</code> and <code
class="PARAMETER">response_tcp_deletion_timeout</code> options.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.0.1" name="REL1.0.1">84.3. Release 1.0.1
2004-11-19</a></h3>

<ul>
<li>
<p>Changed the pipe used in notifying fdm so that it is non-blocking on both ends. Helps
to avoid a potential block on write() under some circumstances that can lead to
deadlock.</p>
</li>

<li>
<p>Added <code class="PARAMETER">transport_lbtrm_coalesce_threshold</code> option to help
with memory usage with small messages at the expense of memcpys.</p>
</li>
</ul>
</div>

<div class="SECTION">
<hr />
<h3 class="SECTION"><a id="REL1.0" name="REL1.0">84.4. Release 1.0 2004-10-29</a></h3>

<ul>
<li>
<p>Updated <b class="APPLICATION">LBM</b> Design document.</p>
</li>

<li>
<p>Added retransmit delay ignore information (including statistics) and added handling of
the flag. LBT-RM now ignores after the packet has cleared the retransmit rate control
mechanism instead of before.</p>
</li>

<li>
<p>Added <code class="PARAMETER">transport_tcp_listen_backlog</code> and <code
class="PARAMETER">request_tcp_listen_backlog</code> options.</p>
</li>

<li>
<p>Added <code class="PARAMETER">transport_lbtrm_send_naks</code> option.</p>
</li>

<li>
<p>Added SIGPIPE ignore to a few other examples.</p>
</li>

<li>
<p>Added len checks based on transport for sending. Changed default SO_SNDBUF for TCP on
Windows to be 128000 instead of OS default.</p>
</li>

<li>
<p>Added <tt class="LITERAL">LBM_RESOLVER_LOSS_RATE</tt> environment variable. Added
optional value for initial delay to lbmreq example. Modified lbmresp to take a -E arg to
tell it to exit upon EOS (default is not to).</p>
</li>

<li>
<p>Added retrieval of <code class="PARAMETER">request_tcp_port</code> and display of the
value for lbmreq and lbmmreq examples.</p>
</li>

<li>
<p>Added SIGPIPE ignore to lbmmsrc and added waiting for all threads to finish before
deleting sources.</p>
</li>

<li>
<p>Added changes to example receiver output display.</p>
</li>

<li>
<p>Added stats retrieval functions and structures.</p>
</li>
</ul>
</div>
</div>
</div>

<hr />
<p align="center">Copyright (c) 2004 - 2014 Informatica Corporation. All rights
reserved.</p>
</body>
<script type="text/javascript">highlight();</script>
</html>

