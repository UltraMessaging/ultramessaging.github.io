<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Release UMS 5.2 / UMP 5.2 / UMQ 5.2 - December 2011</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="UMS / UMP / UMQ Change Log" href="index.html" />
<link rel="PREVIOUS" title="Release LBM 4.2.11 / UME 3.2.11 / UMQ 2.1.11 - February 2012"
href="seclbm4.2.11-ume3.2.11-umq2.1.11.html" />
<link rel="NEXT" title="Release UMS 5.1.1 / UMP 5.1.1 / UMQ 5.1.1 - November 2011"
href="secums5.1.1-ump5.1.1-umq5.1.1.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<script type="text/javascript" src="../Search/highlight.js"></script>
</head>
<body class="SECTION" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">UMS / UMP / UMQ Change Log: <span
class="TRADEMARK">Informatica</span>&reg; Corporation</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a
href="seclbm4.2.11-ume3.2.11-umq2.1.11.html" accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="bottom"><a
href="secums5.1.1-ump5.1.1-umq5.1.1.html" accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECTION">
<h1 class="SECTION"><a id="SECUMS5.2-UMP5.2-UMQ5.2" name="SECUMS5.2-UMP5.2-UMQ5.2">12.
Release UMS 5.2 / UMP 5.2 / UMQ 5.2 - December 2011</a></h1>

<div class="SECTION">
<h2 class="SECTION"><a id="UMS5.2" name="UMS5.2">12.1. UMS 5.2</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2-NEW" name="UMS5.2-NEW">12.1.1. New Features</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Off Transport Recovery (OTR) -</b> Provides recovery from brief
unrecoverable loss at the transport level by accessing the source's retention buffer to
re-request messages that no longer exist in a transport's transmission window. See <a
href="../Design/lbm-features.html#OTR" target="doccontent">Off-Transport Recovery
(OTR)</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2-UPDATES" name="UMS5.2-UPDATES">12.1.2. Updates</a></h3>

<ul>
<li>
<p><b class="APPLICATION">UM Gateway Improvements</b></p>

<ul>
<li>
<p>Added additional Web Monitor statistics and changed the display to indicate which
statistics are subsumed into other statistics.</p>
</li>

<li>
<p>Implemented Use Query messages during gateway startup to determine receiver interest.
Use Queries address both topics and wildcard patterns. Receivers respond with
topic/pattern query responses and the gateway registers their interest. Previously,
gateways relied on Topic Resolution Topic Queries and Wildcard Topic Queries which caused
all UM applications to respond, spiking TR traffic. Mixing <b
class="APPLICATION">UM</b>versions results in the old behavior. See <a
href="../Gateway/concepts.html#INTEREST-AND-USE-QUERIES" target="doccontent">Interest and Use
Queries</a>.</p>
</li>

<li>
<p>Implemented keepalives between gateway peer portals. You can configure the interval
between keepalives, the inactivity time after which to consider the companion peer portal
as unresponsive, and whether to send keepalives only when the portal is idle. See <a
href="../Gateway/concepts.html#GATEWAY-KEEPALIVE" target="doccontent">Gateway
Keepalive</a>.</p>
</li>
</ul>
</li>

<li>
<p><b class="APPLICATION">Late Join Improvements -</b> Receivers now begin a Late join
operation by sending a Late Join Initiation Request (LJIR). Sources respond with a Late
Join Information (LJI) message containing updated information about what retained
messages are available for retransmission. This method transmits better high and low
sequence numbers to the receiver. For more see, <a
href="../Design/lbm-features.html#USING-LATE-JOIN" target="doccontent">Using Late Join</a>.</p>
</li>

<li>
<p><b class="APPLICATION">ZOD source events -</b> Implemented Zero Object Delivery (ZOD)
feature for Java and .NET receivers and sources. See <a
href="../Design/design.html#ZOD-RECEIVER" target="doccontent">Zero Object Delivery
(ZOD)</a>.</p>
</li>

<li>
<p>Changed the name of the hash function, <b class="APPLICATION">default</b> to <b
class="APPLICATION">classic</b> in both <b class="APPLICATION">UMS</b> and the UM
Gateway. The value <tt class="LITERAL">default</tt> is not supported and results in an
error.</p>
</li>

<li>
<p>Added <code class="FUNCTION">lbm_set_lbtrm_src_loss_rate()</code> and <code
class="FUNCTION">lbm_set_lbtru_src_loss_rate()</code> in the <a href="../API/index.html"
target="doccontent">C API</a> to set an RM and RU source packet loss rate for testing
purposes.</p>
</li>

<li>
<p>Added the configuration option, <a
href="../Config/transportaccelerationoptions.html#CONTEXTRESOLVERUDACCELERATION"
target="doccontent"><tt class="LITERAL">resolver_ud_acceleration</tt></a> to disable
Accelerated Multicast for Topic Resolution. By default, Topic Resolution will no longer
be accelerated unless you set this option to 1.</p>
</li>

<li>
<p>Optimized the delivery of <tt class="LITERAL">LBMMessage</tt> objects when using the
.NET API.</p>
</li>

<li>
<p>Increased the maximum size of all <b class="APPLICATION">UM</b> Web Monitor pages to 1
MB. The previous limit was 64K.</p>
</li>

<li>
<p>Updated all receiving sample applications to print the same transport statistics
previously provided by <tt class="LITERAL">lbmrcv</tt>. This includes loss statistics in
the bandwidth format <tt class="LITERAL">[loss, burst loss, unrecovered]</tt> and
retransmission statistics in the bandwidth format <tt class="LITERAL">-RX-
num_rx_msgs</tt>.</p>
</li>

<li>
<p>Added several new <code class="FUNCTION">LBMSource.send()</code> methods to the <a
href="../JavaAPI/html/index.html" target="doccontent">Java API</a> that accept a direct
ByteBuffer, a starting offset, and a length as parameters. Sends using a direct
ByteBuffer can be slightly more efficient than sends from a byte[] array in some
cases.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2-FIXES" name="UMS5.2-FIXES">12.1.3. Bug Fixes</a></h3>

<ul>
<li>
<p>Resolved the Known Issue: <span class="emphasis"><i class="EMPHASIS">When using the UM
Gateway in a failover configuration using LBT-RDMA, if the gateways experience multiple
failures, receivers may experience deafness (unable to discovers sources).</i></span> Now
when using LBT-RDMA through the UM Gateway, a receiver can successfully failover from one
path to another when there are multiple paths.</p>
</li>

<li>
<p>Resolved the Known Issue: <span class="emphasis"><i class="EMPHASIS">The UM Gateway
does not currently support responses that exceed the maximum datagram
size.</i></span></p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that resulted in an incorrect number of Use
Queries. The number of Use Queries now matches the configured number.</p>
</li>

<li>
<p>Fixed a problem bug that occurred if a new application connects via the same LBT-RU
<tt class="LITERAL">ip:port</tt> used by a recent application and <a
href="../Config/majoroptions.html#SOURCETRANSPORTSOURCESIDEFILTERINGBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_source_side_filtering_behavior</tt></a> is
enabled, the new application could receive messages in which it is uninterested.</p>
</li>

<li>
<p>Corrected a problem that could cause an assert if an application joins an LBT-RU
transport session that was previously joined by an application on the same <tt
class="LITERAL">ip:port</tt>.</p>
</li>

<li>
<p>Corrected a Topic Resolution problem that occurred when using different <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTINCOMINGPORT"
 target="doccontent"><tt class="LITERAL">resolver_multicast_incoming_port</tt></a> and <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTOUTGOINGPORT"
 target="doccontent"><tt class="LITERAL">resolver_multicast_outgoing_port</tt></a> but the same
<a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTINCOMINGADDRESS"
 target="doccontent"><tt class="LITERAL">resolver_multicast_incoming_address</tt></a> and <a
href="../Config/multicastresolvernetworkoptions.html#CONTEXTRESOLVERMULTICASTOUTGOINGADDRESS"
 target="doccontent"><tt class="LITERAL">resolver_multicast_outgoing_address</tt></a>. As a
result, queries could be suppressed which leads to receiver deafness.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that resulted in gateways continuing to
forward messages on topics for which remote interest no longer exists. Gateways now stop
forwarding these messages after the configured timeout.</p>
</li>

<li>
<p>Corrected a problem that removed commas from configuration option values if the
options were set with an XML configuration file.</p>
</li>

<li>
<p>Fixed a problem on AIX that prevented Event Queues from holding more than 32K of items
and events.</p>
</li>

<li>
<p>Fixed an issue with the Java API that caused application headers to be removed from an
<tt class="LITERAL">LBMMessage</tt> when delivered to multiple callbacks on a machine
with memory alignment.</p>
</li>

<li>
<p>Corrected a problem with XML configuration files that resulted in a parse error when
the element &lt;options&#62; did not contain a child element.</p>
</li>

<li>
<p>Fixed a problem with Source Side Filtering that could result in a fatal assert when
using Multithreaded Transports (MTT). The fatal assertion was removed since with MTT, a
NULL resolver pointer is an acceptable condition.</p>
</li>

<li>
<p>Corrected a problem with XML configurations that prevented the full range of values
for certain configuration options from being specified under allow or deny rules,
depending on the platform used. The full range of values can now be specified for all
platforms.</p>
</li>

<li>
<p>Corrected the <b class="APPLICATION">UM</b> C sample applications to be able to parse
rate limits greater than 32 bits set on the command line.</p>
</li>

<li>
<p>Fixed several problems that could cause an LBM application to crash if it received
various types of malformed or unexpected packets.</p>
</li>

<li>
<p>Experimental licenses for UD Acceleration and LBT-RDMA are no longer reported as
invalid.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that could cause loss to be reported for
messages sent by a source on one side of the gateway prior to the creation of a receiver
on the other side.</p>
</li>

<li>
<p>Corrected a problem with .NET <b class="APPLICATION">UM</b> initialization that could
result in <span class="TRADEMARK">Microsoft</span>&reg; <span
class="TRADEMARK">Windows</span>&reg; socket APIs being invoked prior to calling <tt
class="LITERAL">WSAStartup</tt>.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that resulted in a retransmission being sent
more than once to a receiver when multiple paths exist from a source to the receiver and
late join was enabled.</p>
</li>

<li>
<p>Resolved an issue with the UM Gateway that resulted in a core dump in receiving
applications when forwarding a message containing message properties.</p>
</li>

<li>
<p>Corrected a problem that arose from creating Wildcard Receivers with the same pattern
but different <a
href="../Config/wildcardreceiveroptions.html#WILDCARDRECEIVERPATTERNTYPE"
target="doccontent"><tt class="LITERAL">pattern_types</tt></a>. <b class="APPLICATION">UM</b>
now supports identical patterns with different types in Topic Resolution and across the
UM Gateway.</p>
</li>

<li>
<p>Corrected a problem with the UM Gateway that occurred when using <b
class="APPLICATION">UMP</b> across multiple gateway hops. Restarting one of the gateways
resulted in receiver deafness.</p>
</li>

<li>
<p>Corrected a problem that occurred when creating and canceling timers that use event
queues. <b class="APPLICATION">UM</b> cancelled the wrong timer if it was already
dispatched to the event queue.</p>
</li>

<li>
<p>Corrected a problem that occurred when receiving a message containing message
properties with ZOD enabled in Java could result in a <tt
class="LITERAL">java.lang.IllegalArgumentException</tt> or a <tt
class="LITERAL">java.nio.BufferUnderflowException</tt>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2-KNOWNISSUES" name="UMS5.2-KNOWNISSUES">12.1.4. Known
Issues</a></h3>

<ul>
<li>
<p>When using the <a href="../Design/lbm-objects.html#LBT-IPC-RESOURCE-MANAGER"
target="doccontent">LBT-IPC Resource Manager</a> tool to view the currently allocated IPC
transport sessions, the Session ID is presented in the reverse byte order from what is
given to the application via the source string.</p>
</li>

<li>
<p>Hot Failover is not currently supported with Multi-Transport Threads.</p>
</li>

<li>
<p>Configuring sources with LBT-RU, source-side filtering, and adaptive batching may
cause a crash. All three options must be set to cause the problem. Informatica is working
to address this issue.</p>
</li>

<li>
<p>When using the UM Gateway Informatica recommends that you <b class="APPLICATION">do
not</b> enable the Multi-Transport Threads feature. Informatica does not support nor test
the operation of Multi-Transport Threads across the UM Gateway.</p>
</li>

<li>
<p>Multi-Transport Threads do not support persistent stores (<b
class="APPLICATION">UMP</b>) or queues (<b class="APPLICATION">UMQ</b>).</p>
</li>

<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior.
Informatica is investigating this issue.</p>
</li>

<li>
<p>Sending LBT-IPC messages larger than 65,535 bytes is not supported when <a
href="../Config/majoroptions.html#RECEIVERORDEREDDELIVERY" target="doccontent"><tt
class="LITERAL">ordered_delivery</tt></a> has been set to 0 (zero) unless you set <a
href="../Config/transportlbt-ipcoperationoptions.html#SOURCETRANSPORTLBTIPCBEHAVIOR"
target="doccontent"><tt class="LITERAL">transport_lbtipc_behavior</tt></a> to <tt
class="LITERAL">receiver_paced</tt>.</p>
</li>

<li>
<p>When using the LBT-RDMA transport with Java applications, a segfault can occur if you
kill a receiver with <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>. As a workaround,
use the JVM option, <tt class="LITERAL">-Xrs</tt>. Informatica is investigating this
problem.</p>
</li>

<li>
<p>If you use the current version of VMS (3.2.8), <b class="APPLICATION">UMS</b> 4.1
issues the following warning: <tt class="LITERAL">LOG Level 5: LBT-RDMA: VMS Logger
Message (Error): vmss_create_store: 196[E] vms_listen: rdma_bind_addr failed (r=-1)</tt>.
This warning indicates that <tt class="LITERAL">rdma_bind</tt> failed for ethernet
interfaces, which is expected behavior. Currently, VMS attempts <tt
class="LITERAL">rdma_bind</tt> on all interfaces. When released, VMS version 3.2.9 will
only run <tt class="LITERAL">rdma_bind</tt> on infiniband-capable interfaces.</p>
</li>

<li>
<p>When using <a href="../Config/automaticmonitoringoptions.html" target="doccontent"><tt
class="LITERAL">Automatic Monitoring</tt></a> with <a
href="../Config/transportaccelerationoptions.html#CONTEXTUDACCELERATION"
target="doccontent"><tt class="LITERAL">ud_acceleration</tt></a> and the epoll file descriptor
option, <b class="APPLICATION">UMS</b> may leave a monitoring thread running after
context deletion. Informatica is investigating this problem.</p>
</li>

<li>
<p>At the present time, 32-bit applications cannot interact with 64-bt applications using
the LBT-IPC transport. As a result, a 64-bit UM Gateway cannot interact with a 32-bit
application using LBT-IPC. It can only interact with a 64-bit application. Likewise, a
32-bit UM Gateway can only interact with a 32-bit application.</p>
</li>

<li>
<p>The UM Gateway does not currently support gateway failover, MIM, persistence, queuing,
JMS, or Ultra Load Balancing. Gateway support of these features is in development.</p>
</li>

<li>
<p>The UM Gateway is not supported as a standalone Windows service at this time. This
will be resolved in a future release.</p>
</li>

<li>
<p>The UM Gateway does not currently support a four gateway "full-mesh" configuration
(i.e., all gateways connected).</p>
</li>

<li>
<p>If using LBT-RDMA across the UM Gateway and you exit the gateway with <b
class="KEYCAP">Ctrl</b>-<b class="KEYCAP">C</b>, you may see a segfault. Informatica is
aware of this and has not observed any ill effects from this segfault.</p>
</li>

<li>
<p>Informatica recommends against configuring UM Gateways in a ring of peer portals - use
configurations utilizing gateway endpoints (parallel paths) to break the ring.</p>
</li>

<li>
<p>Informatica recommends not stopping and restarting UM Gateways within the transport's
activity timeout period (<tt class="LITERAL">transport_*_activity_timeout</tt> defaults
to 60 seconds for LBTRU and LBTRM).</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMS5.2-INCOMPATIBILITIES"
name="UMS5.2-INCOMPATIBILITIES">12.1.5. Version Compatibilities</a></h3>

<ul>
<li>
<p>Although <b class="APPLICATION">UMS</b> 5.0 applications should run well with <b
class="APPLICATION">LBM</b> 4.2 UM Gateways, all Gateways should always run the same
version.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<h2 class="SECTION"><a id="UMP5.2" name="UMP5.2">12.2. UMP 5.2</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMP5.2-NEW" name="UMP5.2-NEW">12.2.1. New Features</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Liveness Detection -</b> Implemented the ability to track the
"liveness" of a receiver application. See <a
href="../UME/designing-persistent-applications.html#RECEIVER-LIVENESS-DETECTION"
target="doccontent">Receiver Liveness Detection</a></p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMP5.2-UPDATES" name="UMP5.2-UPDATES">12.2.2. Updates</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Ultra Messaging Manager (UMM) Improvements</b></p>

<ul>
<li>
<p><b class="APPLICATION">One-time Table Update</b> - Existing <b
class="APPLICATION">UMM</b> users must run a one-time script to update your database
tables. Please run <tt class="FILENAME">UMM/update_mysql_tables.sql</tt> to change the
constraints on the application table. Also the file, <tt
class="FILENAME">UMM/templates.txt</tt> has been renamed to <tt
class="FILENAME">UMM/mysql_templates.txt</tt>.</p>
</li>

<li>
<p>Added JDBC Support for the <b class="APPLICATION">UMM</b> database. You can now use an
<span class="TRADEMARK">Oracle</span>&reg; database or a <span
class="TRADEMARK">MySQL</span>&#8482; database. See <a
href="../UMM/umm-daemon.html#UMM-DB" target="doccontent">Configuring the UMM Database</a>.</p>
</li>

<li>
<p>Implemented SSL encryption between the UMM Daemon and UM applications. See <a
href="../UMM/umm-daemon.html#UMM-SSL" target="doccontent">Securing UMM Daemon Communication
with SSL</a>.</p>
</li>
</ul>
</li>

<li>
<p><b class="APPLICATION">Clean Shutdown -</b> The <b class="APPLICATION">UMP</b> store
and <b class="APPLICATION">UMQ</b> queue daemon (<tt class="LITERAL">umestored</tt>) now
support a <b class="APPLICATION">clean</b> shutdown mode. See <a
href="../UME/umestored-manpage.html" target="doccontent">umestored</a>.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMP5.2-FIXES" name="UMP5.2-FIXES">12.2.3. Bug Fixes</a></h3>

<ul>
<li>
<p>Fixed a problem that allowed <b class="APPLICATION">UMP</b> proxy sources to steal
Registration IDs from an active source. <b class="APPLICATION">UMP</b> stores now ignore
registration requests from proxy sources while the store is still registered with an
active source.</p>
</li>

<li>
<p>Corrected a problem when setting the configuration option, <a
href="../Config/ultramessagingpersistenceoptions.html#SOURCEUMESESSIONID"
target="doccontent"><tt class="LITERAL">ume_session_id</tt></a> with a hexadecimal value. <b
class="APPLICATION">UM</b> now correctly parses any valid hexadecimal value specified for
this option.</p>
</li>

<li>
<p>Removed the <b class="KEYCAP">Ctrl</b>-<b class="KEYCAP">z</b> keyboard accelerator on
the exit menu of the <b class="APPLICATION">UMM</b> GUI.</p>
</li>

<li>
<p>Fixed a Persistence problem caused by network loss of messages, followed by a timeout
and subsequent re-registration of the source, which lead to messages being unrecoverably
lost without notification to the receiver. Unrecoverable loss is now correctly
reported.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMP5.2-KNOWNISSUES" name="UMP5.2-KNOWNISSUES">12.2.4. Known
Issues</a></h3>

<ul>
<li>
<p>A <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>, may
crash if you enable proxy sources and the daemon is configured with a very restrictive
port range, ( <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTLOW"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a> - <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMSOURCEPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>, <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTLOW"
target="doccontent"><tt class="LITERAL">transport_tcp_port_low</tt></a> - <a
href="../Config/transporttcpnetworkoptions.html#CONTEXTTRANSPORTTCPPORTHIGH"
target="doccontent"><tt class="LITERAL">transport_tcp_port_high</tt></a>, etc.). Informatica
recommends that you use a wide port range (at least 1000 ports) in your <b
class="APPLICATION">UM</b> configuration file if you enable proxy sources for <tt
class="LITERAL">umestored</tt>. Informatica is investigating this problem.</p>
</li>

<li>
<p>The <b class="APPLICATION">UMP</b> store daemon, <tt class="LITERAL">umestored</tt>,
stops persisting messages to disk if the store has a loss condition which is not resolved
prior to an EOS event. As a workaround, Informatica recommends that you enable <tt
class="LITERAL">receiver</tt> <a
href="../Config/deliverycontroloptions.html#RECEIVERDELIVERYCONTROLLOSSCHECKINTERVAL"
target="doccontent"><tt class="LITERAL">delivery_control_loss_check_interval</tt></a> <tt
class="LITERAL">2500</tt> in the <b class="APPLICATION">UM</b> configuration file, not
the <tt class="LITERAL">umestored</tt> XML configuration file. The value of 2500 assumes
the default <tt class="LITERAL">*_nak_generaltion_interval</tt>. See <a
href="../Config/grouprelated.html#PREVENTUNDETECTEDLOSS2" target="doccontent">Preventing
Undetected Loss</a> for more information. Informatica is investigating this problem.</p>
</li>

<li>
<p>If a source application stops and you restart it before the receiving application
declares the EOS event, the receiving application does not send a new keepalive message.
The source requires a keepalive message in order to declare a receiver "alive."
Informatica is investigating this problem.</p>
</li>

<li>
<p>Receivers using event queues and Spectrum with <b class="APPLICATION">UMP</b> can
experience a SIGSEGV while shutting down if events still exist on the event queue when it
is deleted. As a workaround, use LBM_EVQ_BLOCK when dispatching event queues. During
application shutdown, call <tt class="LITERAL">lbm_evq_unblock()</tt> after deleting
receivers associated with the event queue, but before deleting any context objects. Once
the dispatch thread exits, it is safe to proceed with context deletion. Informatica is
working on a solution to this problem.</p>
</li>

<li>
<p>When running a store on a Solaris machine, you may experience registration failures
after a few minutes. The store repeatedly reports the error, <tt
class="LITERAL">[WARNING]: wait returned error 4 [select: (22) Invalid argument]</tt>.
Changing <a href="../Config/majoroptions.html#CONTEXTFDMANAGEMENTTYPE" target="doccontent"><tt
class="LITERAL">fd_management_type</tt></a> to <tt class="LITERAL">devpoll</tt> prevents
this problem. Informatica is investigating this problem.</p>
</li>

<li>
<p><b class="APPLICATION">UMP</b> proxy source elections can only occur among stores in
the same topic resolution domain connected directly via peer links. Informatica is
investigating this problem.</p>
</li>
</ul>
</div>
</div>

<div class="SECTION">
<h2 class="SECTION"><a id="UMQ5.2" name="UMQ5.2">12.3. UMQ 5.2</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="UMQ5.2-UPDATES" name="UMQ5.2-UPDATES">12.3.1. Updates</a></h3>

<ul>
<li>
<p><b class="APPLICATION">Ultra Messaging Manager (UMM) Improvements -</b> Added <b
class="APPLICATION">UMM</b> GUI support for JMS applications. See <a
href="../UMM/umm-gui.html#UMMGUI-JMS" target="doccontent">Creating JMS Configurations</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Additional Ultra Messaging JMS XML Configuration Format -</b>
Added the ability to configure Ultra Messaging JMS using the same XML format used by the
<b class="APPLICATION">UMM</b> GUI. The original <tt
class="LITERAL">&lt;JMSConfig&#62;</tt> format is still valid. See <a
href="../jms_concepts/umjms-config.html" target="doccontent">Ultra Messaging JMS
Configuration</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Queue Status -</b> Implemented the <b
class="APPLICATION">UMQ</b> SINC Log Tool for comparison and analysis of <b
class="APPLICATION">UMQ</b> log files. See <a href="../UME/umqsltool.html"
target="doccontent">umqsltool</a>.</p>
</li>

<li>
<p><b class="APPLICATION">Index Reservation API -</b> Added <code
class="FUNCTION">lbm_rcv_umq_index_reserve()</code> in the <a href="../API/index.html"
target="doccontent">C API</a> for <b class="APPLICATION">UMQ</b> and ULB receivers to reserve
specific indices for future assignment. This API can be used for indexed queueing and
indexed ULB.</p>
</li>

<li>
<p>Added the configuration options, <a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYRECEIVERCREATIONDELAY"
target="doccontent"><tt class="LITERAL">RECEIVER_CREATION_DELAY</tt></a>, <a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYSOURCECREATIONDELAY"
target="doccontent"><tt class="LITERAL">SOURCE_CREATION_DELAY</tt></a>, and <a
href="../Config/ultramessagingjmsoptions.html#CONNECTIONFACTORYSOURCEREGISTRATIONTIMEOUT"
target="doccontent"><tt class="LITERAL">SOURCE_REGISTRATION_TIMEOUT</tt></a>, to handle source
and receiver creation options. These options should always be used in uppercase in a <b
class="APPLICATION">UM</b> configuration file.</p>
</li>

<li>
<p>Improved the performance of Ultra Messaging JMS internal logging code in source event
callbacks.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMQ5.2-FIXES" name="UMQ5.2-FIXES">12.3.2. Bug Fixes</a></h3>

<ul>
<li>
<p>Fixed a problem that caused the <b class="APPLICATION">UMQ</b> queue daemon (<tt
class="LITERAL">umestored</tt>) to access free'd memory.</p>
</li>

<li>
<p>Fixed a problem with the reception of large messages (usually 8k or larger) that
included message properties by JMS and Java receivers. These receivers can now handle
large messages with message properties.</p>
</li>

<li>
<p>Corrected a problem that prevented Registration IDs from being set correctly for some
JMS destinations.</p>
</li>

<li>
<p>Removed the trimming of the message payload for JMS <tt
class="LITERAL">TextMessages</tt>. Now, JMS does not trim any characters from <tt
class="LITERAL">TextMessage</tt> strings.</p>
</li>

<li>
<p>Fixed a problem that resulted in application headers used for Indexed Queuing and
Message Lifetimes being created incorrectly. Previously, either Indexed Queuing and
Message Lifetimes were usable separately but not simultaneously. Now both are available
provided you use Version 5.2 of both the <b class="APPLICATION">UM</b> library and the
Queue (<tt class="LITERAL">umestored</tt>).</p>
</li>

<li>
<p>Fixed an issue that could cause <b class="APPLICATION">UMQ</b> receivers to go deaf to
a queue if the queue was killed and restarted rapidly after the receiver finished
registration.</p>
</li>

<li>
<p>Corrected a problem that may have caused transactions across Sessions to adversely
affect each other. An internal list of sources is now in the Session object.</p>
</li>

<li>
<p>Fixed an issue with Ultra Messaging JMS that prevented the JMS message id from being
set correctly when ULB was specified in the source attributes.</p>
</li>

<li>
<p>Corrected a problem with Ultra Messaging JMS that prevented a message acknowledgement
if the session was set to CLIENT_ACKNOWLEDGE mode.</p>
</li>

<li>
<p>Corrected a timing problem in Ultra Messaging JMS that could result in the receiver
being closed before the last message was acknowledged.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="UMQ5.2-KNOWNISSUES" name="UMQ5.2-KNOWNISSUES">12.3.3. Known
Issues</a></h3>

<ul>
<li>
<p>The <b class="APPLICATION">UM</b> configuration file specified for a queue cannot also
contain source attributes for a store such as, <tt class="LITERAL">source ume_store
127.0.0.1:14567</tt> or <tt class="LITERAL">source ume_store_name NYstore2</tt>.</p>
</li>

<li>
<p>When using multiple sending threads, a Queue (<tt class="LITERAL">umestored</tt>) can
deadlock. As a workaround, Informatica suggests that you specify only a single sending
thread. Note that 1 sending thread is the current default.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="seclbm4.2.11-ume3.2.11-umq2.1.11.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="secums5.1.1-ump5.1.1-umq5.1.1.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Release LBM 4.2.11 / UME 3.2.11 / UMQ 2.1.11 -
February 2012</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Release UMS 5.1.1 / UMP 5.1.1 / UMQ 5.1.1 -
November 2011</td>
</tr>
</table>
</div>

<p align="center">Copyright (c) 2004 - 2014 Informatica Corporation. All rights
reserved.</p>
</body>
<script type="text/javascript">highlight();</script>
</html>

