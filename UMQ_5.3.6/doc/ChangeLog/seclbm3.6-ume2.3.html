<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org" />
<title>Release LBM 3.6 - December 2009</title>
<meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79" />
<link rel="HOME" title="UMS / UMP / UMQ Change Log" href="index.html" />
<link rel="PREVIOUS" title="Release LBM 3.6.1 - February 2010" href="seclbm3.6.1.html" />
<link rel="NEXT" title="Release UME 2.2.4 - November 2009" href="ume2.2.4.html" />
<link rel="STYLESHEET" type="text/css" href="docbook.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<script type="text/javascript" src="../Search/highlight.js"></script>
</head>
<body class="SECTION" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#840084"
alink="#0000FF">
<div class="NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">UMS / UMP / UMQ Change Log: <span
class="TRADEMARK">Informatica</span>&reg; Corporation</th>
</tr>

<tr>
<td width="10%" align="left" valign="bottom"><a href="seclbm3.6.1.html"
accesskey="P">Prev</a></td>
<td width="80%" align="center" valign="bottom"></td>
<td width="10%" align="right" valign="bottom"><a href="ume2.2.4.html"
accesskey="N">Next</a></td>
</tr>
</table>

<hr align="LEFT" width="100%" />
</div>

<div class="SECTION">
<h1 class="SECTION"><a id="SECLBM3.6-UME2.3" name="SECLBM3.6-UME2.3">40. Release LBM 3.6
- December 2009</a></h1>

<div class="SECTION">
<h2 class="SECTION"><a id="LBM3.6" name="LBM3.6">40.1. LBM 3.6</a></h2>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6-NEW" name="LBM3.6-NEW">40.1.1. New Features</a></h3>

<ul>
<li>
<p>Implemented arrival order reassembly when message fragments are received out of
order.</p>
</li>

<li>
<p>Added support for wildcard receivers to the LBM Gateway. See the LBM Gateway
documentation for more information.</p>
</li>

<li>
<p>Added the source configuration option, <a
href="../Config/latejoinoptions.html#SOURCERETRANSMITRETENTIONAGETHRESHOLD"
target="doccontent"><tt class="LITERAL">retransmit_retention_age_threshold</tt></a>, to allow
age-based message reclamation from a source's late join retention buffer.</p>
</li>

<li>
<p>Modified the configuration option, <a
href="../Config/transportlbt-rmnetworkoptions.html#SOURCETRANSPORTLBTRMDESTINATIONPORT"
target="doccontent"><tt class="LITERAL">transport_lbtrm_destination_port</tt></a>, to also
determine when <b class="APPLICATION">LBM</b> should create a unique LBT-RM transport
session. Previously, only the LBT-RM Multicast Address as defined by <a
href="../Config/transportlbt-rmnetworkoptions.html#SOURCETRANSPORTLBTRMMULTICASTADDRESS"
target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address</tt></a> (source), <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMMULTICASTADDRESSHIGH"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_high</tt></a>
(context) and/or <a
href="../Config/transportlbt-rmnetworkoptions.html#CONTEXTTRANSPORTLBTRMMULTICASTADDRESSLOW"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_multicast_address_low</tt></a>
(context) was used to determine unique transport sessions.</p>
</li>

<li>
<p>Increased the maximum value for <a
href="../Config/majoroptions.html#CONTEXTTRANSPORTDATAGRAMMAXSIZE" target="doccontent"><tt
class="LITERAL">transport_datagram_max_size</tt></a> to 65535 bytes. This enables large
messages to be fragmented into larger fragments reducing the number of system calls per
message.</p>
</li>

<li>
<p>Added a LBM Gateway log message that indicates if a user requested a Gateway shutdown
(<tt class="LITERAL">[timestamp] Shutdown event detected. Attempting to
shutdown.</tt>).</p>
</li>

<li>
<p>Added version and package information to the Java <b class="APPLICATION">LBM</b> jar
file. Also added an initialization-time warning if the Java <b
class="APPLICATION">LBM</b> jar file and <tt class="LITERAL">lbmj</tt> native library
versions are not compatible.</p>
</li>

<li>
<p>Added the configuration option, <a
href="../Config/resolveroperationoptions.html#CONTEXTRESOLVERDATAGRAMMAXSIZE"
target="doccontent"><tt class="LITERAL">resolver_datagram_max_size</tt></a> to control the
maximum datagram size that can be generated for topic resolution advertisements and
queries.</p>
</li>

<li>
<p>Enabled the <tt class="LITERAL">callback_events</tt> statistics (See <a
href="seclbm3.6ea1-ume3.0ea1.html#LBM3-6EA1-NEW"><i>LBM 3.6ea1 New Features</i></a>) to
be understood by a LBMMON monitor receiver. Also enabled these statistics in all LBMMON
example applications, the <b class="APPLICATION"><span class="TRADEMARK">Ultra
Messaging</span>&reg;</b> <b class="APPLICATION">MIB</b> and the InterMapper probe
files.</p>
</li>

<li>
<p>Modified the <b class="APPLICATION">LBM</b> Topic Structure, returned from <tt
class="LITERAL">lbm_rcv_topic_lookup()</tt> or <tt
class="LITERAL">lbm_src_topic_allocate()</tt>, so that it uses less memory.</p>
</li>

<li>
<p>Replaced certain locks on Solaris Sparc with atomic instructions to increase
performance.</p>
</li>

<li>
<p>Added the ability to change a wildcard receiver's attributes using <tt
class="LITERAL">lbm_wildcard_rcv_attr_setopt()</tt>. The <b
class="APPLICATION">29West</b> Configuration Option, <a
href="../Config/wildcardreceiveroptions.html#WILDCARDRECEIVERRESOLVERQUERYMAXINTERVAL"
target="doccontent"><tt class="LITERAL">resolver_query_max_interval</tt></a> can now be set
during operation.</p>
</li>

<li>
<p>Increased the maximum number of LBM message fragments that can be sent in a single
socket send call from 16 to 1024 for Solaris and AIX. This should provide a significant
throughput increase for small message sizes when batching is enabled.</p>
</li>

<li>
<p>Added the source configuration option, <a
href="../Config/transporttcpoperationoptions.html#SOURCETRANSPORTTCPCOALESCETHRESHOLD"
target="doccontent"><tt class="LITERAL">transport_tcp_coalesce_threshold</tt></a> that
configures the maximum number of <b class="APPLICATION">LBM</b> message fragments sent in
a single socket socket send call without coalescing.</p>
</li>

<li>
<p>Added the environment variable, LBM_CONTEXT_DELAY_WARNING_THRESHOLD, which specifies
in milliseconds a context thread delay threshold. If a context thread is delayed for a
time greater than the threshold, <b class="APPLICATION">LBM</b> logs a warning
message.</p>
</li>

<li>
<p>Corrected a race condition that could occur if a source was sending while another
source was joining or leaving the same transport session.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6-FIXES" name="LBM3.6-FIXES">40.1.2. Bug Fixes</a></h3>

<ul>
<li>
<p>Fixed a problem that occurred when using LBM_MSG_COMPLETE_BATCH or LBM_MSG_END_BATCH
flag with <tt class="LITERAL">lbm_src_sendv()</tt>. This combination resulted in an error
return (-1) with the error string "Explicit Batch not started".</p>
</li>

<li>
<p>Corrected a problem with high resolution timers used to perform microsecond
measurements which could cause some Event Queue statistics, such as the <tt
class="LITERAL">age_max</tt> statistic to report huge values. This correction results in
a zero being returned instead of a negative value in the event that an ending timestamp
is earlier than a beginning timestamp.</p>
</li>

<li>
<p>Corrected a problem with using TCP_NODELAY that caused a request response to fail. <b
class="APPLICATION">LBM</b> now sets TCP_NODELAY before the TCP connection call.</p>
</li>

<li>
<p>Corrected a problem with Late Join that caused a delay if a source no longer had a
requested message available in its Late Join retention buffer. The delay no longer
occurs.</p>
</li>

<li>
<p>Corrected a problem with <b class="APPLICATION">LBM</b> Spectrum wildcard receivers
that caused them to crash if they were created with a NULL topic attributes object and <a
href="../Config/deliverycontroloptions.html#RECEIVERUNRECOGNIZEDCHANNELBEHAVIOR"
target="doccontent"><tt class="LITERAL">unrecognized_channel_behavior</tt></a> or <a
href="../Config/deliverycontroloptions.html#RECEIVERNULLCHANNELBEHAVIOR"
target="doccontent"><tt class="LITERAL">null_channel_behavior</tt></a> were set to <tt
class="LITERAL">discard</tt> in a <b class="APPLICATION">29West</b> Configuration File.
This was specified as a <a
href="seclbm3.6ea2-ume3.0ea2.html#LBM3.6EA2-KNOWNISSUES"><i>LBM 3.6ea2 Known
Issues</i></a>.</p>
</li>

<li>
<p>Corrected a problem with wildcard receivers in Java that prevented them from being
garbage collected. Global references for the internal <tt
class="LITERAL">onReceiverDelete</tt> callback are now released, allowing garbage
collection of the Java wildcard receivers.</p>
</li>

<li>
<p>Corrected a problem with the <tt class="LITERAL">LBMSDMArray*</tt> classes and the <tt
class="LITERAL">LBMSDMFieldIterator</tt> class in both Java and .NET.</p>
</li>

<li>
<p>Fixed an incorrect pointer reference in the internal Java function that creates a
receiver. This was required because topic attributes have been changed to pointers in <b
class="APPLICATION">LBM</b> 3.6.</p>
</li>

<li>
<p>Fixed a memory leak that could occur when creating a receiver using the Java API
without setting per-source callbacks.</p>
</li>

<li>
<p>Corrected a second memory leak that could occur when creating a receiver using the
Java API without specifying receiver attributes.</p>
</li>

<li>
<p>Modified the configuration options <a
href="../Config/transportlbt-rmoperationoptions.html#SOURCETRANSPORTLBTRMCOALESCETHRESHOLD"
 target="doccontent"><tt class="LITERAL">transport_lbtrm_coalesce_threshold</tt></a> and <a
href="../Config/transportlbt-ruoperationoptions.html#SOURCETRANSPORTLBTRUCOALESCETHRESHOLD"
 target="doccontent"><tt class="LITERAL">transport_lbtru_coalesce_threshold</tt></a> so their
maximum values correspond to platform-specific maximums.</p>
</li>

<li>
<p>Adjusted handling of LBT-RM NAK backoff timers to improve performance in heavy loss
scenarios.</p>
</li>
</ul>
</div>

<div class="SECTION">
<h3 class="SECTION"><a id="LBM3.6-KNOWNISSUES" name="LBM3.6-KNOWNISSUES">40.1.3. Known
Issues</a></h3>

<ul>
<li>
<p>When using Event Queues with the Java API on Mac OS X kernel 9.4, core dumps have
occurred. Mac OS X kernel versions prior to 9.4 have not produced this behavior. <b
class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>Shutting down a source-side LBM Gateway with Control-C can cause the Gateway to become
dead locked. <b class="APPLICATION">29West</b> is investigating this issue.</p>
</li>

<li>
<p>If a source LBM Gateway was shutdown and then the receiving Gateway was shutdown as
quickly as possible while still carrying traffic, a fatal assert occurs. (<tt
class="LITERAL">MUL_FATAL_ASSERT(Table!=NULL);</tt>) <b class="APPLICATION">29West</b> is
investigating this issue.</p>
</li>

<li>
<p>With <b class="APPLICATION">LBM</b> 3.6 we have seen increased memory utilization in
varying degrees across all platforms. This increase can be mitigated by the use of
SmartHeap. <b class="APPLICATION">29West</b> is working to decrease this memory
utilization.</p>
</li>

<li>
<p>When turning on Automatic Monitoring, be sure that your application does not have any
existing <tt class="LITERAL">lbmmon</tt> monitoring capability active. Using both
Automatic Monitoring and <tt class="LITERAL">lbmmon</tt> functions results in confusion
with internal monitoring fields and pointers. This issue will be addressed in a future
release.</p>
</li>
</ul>
</div>
</div>
</div>

<div class="NAVFOOTER">
<hr align="LEFT" width="100%" />
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="seclbm3.6.1.html"
accesskey="P">Prev</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Home</a></td>
<td width="33%" align="right" valign="top"><a href="ume2.2.4.html"
accesskey="N">Next</a></td>
</tr>

<tr>
<td width="33%" align="left" valign="top">Release LBM 3.6.1 - February 2010</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Release UME 2.2.4 - November 2009</td>
</tr>
</table>
</div>

<p align="center">Copyright (c) 2004 - 2014 Informatica Corporation. All rights
reserved.</p>
</body>
<script type="text/javascript">highlight();</script>
</html>

