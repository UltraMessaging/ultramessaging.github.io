<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <meta name="keywords" content="UMP Store,umestored,file descriptors,CPU usage,reduced-fd repository type,Latency,UM Monitoring,Application logs,UDP buffers,memory usage,CPU usage,network activity" />
    <title>Monitoring Messaging System Resources</title>
    <link rel="StyleSheet" href="css/GUID-A5236314-8998-420A-876C-97EB134F2283.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  	<script type="text/javascript" src="../Search/highlight.js"></script>
</head>
  <body style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:11px" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <a class="WebWorks_Breadcrumb_Link" href="GUID-A5236314-8998-420A-876C-97EB134F2283.1.3.html#3_5_12_1">Monitoring UM Statistics, Logs and Daemons</a> &gt; Monitoring Messaging System Resources</div>
    <hr align="left" />
    <blockquote>
      <div class="Heading_1"><a name="3_5_12_1">Monitoring Messaging System Resources</a></div>
      <div class="Short_Description"><a name="3_5_12_2">In addition to monitoring UM activity, you must also consider the health and activity of your system resources.</a></div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_3_2_2"> CPU usage</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_3_2_4">Memory Usage</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_3_2_6"> (netstat -s)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_3_2_8">Latency</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_3_2_10">UDP buffers</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="3_5_12_3_4">Informatica recommends periodic checks of system resources that employ </a>. It is one of the most authoritative logs you can look at to see how your system is behaving. For example, running a daily or weekly sanity check on the percentage of topic-resolution traffic to data traffic can be very useful.</div>
      <div class="Heading_2"><a name="3_5_12_6_1">UMP Store System Considerations</a></div>
      <div class="Short_Description"><a name="3_5_12_6_2">Consider the following system issues regarding UMP Store monitoring.</a></div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_6_4_2_2">Make sure that the environment in which a UMP Store daemon (umestored) is started has enough available file descriptors for the number of sources in your environment. UM uses a minimum of 2 file descriptors per UM source in addition to normal UM file descriptors for transports and other objects. You can use </a><span class="Keyword">ulimit</span> in Linux and <span class="Italic">Process Explorer</span> on <span class="Trademark__0028reg_0029">Microsoft</span><span class="Trademark__0028reg_0029">®</span> <span class="Trademark__0028reg_0029">Windows</span><span class="Trademark__0028reg_0029">®</span> to monitor file handles.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="note_1"><b class="Bold"><a name="3_5_12_6_4_2_2_13">Note:  </a></b>The <span class="Keyword">reduced-fd</span> repository type uses 5 File Descriptors for the entire store, regardless of the number of topics, in addition to normal UM file descriptors for transports and other objects. Use of this repository type may impact performance.</div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_6_4_2_4">Monitor system resources (CPU usage, memory, disk space, wait%, memory swapping.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_6_4_2_6">If the system is about to start swapping, your resources are insufficient for the required system performance. Reconfiguration and/or additional resources will be required.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Heading_2"><a name="3_5_12_8_1">Sources of Latency</a></div>
      <div class="Short_Description"><a name="3_5_12_8_2">The following are common sources of latency.</a></div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_8_4_2_2">Loss and recovery</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_8_4_2_4">Slow receivers</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_8_4_2_6">Wildcard receivers with overly broad interest patterns</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_8_4_2_8">High resource utilization</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_8_4_2_10">'Busy' applications - messages backed up in event queues. Your UM Development Team can tell you if your UM applications use event queues.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Heading_2"><a name="3_5_12_10_1">Runtime Diagnostics</a></div>
      <div class="Short_Description"><a name="3_5_12_10_2">Use the following to validate a healthy system.</a></div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_10_4_2_2">UM monitoring metrics are active as a sign of liveness</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_10_4_2_4">Pre-defined thresholds are not breached in the monitoring systems</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_10_4_2_6">Application logs are clear of errors/warnings</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_10_4_2_8">Required processes are running i.e. </a><span class="Keyword">lbmrd</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_10_4_2_10">General system resources are within pre-defined bounds i.e. CPU, memory, network stats (specific to the applications)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_1_inner" style="width: 18pt; white-space: nowrap;">
                <img src="bullet1.bmp" alt="*" border="0" width="7" height="7" />
              </div>
            </td>
            <td width="100%">
              <div class="List_1_inner"><a name="3_5_12_10_4_2_12">Operating system e.g. UDP buffers for loss detection</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="3_5_12_10_4_4">Use the following to validate the system is operating within acceptable limits.</a></div>
      <div class="Numbered_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_1_inner" style="width: 18pt; white-space: nowrap;">1. </div>
            </td>
            <td width="100%">
              <div class="Numbered_1_inner"><a name="3_5_12_10_4_6_2">Monitor memory usage and growth over time.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_2_5_2">Applications with increasing memory could indicate a future problem</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_2_5_4">Could indicate apps are misconfigured for required scalability</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_2_5_6">Event queue growth (also UM metrics)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_2_5_8">Theoretical memory limits for 32-bit/64-bit processes, dependent on OS and language choice.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_1_inner" style="width: 18pt; white-space: nowrap;">2. </div>
            </td>
            <td width="100%">
              <div class="Numbered_1_inner"><a name="3_5_12_10_4_6_4">Spikes in CPU usage across multiple systems indicate a system wide event and could be an indication of a "crybaby" receiver causing source retransmissions or a rogue wildcard receiver.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_1_inner" style="width: 18pt; white-space: nowrap;">3. </div>
            </td>
            <td width="100%">
              <div class="Numbered_1_inner"><a name="3_5_12_10_4_6_6">Monitor network activity across the environment.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_6_5_2">Switch failures / unplugged cable</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_6_5_4">Network Interface Card (NIC) failures</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_6_5_6">Symptoms of NIC bonding failure</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="List_2_outer" style="margin-left: 18pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="List_2_inner" style="width: 18pt; white-space: nowrap;">- </div>
            </td>
            <td width="100%">
              <div class="List_2_inner"><a name="3_5_12_10_4_6_6_5_8">Significant changes in overall network traffic could indicate a problem such as loss (discussed later)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_1_inner" style="width: 18pt; white-space: nowrap;">4. </div>
            </td>
            <td width="100%">
              <div class="Numbered_1_inner"><a name="3_5_12_10_4_6_8">Look for correlated activity. Do CPU spikes and network spikes lead or lag each other?</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_1_inner" style="width: 18pt; white-space: nowrap;">5. </div>
            </td>
            <td width="100%">
              <div class="Numbered_1_inner"><a name="3_5_12_10_4_6_10">Build thresholds based on an established business as usual (BAU) baseline.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Numbered_1_outer" style="margin-left: 0pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Numbered_1_inner" style="width: 18pt; white-space: nowrap;">6. </div>
            </td>
            <td width="100%">
              <div class="Numbered_1_inner"><a name="3_5_12_10_4_6_12">These diagnostics and UM metrics could indicate a general problem with the applications, network or underlying hardware.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <br />
    <hr align="left" />
    <table align="right" summary="" cellpadding="0" cellspacing="0">
      <tr>
        <td>
          <div style="text-align: right; font-size: 12px;font-weight: bold;font-family:Verdana, Arial, Helvetica, sans-serif;color:#000066;">Informatica Corporation</div>
        </td>
      </tr>
      <tr>
        <td>
          <div align="right" style="line-height:1.4em;text-align: right;font-size: 10px;font-family:Verdana, Arial, Helvetica, sans-serif">
            <a href="http://mysupport.informatica.com" target="_blank">http://mysupport.informatica.com</a>
          </div>
        </td>
      </tr>
    </table>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
<script type="text/javascript">highlight();</script>
</html>
